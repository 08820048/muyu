<!DOCTYPE html>
<html lang="en" data-theme="light" dir="ltr">
  <head>
    <title>æ¸¸æˆç®—æ³•åŸºç¡€-æ·±å…¥è§£æA*å¯»è·¯ç®—æ³• - å…«å°ºå¦–å‰‘</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="è¯¦ç»†ä»‹ç»A*å¯»è·¯ç®—æ³•,åŒ…æ‹¬ä»£ä»·å‡½æ•°ã€å¯å‘å¼å‡½æ•°ã€æœç´¢æµç¨‹ç­‰æ ¸å¿ƒæ¦‚å¿µã€‚"/>

    <meta property="og:title" content="å…«å°ºå¦–å‰‘ -&nbsp;æ¸¸æˆç®—æ³•åŸºç¡€-æ·±å…¥è§£æA*å¯»è·¯ç®—æ³•" />
    <meta property="og:type" content="website"/><meta property="og:url" content="https:&#x2F;&#x2F;ilikexff.cn&#x2F;you-xi-suan-fa-ji-chu-a-xun-lu-suan-fa-chi-xu-wei-hu&#x2F;"/><meta property="og:description" content="è¯¦ç»†ä»‹ç»A*å¯»è·¯ç®—æ³•,åŒ…æ‹¬ä»£ä»·å‡½æ•°ã€å¯å‘å¼å‡½æ•°ã€æœç´¢æµç¨‹ç­‰æ ¸å¿ƒæ¦‚å¿µã€‚"/>


    <meta name="twitter:card" content="summary">


    <link rel="stylesheet" href="https://ilikexff.cn/spectre/spectre.css">
    <link rel="stylesheet" href="https://ilikexff.cn/theme.css"><link rel="stylesheet" href="https://ilikexff.cn/custom.css">
    
<link rel="shortcut icon" href="https://ilikexff.cn/./assets/bachiico.ico" type="image/x-icon" />
        
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script>
        function doRenderMath() {
            renderMathInElement(document.body, {
                delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\(", right: "\\)", display: false},
                {left: "\\begin{equation}", right: "\\end{equation}", display: true},
                {left: "\\begin{align}", right: "\\end{align}", display: true},
                {left: "\\begin{alignat}", right: "\\end{alignat}", display: true},
                {left: "\\begin{gather}", right: "\\end{gather}", display: true},
                {left: "\\begin{CD}", right: "\\end{CD}", display: true},
                {left: "\\[", right: "\\]", display: true}
                ]
            });
        }
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="doRenderMath()"></script>

      </head>
  <body id="top" class="sticky-footer"><div id="page-wrapper">
<header id="header" class="section">
  <section class="container grid-xl">
    <nav class="navbar">
      <section class="navbar-section">
        
<a class="site-logo" href="https:&#x2F;&#x2F;ilikexff.cn">
  
  <div class="col-mx-auto">
    <figure style="margin: 8px">
      <img class="img-responsive"
           style="max-height: 45px"
           alt="frontmatter image"
           src="https://ilikexff.cn/./assets/logo.png">
    </figure>
  </div>
  
</a>

      </section><!-- ./home button -->

      <section class="navbar-center hide-md"></section>

      <section class="navbar-section">
        <nav class="dropmenu animated hide-md">

<ul><li>
        <a href="https://ilikexff.cn/tags">æ ‡ç­¾</a>
    </li><li>
        <a href="https://ilikexff.cn/categories">åˆ†ç±»</a>
    </li><li>
        <a href="https://ilikexff.cn/about">å…³äº</a>
    </li></ul>


          </nav>
      </section><!-- ./desktop-menu -->
    </nav>
  </section><!-- ./container -->
</header>


<div class="mobile-menu">
  <div class="button_container" id="toggle" onclick="openOverlay()">
    <span class="top"></span>
    <span class="middle"></span>
    <span class="bottom"></span>
  </div>
</div><!--./mobile-menu-->


<section id="start"><section id="body-wrapper" class="section">
          <section class="container grid-xl">
<div id="breadcrumbs" itemtype="http://schema.org/BreadcrumbList" class="hide-sm">
  
    
    <span><a href="https:&#x2F;&#x2F;ilikexff.cn&#x2F;">Home</a></span>
  
    <span><a href="https:&#x2F;&#x2F;ilikexff.cn&#x2F;you-xi-suan-fa-ji-chu-a-xun-lu-suan-fa-chi-xu-wei-hu&#x2F;">æ¸¸æˆç®—æ³•åŸºç¡€-æ·±å…¥è§£æA*å¯»è·¯ç®—æ³•</a></span>
</div>
<div class="columns">
              <div id="item" class="column col-8 col-md-12 extra-spacing">
<div class="card">
  

    <div class="card-header">
      <div class="card-title" style="margin-top: .25rem;"><div>
          <h1 class="post-title">æ¸¸æˆç®—æ³•åŸºç¡€-æ·±å…¥è§£æA*å¯»è·¯ç®—æ³•</h1>
          
    <div class="post-meta" style="display: inline-flex">
        <span class="blog-date" style="display: inline-flex;">
          <i class="gg-calendar" style="margin-right: 5px;"></i><time datetime="2024.12.15">
          2024.12.15
          </time></span><span class="post-author" style="margin-left: 5px; display: inline-flex;">
          - 
    å…«å°ºå¦–å‰‘
        </span></div>

        </div></div>
    </div><!--./card-header-->

    <div class="card-body">
      
        <blockquote>
<p>åœ¨å¼€å§‹é˜…è¯»ä¹‹å‰,æœ¬æ–‡é˜¿å©†ä¸»é»˜è®¤ä½ å·²ç»æŒæ¡æˆ–è€…äº†è§£ä»¥ä¸‹æ”¯æ’‘å†…å®¹:</p>
<ul>
<li>
<p>ç©è¿‡æ¸¸æˆ</p>
</li>
<li>
<p>ä¹°èœç”¨çš„æ•°å­¦</p>
</li>
<li>
<p>å›¾è®ºåŸºç¡€(æ·±åº¦ã€å¹¿åº¦ã€Dijkstra)</p>
</li>
<li>
<p>C++ç¼–ç¨‹</p>
</li>
<li>
<p>éè‰²ç›²é€‰æ‰‹</p>
</li>
</ul>
</blockquote>
<h2 id="suan-fa-jian-jie">ç®—æ³•ç®€ä»‹<a class="zola-anchor" href="#suan-fa-jian-jie" aria-label="Anchor link for: suan-fa-jian-jie">ğŸ”—</a></h2>
<p><strong>A*å¯»è·¯ç®—æ³•</strong>æ˜¯ä¸€ç§åœ¨å›¾å½¢å¹³é¢ä¸Šå¯»æ‰¾<strong>æœ€çŸ­è·¯å¾„</strong>çš„æœ‰æ•ˆæ–¹æ³•ã€‚å®ƒè¢«å¹¿æ³›åº”ç”¨äºæ¸¸æˆå¼€å‘ã€è·¯å¾„è§„åˆ’ã€æœºå™¨äººå¯¼èˆªç­‰é¢†åŸŸã€‚</p>
<p>å’Œä¸€äº›å…¶ä»–çš„æœ€çŸ­è·¯å¾„æœå¯»ç®—æ³•ä¸åŒ,Aæ˜Ÿç®—æ³•æ˜¯ä¸€ç§å¯å‘å¼çš„æœç´¢ç®—æ³•,é€šè¿‡è¯„ä¼°æ¯ä¸ªèŠ‚ç‚¹çš„ä»£ä»·æ¥é€‰æ‹©æœ€ä¼˜è·¯å¾„ã€‚Aæ˜Ÿç»“åˆäº†çŸ¥åçš„<code>Dijkstra</code>ç®—æ³•å’Œè´ªå¿ƒç®—æ³•çš„ä¼˜ç‚¹,å› æ­¤è¢«å¹¿æ³›çš„åº”ç”¨åœ¨å„ä¸ªé¢†åŸŸ,å°¤å…¶æ˜¯æ¸¸æˆå¼€å‘ä¸­,å¯¹äºæ¸¸æˆä¸­AIè§’è‰²æˆ–è€…NPCè§’è‰²ä»¥åŠä¸€äº›è‡ªåŠ¨å¯»è·¯åŠŸèƒ½çš„å¼€å‘ä¸­æ›´æ˜¯å¸¸å®¢ã€‚</p>
<hr />
<h2 id="suan-fa-he-xin-gai-nian">ç®—æ³•æ ¸å¿ƒæ¦‚å¿µ<a class="zola-anchor" href="#suan-fa-he-xin-gai-nian" aria-label="Anchor link for: suan-fa-he-xin-gai-nian">ğŸ”—</a></h2>
<p>å¯¹äºAæ˜Ÿçš„æ ¸å¿ƒ,è¿™é‡Œä¸»è¦è®²ä¸€ä¸‹å…¶ä¸­çš„ä¸¤ä¸ªæ ¸å¿ƒå‡½æ•°,ä¸€æ˜¯ä»£ä»·å‡½æ•°,ç¬¬äºŒåˆ™æ˜¯å¯å‘å¼å‡½æ•°ã€‚</p>
<h3 id="dai-jie-han-shu-f-n-g-n-h-n">ä»£ä»·å‡½æ•°$f(n) = g(n) + h(n)$<a class="zola-anchor" href="#dai-jie-han-shu-f-n-g-n-h-n" aria-label="Anchor link for: dai-jie-han-shu-f-n-g-n-h-n">ğŸ”—</a></h3>
<ul>
<li>$g(n)$:ä»èµ·ç‚¹åˆ°å½“å‰èŠ‚ç‚¹$n$çš„å®é™…ä»£ä»·,ä¹Ÿå°±æ˜¯å·²ç»èµ°è¿‡çš„é‚£éƒ¨åˆ†è·¯å¾„ã€‚ </li>
<li>$h(n)$:ä»$n$åˆ°ç›®æ ‡ç‚¹çš„å¯å‘å¼ä¼°è®¡ä»£ä»·(ä½¿ç”¨å¯å‘å‡½æ•°è®¡ç®—å¾—åˆ°çš„è·ç¦»)ã€‚</li>
<li>$f(n)$:ä»£ä»·è¯„ä¼°å‡½æ•°,ä¹Ÿå³æ˜¯$g(n) + h(n)$çš„å€¼,å†³å®šäº†æœç´¢çš„ä¼˜å…ˆçº§ã€‚</li>
</ul>
<p><img src="https://images.waer.ltd/notes/202503181309987.png" alt="1" /></p>
<h3 id="qi-fa-shi-han-shu">å¯å‘å¼å‡½æ•°<a class="zola-anchor" href="#qi-fa-shi-han-shu" aria-label="Anchor link for: qi-fa-shi-han-shu">ğŸ”—</a></h3>
<p>å¯å‘å¼å‡½æ•°ï¼ˆHeuristic Functionï¼‰æ˜¯ä¸€ç§ç”¨äºå¼•å¯¼æœç´¢ç®—æ³•çš„æ–¹æ³•ï¼Œé€šè¿‡ä¼°è®¡å½“å‰çŠ¶æ€åˆ°ç›®æ ‡çŠ¶æ€çš„æœ€ä¼˜ä»£ä»·ï¼Œå¸®åŠ©ç®—æ³•æ›´é«˜æ•ˆåœ°æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚å®ƒé€šå¸¸ç”¨äº<strong>å¯å‘å¼æœç´¢</strong>ï¼ˆå¦‚ A* ç®—æ³•ã€è´ªå¿ƒæœç´¢ï¼‰ä¸­ï¼Œä»¥å‡å°‘æœç´¢ç©ºé—´ï¼Œæé«˜æœç´¢æ•ˆç‡ã€‚</p>
<p>åœ¨è·¯å¾„æœç´¢æˆ–çŠ¶æ€ç©ºé—´æœç´¢ä¸­ï¼Œå¯å‘å¼å‡½æ•°ç”¨äºè¯„ä¼°ä¸€ä¸ªçŠ¶æ€çš„â€œä¼˜è¶Šæ€§â€æˆ–â€œæ¥è¿‘ç›®æ ‡çš„ç¨‹åº¦â€ï¼Œä»è€Œå¸®åŠ©ç®—æ³•ä¼˜å…ˆæ¢ç´¢å¯èƒ½æ›´ä¼˜çš„è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œåœ¨ A* ç®—æ³•ä¸­ï¼Œå¯å‘å¼å‡½æ•°ç”¨äºä¼°è®¡ä»å½“å‰èŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚</p>
<h4 id="chang-jian-de-qi-fa-shi-han-shu">å¸¸è§çš„å¯å‘å¼å‡½æ•°<a class="zola-anchor" href="#chang-jian-de-qi-fa-shi-han-shu" aria-label="Anchor link for: chang-jian-de-qi-fa-shi-han-shu">ğŸ”—</a></h4>
<p><strong>1. æ¬§å‡ é‡Œå¾—è·ç¦»ï¼ˆEuclidean Distanceï¼‰</strong></p>
<p>$h(n) = \sqrt{(x_{\text{goal} } - x_n)^2 + (y_{\text{goal} } - y_n)^2}$</p>
<blockquote>
<p>æ¬§å‡ é‡Œå¾—è·ç¦»è®¡ç®—çš„æ˜¯ä¸¤ç‚¹ä¹‹é—´çš„ç›´çº¿æœ€çŸ­è·ç¦»ï¼Œé€‚ç”¨äº<strong>è¿ç»­ç©ºé—´</strong>ï¼ˆå¦‚3Dä¸–ç•Œï¼‰æˆ–è€…å…è®¸<strong>å¯¹è§’çº¿è‡ªç”±ç§»åŠ¨</strong>çš„ç¯å¢ƒã€‚</p>
</blockquote>
<p><strong>2.æ›¼å“ˆé¡¿è·ç¦»ï¼ˆManhattan Distanceï¼‰</strong></p>
<p>$h(n) = |x_{\text{goal} } - x_n| + |y_{\text{goal} } - y_n|$</p>
<blockquote>
<p>é€‚ç”¨äºåªèƒ½æ°´å¹³æˆ–è€…å‚ç›´ç§»åŠ¨çš„ç¯å¢ƒ,æ¯”å¦‚æ£‹ç›˜ç½‘æ ¼çŠ¶çš„åœ°å›¾ä¸­,å¸¸è§çš„å¦‚è¿·å®«ç±»æ¸¸æˆã€‚</p>
</blockquote>
<p><strong>3.åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼ˆChebyshev Distanceï¼‰</strong></p>
<p>$h(n) = \max(|x_{\text{goal} } - x_n|, |y_{\text{goal} } - y_n|)$</p>
<blockquote>
<p>ä¸€èˆ¬ç”¨äºå…è®¸å¯¹è§’çº¿ç§»åŠ¨çš„å…«æ–¹å‘ç½‘æ ¼åœ°å›¾ä¸­ã€‚ </p>
</blockquote>
<p><strong>ä¸‹é¢æ˜¯è¿™ä¸‰ç§å¸¸è§å‡½æ•°çš„å¯¹æ¯”æ€»ç»“</strong>:</p>
<table><thead><tr><th>å¯å‘å¼å‡½æ•°</th><th>é€‚ç”¨åœºæ™¯</th><th>é€‚ç”¨æ¸¸æˆç±»å‹</th><th>å…·ä½“æ¸¸æˆç¤ºä¾‹</th></tr></thead><tbody>
<tr><td><strong>æ¬§å‡ é‡Œå¾—è·ç¦»</strong></td><td>è¿ç»­ç©ºé—´ï¼Œé€‚ç”¨äº<strong>è‡ªç”±ç§»åŠ¨</strong>çš„ 3D ä¸–ç•Œ</td><td>FPSã€å¼€æ”¾ä¸–ç•Œã€RTSã€é©¾é©¶æ¸¸æˆ</td><td>GTA 5ã€ä½¿å‘½å¬å”¤ã€æ˜Ÿé™…äº‰éœ¸ 2</td></tr>
<tr><td><strong>æ›¼å“ˆé¡¿è·ç¦»</strong></td><td>ç½‘æ ¼åœ°å›¾ï¼Œ<strong>åªèƒ½æ°´å¹³ / å‚ç›´ç§»åŠ¨</strong></td><td>2D åƒç´ é£ã€å›åˆåˆ¶ RPGã€æˆ˜æ£‹</td><td>ç«ç„°çº¹ç« ã€åšå¾·ä¹‹é—¨ 3ã€å‹‡è€…æ–—æ¶é¾™</td></tr>
<tr><td><strong>åˆ‡æ¯”é›ªå¤«è·ç¦»</strong></td><td><strong>å…è®¸å¯¹è§’çº¿ç§»åŠ¨</strong>çš„ç½‘æ ¼åœ°å›¾</td><td>æˆ˜ç•¥æ¸¸æˆã€æ£‹ç›˜ç±»ã€ç”Ÿå­˜æ¸¸æˆ</td><td>å›½é™…è±¡æ£‹ã€é­”å…½äº‰éœ¸ 3ã€æš—é»‘ç ´åç¥ 2</td></tr>
</tbody></table>
<p>ä¸ºäº†æ–¹ä¾¿ç†è§£,å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜,åç»­çš„ç¤ºä¾‹éƒ½æ˜¯åŸºäº <strong>æ›¼å“ˆé¡¿è·ç¦»</strong>ä½œä¸ºå¯å‘å¼å‡½æ•°æ¥è®²è§£çš„ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­,å‡è®¾å­˜åœ¨ä¸‹é¢è¿™æ ·ä¸€ä¸ªåœ°å›¾,å…¶ä¸­å›¾äºŒæ˜¯å›¾ä¸€çš„æ•°ç»„åŒ–å½¢å¼,é€»è¾‘ä¸Šä»–ä»¬æ˜¯ç­‰æ•ˆçš„:</p>
<p><img src="https://images.waer.ltd/notes/202503181347197.png" alt="image-20250318134713119" /></p>
<p>ä¸‹é¢æ˜¯å…¶ä¸­ä¸€æ¡æœ€ä¼˜è·¯å¾„çš„å›¾ç¤º:ä»<code>(0,0)</code>å‡ºå‘åˆ°è¾¾<code>(3,3)</code></p>
<p><img src="https://images.waer.ltd/notes/202503181507389.png" alt="image-20250318150755239" /></p>
<p>å¯¹äºä¸Šé¢çš„ç½‘æ ¼åœ°å›¾æ¥è¯´,å¦‚æœæ˜¯å¯å‘å¼å‡½æ•°åŸºäº <strong>æ›¼å“ˆé¡¿è·ç¦»</strong>çš„æƒ…å†µä¸‹,è¯¥ç¤ºä¾‹çš„$g(n),h(n),f(n)$çš„è®¡ç®—ç»“æœå¦‚ä¸‹:</p>
<table><thead><tr><th><strong>ä½ç½® (x,y)</strong></th><th><strong>G(n) (è·¯å¾„ä»£ä»·)</strong></th><th><strong>H(n) (æ›¼å“ˆé¡¿)</strong></th><th><strong>F(n) = G(n) + H(n)</strong></th></tr></thead><tbody>
<tr><td><strong>(0,0) (èµ·ç‚¹)</strong></td><td>0</td><td><strong>6</strong> (3+3)</td><td>6</td></tr>
<tr><td><strong>(0,1)</strong></td><td>1</td><td><strong>5</strong> (3+2)</td><td>6</td></tr>
<tr><td><strong>(1,1)</strong></td><td>2</td><td><strong>4</strong> (3+1)</td><td>6</td></tr>
<tr><td><strong>(1,2)</strong></td><td>3</td><td><strong>3</strong> (3+0)</td><td>6</td></tr>
<tr><td><strong>(1,3)</strong></td><td>4</td><td><strong>2</strong> (2+0)</td><td>6</td></tr>
<tr><td><strong>(2,3)</strong></td><td>5</td><td><strong>1</strong> (1+0)</td><td>6</td></tr>
<tr><td><strong>(3,3) (ç»ˆç‚¹)</strong></td><td>6</td><td><strong>0</strong> (0+0)</td><td>6</td></tr>
</tbody></table>
<blockquote>
<p><strong>çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…</strong>,å»ºè®®ä½ æå‡ºå‹ç®±åº•çš„<strong>ç¨¿çº¸</strong>å’Œåƒåœ¾æ¡¶é‡Œçš„<strong>2B</strong>,è‡ªå·±æ¨¡æ‹Ÿè®¡ç®—æ‰€éœ€çš„ä»£ä»·å‡½æ•°,å¼ºåŒ–ç†è§£ã€‚</p>
</blockquote>
<p>æ³¨æ„,ä¸ºäº†èŠ‚çœç¯‡å¹…,è¿™é‡Œåˆ—å‡ºçš„åªæ˜¯å…¶ä¸­ä¸€æ¡å¯è¡Œçš„è·¯å¾„,å°±è¿™ä¸ªç¤ºä¾‹åœ°å›¾æ¥è¯´,å¯èƒ½å­˜åœ¨å¤šä¸ªæœ€ä¼˜çš„é€‰æ‹©,å¹¶ä¸å”¯ä¸€ã€‚ </p>
<hr />
<h2 id="a-suan-fa-dai-ma-shi-xian-c">A*ç®—æ³•ä»£ç å®ç°(C++)<a class="zola-anchor" href="#a-suan-fa-dai-ma-shi-xian-c" aria-label="Anchor link for: a-suan-fa-dai-ma-shi-xian-c">ğŸ”—</a></h2>
<p>ç†è§£äº†Aæ˜Ÿçš„åŸºæœ¬åŸç†ä¹‹å,æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨C++å®ç°ä¸€ä¸ªAæ˜Ÿçš„åŸºæœ¬ç®—æ³•æµç¨‹ã€‚</p>
<p><strong>0.ç›¸å…³å¤´æ–‡ä»¶</strong></p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">vector</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">queue</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">cmath</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">unordered_map</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">algorithm</span><span>&gt;
</span></code></pre>
<hr />
<h3 id="1-nodejie-gou"><strong>1. Nodeç»“æ„</strong><a class="zola-anchor" href="#1-nodejie-gou" aria-label="Anchor link for: 1-nodejie-gou">ğŸ”—</a></h3>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#586e75;">// èŠ‚ç‚¹ç»“æ„ä½“
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Node </span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#268bd2;">int</span><span> x, y;       </span><span style="color:#586e75;">// åæ ‡
</span><span>    </span><span style="color:#268bd2;">float</span><span> g, h;     </span><span style="color:#586e75;">// g: ä»èµ·ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„ä»£ä»·, h: å¯å‘å¼ä¼°ä»·
</span><span>    Node</span><span style="color:#859900;">*</span><span> parent;   </span><span style="color:#586e75;">// çˆ¶èŠ‚ç‚¹æŒ‡é’ˆ, ç”¨äºå›æº¯è·¯å¾„
</span><span>
</span><span>    </span><span style="color:#b58900;">Node</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int x</span><span>, </span><span style="color:#268bd2;">int y</span><span>, </span><span style="color:#268bd2;">float g</span><span>, </span><span style="color:#268bd2;">float h</span><span>, Node</span><span style="color:#859900;">* </span><span style="color:#268bd2;">parent </span><span style="color:#657b83;">= </span><span style="color:#b58900;">nullptr</span><span style="color:#657b83;">)
</span><span>        : </span><span style="color:#268bd2;">x</span><span style="color:#657b83;">(</span><span>x</span><span style="color:#657b83;">)</span><span>, </span><span style="color:#268bd2;">y</span><span style="color:#657b83;">(</span><span>y</span><span style="color:#657b83;">)</span><span>, </span><span style="color:#268bd2;">g</span><span style="color:#657b83;">(</span><span>g</span><span style="color:#657b83;">)</span><span>, </span><span style="color:#268bd2;">h</span><span style="color:#657b83;">(</span><span>h</span><span style="color:#657b83;">)</span><span>, </span><span style="color:#268bd2;">parent</span><span style="color:#657b83;">(</span><span>parent</span><span style="color:#657b83;">) {}
</span><span>
</span><span>    </span><span style="color:#268bd2;">float </span><span style="color:#b58900;">f</span><span style="color:#657b83;">() </span><span style="color:#859900;">const </span><span style="color:#657b83;">{ </span><span style="color:#859900;">return</span><span> g </span><span style="color:#657b83;">+</span><span> h; </span><span style="color:#657b83;">} </span><span style="color:#586e75;">// è®¡ç®—æ€»ä»£ä»· f = g + h
</span><span style="color:#657b83;">}</span><span>;
</span></code></pre>
<blockquote>
<ul>
<li>
<p>gï¼šä»èµ·ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„ <strong>çœŸå®ä»£ä»·</strong>ï¼ˆæ­¥æ•°ï¼‰ã€‚</p>
</li>
<li>
<p>hï¼šå½“å‰èŠ‚ç‚¹åˆ°ç›®æ ‡ç‚¹çš„ <strong>ä¼°ç®—ä»£ä»·</strong>ï¼ˆå¯å‘å¼å‡½æ•°ï¼‰ã€‚</p>
</li>
<li>
<p>f = g + hï¼šæ€»ä»£ä»·ï¼ŒA* æ€»æ˜¯ä¼˜å…ˆé€‰æ‹© f æœ€å°çš„èŠ‚ç‚¹ã€‚</p>
</li>
</ul>
</blockquote>
<hr />
<p><strong>2.å®šä¹‰<code>Compare</code>ç»“æ„ä½“</strong></p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#586e75;">// ä¼˜å…ˆé˜Ÿåˆ—æ¯”è¾ƒå™¨, ä½¿å¾— f å€¼è¾ƒå°çš„èŠ‚ç‚¹ä¼˜å…ˆå‡ºé˜Ÿ
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Compare </span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#268bd2;">bool </span><span style="color:#b58900;">operator()</span><span style="color:#657b83;">(</span><span style="color:#859900;">const</span><span> Node</span><span style="color:#859900;">* </span><span style="color:#268bd2;">a</span><span>, </span><span style="color:#859900;">const</span><span> Node</span><span style="color:#859900;">* </span><span style="color:#268bd2;">b</span><span style="color:#657b83;">) {
</span><span>        </span><span style="color:#859900;">return</span><span> a-&gt;</span><span style="color:#b58900;">f</span><span style="color:#657b83;">() &gt;</span><span> b-&gt;</span><span style="color:#b58900;">f</span><span style="color:#657b83;">()</span><span>;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span></code></pre>
<blockquote>
<p>ç”±äºä¼˜å…ˆé˜Ÿåˆ—<code>priority_queue</code>é»˜è®¤æ˜¯ <strong>å¤§é¡¶å †(æœ€å¤§å€¼ä¼˜å…ˆ)</strong>,ä½† <code>A* </code>éœ€è¦ <strong>f å€¼æœ€å°</strong> çš„ä¼˜å…ˆå‡ºé˜Ÿï¼Œå› æ­¤è¿™é‡Œå®ç°äº† <strong>å°é¡¶å †</strong>ï¼ˆf å°çš„ä¼˜å…ˆï¼‰ã€‚</p>
</blockquote>
<hr />
<p><strong>3.å¯å‘å¼å‡½æ•°</strong></p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#586e75;">// å¯å‘å¼å‡½æ•°: ä½¿ç”¨æ›¼å“ˆé¡¿è·ç¦»ï¼ˆé€‚ç”¨äºåªèƒ½æ°´å¹³æˆ–å‚ç›´ç§»åŠ¨çš„æƒ…å†µï¼‰
</span><span style="color:#268bd2;">float </span><span style="color:#b58900;">heuristic</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int x1</span><span>, </span><span style="color:#268bd2;">int y1</span><span>, </span><span style="color:#268bd2;">int x2</span><span>, </span><span style="color:#268bd2;">int y2</span><span style="color:#657b83;">) {
</span><span>    </span><span style="color:#859900;">return </span><span>std::</span><span style="color:#859900;">abs</span><span style="color:#657b83;">(</span><span>x1 </span><span style="color:#657b83;">-</span><span> x2</span><span style="color:#657b83;">) + </span><span>std::</span><span style="color:#859900;">abs</span><span style="color:#657b83;">(</span><span>y1 </span><span style="color:#657b83;">-</span><span> y2</span><span style="color:#657b83;">)</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<blockquote>
<ul>
<li>æ›¼å“ˆé¡¿è·ç¦» <strong>é€‚ç”¨äºç½‘æ ¼åœ°å›¾</strong>ï¼ˆåªèƒ½æ°´å¹³/å‚ç›´ç§»åŠ¨ï¼‰ã€‚</li>
<li>åç»­ä¹Ÿä¼šç»™å‡ºå…¶ä»–å‡ ç§å‡½æ•°çš„ä»£ç å‚è€ƒ,ä½ å¯ä»¥è‡ªå·±æ›´æ¢ä¸åŒçš„å¯å‘å‡½æ•°æ¥ç ”ç©¶ä¸åŒæƒ…å†µä¸‹çš„<code>A*</code></li>
</ul>
</blockquote>
<p><strong>4. A*æœç´¢ä¸»æ–¹æ³•</strong></p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#586e75;">// A* æœç´¢ç®—æ³•
</span><span>std::vector</span><span style="color:#657b83;">&lt;</span><span>std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt;&gt; </span><span style="color:#b58900;">aStarSearch</span><span style="color:#657b83;">(</span><span>std::vector</span><span style="color:#657b83;">&lt;</span><span>std::vector</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt;&gt;</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">grid</span><span>,
</span><span>                                             std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">start</span><span>,
</span><span>                                             std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">goal</span><span style="color:#657b83;">) {
</span><span>    </span><span style="color:#268bd2;">int</span><span> rows </span><span style="color:#657b83;">=</span><span> grid.</span><span style="color:#b58900;">size</span><span style="color:#657b83;">()</span><span>, cols </span><span style="color:#657b83;">=</span><span> grid</span><span style="color:#268bd2;">[</span><span style="color:#6c71c4;">0</span><span style="color:#268bd2;">]</span><span>.</span><span style="color:#b58900;">size</span><span style="color:#657b83;">()</span><span>;
</span><span>    std::priority_queue</span><span style="color:#657b83;">&lt;</span><span>Node</span><span style="color:#859900;">*</span><span>, std::vector</span><span style="color:#657b83;">&lt;</span><span>Node</span><span style="color:#859900;">*</span><span style="color:#657b83;">&gt;</span><span>, Compare</span><span style="color:#657b83;">&gt;</span><span> openSet; </span><span style="color:#586e75;">// ä¼˜å…ˆé˜Ÿåˆ—
</span><span>    std::unordered_map</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, Node</span><span style="color:#859900;">*</span><span style="color:#657b83;">&gt;</span><span> allNodes; </span><span style="color:#586e75;">// è®°å½•æ‰€æœ‰è®¿é—®è¿‡çš„èŠ‚ç‚¹
</span><span>
</span><span>    </span><span style="color:#586e75;">// åˆ›å»ºèµ·å§‹èŠ‚ç‚¹å¹¶æ”¾å…¥å¼€å¯åˆ—è¡¨
</span><span>    Node</span><span style="color:#859900;">*</span><span> startNode </span><span style="color:#657b83;">= </span><span style="color:#859900;">new </span><span style="color:#b58900;">Node</span><span style="color:#657b83;">(</span><span>start.</span><span style="color:#268bd2;">first</span><span>, start.</span><span style="color:#268bd2;">second</span><span>, </span><span style="color:#6c71c4;">0</span><span>, </span><span style="color:#b58900;">heuristic</span><span style="color:#657b83;">(</span><span>start.</span><span style="color:#268bd2;">first</span><span>, start.</span><span style="color:#268bd2;">second</span><span>, goal.</span><span style="color:#268bd2;">first</span><span>, goal.</span><span style="color:#268bd2;">second</span><span style="color:#657b83;">))</span><span>;
</span><span>    openSet.</span><span style="color:#b58900;">push</span><span style="color:#657b83;">(</span><span>startNode</span><span style="color:#657b83;">)</span><span>;
</span><span>    allNodes</span><span style="color:#268bd2;">[</span><span>start.</span><span style="color:#268bd2;">first </span><span style="color:#859900;">*</span><span> cols </span><span style="color:#657b83;">+</span><span> start.</span><span style="color:#268bd2;">second] </span><span style="color:#657b83;">=</span><span> startNode;
</span><span>
</span><span>    </span><span style="color:#586e75;">// 4ä¸ªç§»åŠ¨æ–¹å‘ï¼ˆå³ã€ä¸‹ã€å·¦ã€ä¸Šï¼‰
</span><span>    std::vector</span><span style="color:#657b83;">&lt;</span><span>std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt;&gt;</span><span> directions </span><span style="color:#657b83;">= { {</span><span style="color:#6c71c4;">0</span><span>, </span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">}</span><span>, </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">0</span><span style="color:#657b83;">}</span><span>, </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">0</span><span>, </span><span style="color:#657b83;">-</span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">}</span><span>, </span><span style="color:#657b83;">{-</span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">0</span><span style="color:#657b83;">} }</span><span>;
</span><span>    std::vector</span><span style="color:#657b83;">&lt;</span><span>std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt;&gt;</span><span> path;
</span><span>
</span><span>    </span><span style="color:#859900;">while </span><span style="color:#657b83;">(!</span><span>openSet.</span><span style="color:#b58900;">empty</span><span style="color:#657b83;">()) {
</span><span>        Node</span><span style="color:#859900;">*</span><span> current </span><span style="color:#657b83;">=</span><span> openSet.</span><span style="color:#b58900;">top</span><span style="color:#657b83;">()</span><span>; </span><span style="color:#586e75;">// å–å‡ºå½“å‰ä»£ä»·æœ€å°çš„èŠ‚ç‚¹
</span><span>        openSet.</span><span style="color:#b58900;">pop</span><span style="color:#657b83;">()</span><span>;
</span><span>
</span><span>        </span><span style="color:#586e75;">// å¦‚æœåˆ°è¾¾ç›®æ ‡ç‚¹ï¼Œå›æº¯è·¯å¾„
</span><span>        </span><span style="color:#859900;">if </span><span style="color:#657b83;">(</span><span>current-&gt;</span><span style="color:#268bd2;">x </span><span style="color:#657b83;">==</span><span> goal.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&amp;&amp;</span><span> current-&gt;</span><span style="color:#268bd2;">y </span><span style="color:#657b83;">==</span><span> goal.</span><span style="color:#268bd2;">second</span><span style="color:#657b83;">) {
</span><span>            </span><span style="color:#859900;">while </span><span style="color:#657b83;">(</span><span>current</span><span style="color:#657b83;">) {
</span><span>                path.</span><span style="color:#b58900;">emplace_back</span><span style="color:#657b83;">(</span><span>current-&gt;</span><span style="color:#268bd2;">x</span><span>, current-&gt;</span><span style="color:#268bd2;">y</span><span style="color:#657b83;">)</span><span>;
</span><span>                current </span><span style="color:#657b83;">=</span><span> current-&gt;</span><span style="color:#268bd2;">parent</span><span>;
</span><span>            </span><span style="color:#657b83;">}
</span><span>            std::</span><span style="color:#b58900;">reverse</span><span style="color:#657b83;">(</span><span>path.</span><span style="color:#b58900;">begin</span><span style="color:#657b83;">()</span><span>, path.</span><span style="color:#b58900;">end</span><span style="color:#657b83;">())</span><span>;
</span><span>            </span><span style="color:#859900;">break</span><span>;
</span><span>        </span><span style="color:#657b83;">}
</span><span>
</span><span>        </span><span style="color:#586e75;">// éå† 4 ä¸ªæ–¹å‘çš„é‚»å±…èŠ‚ç‚¹
</span><span>        </span><span style="color:#859900;">for </span><span style="color:#657b83;">(</span><span style="color:#268bd2;">auto [</span><span>dx, dy</span><span style="color:#268bd2;">] </span><span style="color:#859900;">:</span><span> directions</span><span style="color:#657b83;">) {
</span><span>            </span><span style="color:#268bd2;">int</span><span> nx </span><span style="color:#657b83;">=</span><span> current-&gt;</span><span style="color:#268bd2;">x </span><span style="color:#657b83;">+</span><span> dx, ny </span><span style="color:#657b83;">=</span><span> current-&gt;</span><span style="color:#268bd2;">y </span><span style="color:#657b83;">+</span><span> dy;
</span><span>
</span><span>            </span><span style="color:#586e75;">// è¾¹ç•Œæ£€æŸ¥å’Œéšœç¢ç‰©æ£€æŸ¥
</span><span>            </span><span style="color:#859900;">if </span><span style="color:#657b83;">(</span><span>nx </span><span style="color:#657b83;">&lt; </span><span style="color:#6c71c4;">0 </span><span style="color:#657b83;">||</span><span> ny </span><span style="color:#657b83;">&lt; </span><span style="color:#6c71c4;">0 </span><span style="color:#657b83;">||</span><span> nx </span><span style="color:#657b83;">&gt;=</span><span> rows </span><span style="color:#657b83;">||</span><span> ny </span><span style="color:#657b83;">&gt;=</span><span> cols </span><span style="color:#657b83;">||</span><span> grid</span><span style="color:#268bd2;">[</span><span>nx</span><span style="color:#268bd2;">][</span><span>ny</span><span style="color:#268bd2;">] </span><span style="color:#657b83;">== </span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">)
</span><span>                </span><span style="color:#859900;">continue</span><span>;
</span><span>
</span><span>            </span><span style="color:#268bd2;">float gNew </span><span style="color:#657b83;">=</span><span> current-&gt;</span><span style="color:#268bd2;">g </span><span style="color:#657b83;">+ </span><span style="color:#6c71c4;">1</span><span>; </span><span style="color:#586e75;">// g å€¼ +1 (å‡è®¾æ‰€æœ‰ç§»åŠ¨çš„ä»£ä»·ç›¸ç­‰)
</span><span>            </span><span style="color:#268bd2;">float</span><span> hNew </span><span style="color:#657b83;">= </span><span style="color:#b58900;">heuristic</span><span style="color:#657b83;">(</span><span>nx, ny, goal.</span><span style="color:#268bd2;">first</span><span>, goal.</span><span style="color:#268bd2;">second</span><span style="color:#657b83;">)</span><span>;
</span><span>            </span><span style="color:#268bd2;">int</span><span> key </span><span style="color:#657b83;">=</span><span> nx </span><span style="color:#859900;">*</span><span> cols </span><span style="color:#657b83;">+</span><span> ny;
</span><span>
</span><span>            </span><span style="color:#586e75;">// å¦‚æœè¯¥èŠ‚ç‚¹æœªè¢«è®¿é—®æˆ–æ‰¾åˆ°æ›´çŸ­è·¯å¾„
</span><span>            </span><span style="color:#859900;">if </span><span style="color:#657b83;">(!</span><span>allNodes.</span><span style="color:#b58900;">count</span><span style="color:#657b83;">(</span><span>key</span><span style="color:#657b83;">) || </span><span style="color:#268bd2;">gNew </span><span style="color:#657b83;">&lt;</span><span> allNodes</span><span style="color:#268bd2;">[</span><span>key</span><span style="color:#268bd2;">]</span><span>-&gt;</span><span style="color:#268bd2;">g</span><span style="color:#657b83;">) {
</span><span>                </span><span style="color:#268bd2;">auto</span><span> neighbor </span><span style="color:#657b83;">= </span><span style="color:#859900;">new </span><span style="color:#b58900;">Node</span><span style="color:#657b83;">(</span><span>nx, ny, </span><span style="color:#268bd2;">gNew</span><span>, hNew, current</span><span style="color:#657b83;">)</span><span>;
</span><span>                openSet.</span><span style="color:#b58900;">push</span><span style="color:#657b83;">(</span><span>neighbor</span><span style="color:#657b83;">)</span><span>;
</span><span>                allNodes</span><span style="color:#268bd2;">[</span><span>key</span><span style="color:#268bd2;">] </span><span style="color:#657b83;">=</span><span> neighbor;
</span><span>            </span><span style="color:#657b83;">}
</span><span>        </span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#586e75;">// é‡Šæ”¾æ‰€æœ‰èŠ‚ç‚¹çš„å†…å­˜
</span><span>    </span><span style="color:#859900;">for </span><span style="color:#657b83;">(</span><span style="color:#268bd2;">auto</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">[</span><span>_, node</span><span style="color:#268bd2;">] </span><span style="color:#859900;">:</span><span> allNodes</span><span style="color:#657b83;">)
</span><span>        </span><span style="color:#859900;">delete</span><span> node;
</span><span>
</span><span>    </span><span style="color:#859900;">return</span><span> path;
</span><span style="color:#657b83;">}
</span></code></pre>
<p><strong>5.è·¯å¾„å­—ç¬¦åŒ–(å¯é€‰)</strong></p>
<blockquote>
<p>è¿™ä¸æ˜¯ç®—æ³•å¿…é¡»çš„æ­¥éª¤,æ·»åŠ è¿™éƒ¨åˆ†ä»£ç ä¸»è¦æ˜¯ç”¨æ¥æ‰“å°è·¯å¾„å­—ç¬¦,ç›´è§‚çš„ç†è§£æœç´¢çš„ç»“æœã€‚</p>
</blockquote>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#586e75;">// å¯è§†åŒ–æ‰“å°è·¯å¾„
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">printGridWithPath</span><span style="color:#657b83;">(</span><span>std::vector</span><span style="color:#657b83;">&lt;</span><span>std::vector</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt;&gt;</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">grid</span><span>, </span><span style="color:#859900;">const</span><span> std::vector</span><span style="color:#657b83;">&lt;</span><span>std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt;&gt;</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">path</span><span>,
</span><span>                       std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">start</span><span>, std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">goal</span><span style="color:#657b83;">) {
</span><span>    std::vector</span><span style="color:#657b83;">&lt;</span><span>std::vector</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">char</span><span style="color:#657b83;">&gt;&gt; </span><span style="color:#b58900;">display</span><span style="color:#657b83;">(</span><span>grid.</span><span style="color:#b58900;">size</span><span style="color:#657b83;">()</span><span>, std::</span><span style="color:#b58900;">vector</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">char</span><span style="color:#657b83;">&gt;(</span><span>grid</span><span style="color:#268bd2;">[</span><span style="color:#6c71c4;">0</span><span style="color:#268bd2;">]</span><span>.</span><span style="color:#b58900;">size</span><span style="color:#657b83;">()</span><span>, &#39; &#39;</span><span style="color:#657b83;">))</span><span>;
</span><span>
</span><span>    </span><span style="color:#586e75;">// åˆå§‹åŒ–ç½‘æ ¼ï¼Œéšœç¢ç‰©ç”¨ &#39;#&#39; æ ‡è®°
</span><span>    </span><span style="color:#859900;">for </span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int</span><span> i </span><span style="color:#657b83;">= </span><span style="color:#6c71c4;">0</span><span>; i </span><span style="color:#657b83;">&lt;</span><span> grid.</span><span style="color:#b58900;">size</span><span style="color:#657b83;">()</span><span>; </span><span style="color:#657b83;">++</span><span>i</span><span style="color:#657b83;">) {
</span><span>        </span><span style="color:#859900;">for </span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int</span><span> j </span><span style="color:#657b83;">= </span><span style="color:#6c71c4;">0</span><span>; j </span><span style="color:#657b83;">&lt;</span><span> grid</span><span style="color:#268bd2;">[</span><span style="color:#6c71c4;">0</span><span style="color:#268bd2;">]</span><span>.</span><span style="color:#b58900;">size</span><span style="color:#657b83;">()</span><span>; </span><span style="color:#657b83;">++</span><span>j</span><span style="color:#657b83;">) {
</span><span>            display</span><span style="color:#268bd2;">[</span><span>i</span><span style="color:#268bd2;">][</span><span>j</span><span style="color:#268bd2;">] </span><span style="color:#657b83;">= (</span><span>grid</span><span style="color:#268bd2;">[</span><span>i</span><span style="color:#268bd2;">][</span><span>j</span><span style="color:#268bd2;">] </span><span style="color:#657b83;">== </span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">) </span><span style="color:#859900;">? </span><span>&#39;</span><span style="color:#2aa198;">#</span><span>&#39; </span><span style="color:#859900;">: </span><span>&#39;</span><span style="color:#2aa198;">.</span><span>&#39;;
</span><span>        </span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#586e75;">// ç»˜åˆ¶è·¯å¾„
</span><span>    </span><span style="color:#859900;">for </span><span style="color:#657b83;">(</span><span style="color:#859900;">const </span><span style="color:#268bd2;">auto</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">[</span><span>x, y</span><span style="color:#268bd2;">] </span><span style="color:#859900;">:</span><span> path</span><span style="color:#657b83;">) {
</span><span>        display</span><span style="color:#268bd2;">[</span><span>x</span><span style="color:#268bd2;">][</span><span>y</span><span style="color:#268bd2;">] </span><span style="color:#657b83;">= </span><span>&#39;</span><span style="color:#2aa198;">*</span><span>&#39;;
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#586e75;">// æ ‡è®°èµ·ç‚¹å’Œç»ˆç‚¹
</span><span>    display</span><span style="color:#268bd2;">[</span><span>start.</span><span style="color:#268bd2;">first][</span><span>start.</span><span style="color:#268bd2;">second] </span><span style="color:#657b83;">= </span><span>&#39;</span><span style="color:#2aa198;">S</span><span>&#39;;
</span><span>    display</span><span style="color:#268bd2;">[</span><span>goal.</span><span style="color:#268bd2;">first][</span><span>goal.</span><span style="color:#268bd2;">second] </span><span style="color:#657b83;">= </span><span>&#39;</span><span style="color:#2aa198;">G</span><span>&#39;;
</span><span>
</span><span>    </span><span style="color:#586e75;">// æ‰“å°ç½‘æ ¼
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#dc322f;">\n</span><span style="color:#2aa198;">A* æœç´¢è·¯å¾„:</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">for </span><span style="color:#657b83;">(</span><span style="color:#859900;">const </span><span style="color:#268bd2;">auto</span><span style="color:#859900;">&amp;</span><span> row </span><span style="color:#859900;">:</span><span> display</span><span style="color:#657b83;">) {
</span><span>        </span><span style="color:#859900;">for </span><span style="color:#657b83;">(</span><span style="color:#268bd2;">char</span><span> cell </span><span style="color:#859900;">:</span><span> row</span><span style="color:#657b83;">) {
</span><span>            std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span> cell </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39; &#39;;
</span><span>        </span><span style="color:#657b83;">}
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}
</span></code></pre>
<p>å­—ç¬¦åŒ–åœ°å›¾è¯´æ˜:</p>
<blockquote>
<p>#ï¼šéšœç¢ç‰©</p>
<p>.ï¼šå¯è¡ŒåŒºåŸŸ</p>
<p>*ï¼šè·¯å¾„</p>
<p>Sï¼šèµ·ç‚¹</p>
<p>Gï¼šç»ˆç‚¹</p>
</blockquote>
<hr />
<p><strong>5. ä¸»å‡½æ•°</strong></p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">() {
</span><span>   std::vector</span><span style="color:#657b83;">&lt;</span><span>std::vector</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt;&gt;</span><span> grid </span><span style="color:#657b83;">=
</span><span>        </span><span style="color:#657b83;">{
</span><span>          </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">0</span><span>,</span><span style="color:#6c71c4;">0</span><span>,</span><span style="color:#6c71c4;">1</span><span>,</span><span style="color:#6c71c4;">0</span><span style="color:#657b83;">}</span><span>,
</span><span>          </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1</span><span>,</span><span style="color:#6c71c4;">0</span><span>,</span><span style="color:#6c71c4;">0</span><span>,</span><span style="color:#6c71c4;">0</span><span style="color:#657b83;">}</span><span>,
</span><span>          </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">0</span><span>,</span><span style="color:#6c71c4;">1</span><span>,</span><span style="color:#6c71c4;">0</span><span>,</span><span style="color:#6c71c4;">0</span><span style="color:#657b83;">}</span><span>,
</span><span>          </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">0</span><span>,</span><span style="color:#6c71c4;">1</span><span>,</span><span style="color:#6c71c4;">0</span><span>,</span><span style="color:#6c71c4;">0</span><span style="color:#657b83;">}</span><span>,
</span><span>        </span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span>    std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt;</span><span> start </span><span style="color:#657b83;">= {</span><span style="color:#6c71c4;">0</span><span>, </span><span style="color:#6c71c4;">0</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt;</span><span> goal </span><span style="color:#657b83;">= {</span><span style="color:#6c71c4;">6</span><span>, </span><span style="color:#6c71c4;">6</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span>    </span><span style="color:#268bd2;">auto</span><span> path </span><span style="color:#657b83;">= </span><span style="color:#b58900;">aStarSearch</span><span style="color:#657b83;">(</span><span>grid, start, goal</span><span style="color:#657b83;">)</span><span>;
</span><span>
</span><span>    </span><span style="color:#859900;">if </span><span style="color:#657b83;">(</span><span>path.</span><span style="color:#b58900;">empty</span><span style="color:#657b83;">()) {
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">æœªæ‰¾åˆ°å¯è¡Œè·¯å¾„!</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> std::endl;
</span><span>    </span><span style="color:#657b83;">} </span><span style="color:#859900;">else </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">æœ€çŸ­è·¯å¾„:</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>        </span><span style="color:#859900;">for </span><span style="color:#657b83;">(</span><span style="color:#268bd2;">auto [</span><span>x, y</span><span style="color:#268bd2;">] </span><span style="color:#859900;">:</span><span> path</span><span style="color:#657b83;">)
</span><span>            std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">(</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> x </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">, </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> y </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">) -&gt; </span><span>&quot;;
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">ç›®æ ‡ç‚¹</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>        </span><span style="color:#b58900;">printGridWithPath</span><span style="color:#657b83;">(</span><span>grid, path, start, goal</span><span style="color:#657b83;">)</span><span>;
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p><img src="https://images.waer.ltd/notes/202503181535055.png" alt="image-20250318153504868" /></p>
<hr />
<h2 id="guan-yu-a-de-yi-xie-you-hua-fang-xiang">å…³äºA*çš„ä¸€äº›ä¼˜åŒ–æ–¹å‘<a class="zola-anchor" href="#guan-yu-a-de-yi-xie-you-hua-fang-xiang" aria-label="Anchor link for: guan-yu-a-de-yi-xie-you-hua-fang-xiang">ğŸ”—</a></h2>
<p>åŸç”Ÿçš„Aæ˜Ÿç®—æ³•å·²ç»ç›¸å¯¹é«˜æ•ˆ,ä½†æ˜¯åœ¨å¤§è§„æ¨¡åœ°å›¾æˆ–è€…å¤æ‚è·¯å¾„è§„åˆ’çš„é—®é¢˜ä¸­å¯èƒ½ä¼šé‡åˆ°æ€§èƒ½ç“¶é¢ˆã€‚å› æ­¤å…·ä½“çš„ä¼˜åŒ–æ–¹å‘è¿˜å¾—å–å†³äºå…·ä½“çš„é—®é¢˜,è¿™é‡Œåªæ˜¯åˆ—å‡ºä¸€äº›å¸¸è§çš„ä¼˜åŒ–æ–¹å‘,ä½œä¸ºå­¦ä¹ æŒ‡å—ã€‚</p>
<h3 id="shu-ju-jie-gou-shang-de-you-hua">æ•°æ®ç»“æ„ä¸Šçš„ä¼˜åŒ–<a class="zola-anchor" href="#shu-ju-jie-gou-shang-de-you-hua" aria-label="Anchor link for: shu-ju-jie-gou-shang-de-you-hua">ğŸ”—</a></h3>
<blockquote>
<p>è¿™é‡Œçš„æ•°æ®ç»“æ„ä¼˜åŒ–åŸºäºæœ¬æ–‡å®ç°çš„ä»£ç è€Œè¨€ã€‚</p>
</blockquote>
<p><code>A*</code> ä¾èµ– <strong>openSet</strong>ï¼ˆå¼€å¯åˆ—è¡¨ï¼‰ï¼Œå½“å‰å®ç°ä½¿ç”¨çš„æ˜¯ <code>std::priority_queue</code>ï¼Œä½†æ˜¯ <code>std::priority_queue</code> <strong>ä¸æ”¯æŒé«˜æ•ˆçš„æ›´æ–°æ“ä½œ</strong>ï¼Œè¿™å¯èƒ½å¯¼è‡´èŠ‚ç‚¹é‡å¤å…¥é˜Ÿå¹¶é™ä½æ€§èƒ½ã€‚</p>
<p>å› æ­¤,å¯ä»¥ä½¿ç”¨<code>std::unordered_map+æœ€å°å †</code>è¿›è¡Œä¼˜åŒ–:</p>
<ul>
<li><code>std::unordered_map</code> å­˜å‚¨èŠ‚ç‚¹ç´¢å¼•ï¼Œæœ€å°å †ï¼ˆ<code>Binary Heap</code>ï¼‰ç”¨äºå¿«é€Ÿå–å‡º <code>f(n)</code> æœ€å°çš„èŠ‚ç‚¹ã€‚</li>
<li>éœ€è¦é¢å¤–ç»´æŠ¤ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥å­˜å‚¨èŠ‚ç‚¹çš„ä½ç½®ï¼Œä»¥æ”¯æŒ <strong>å †çš„ decrease-key æ“ä½œ</strong>ã€‚</li>
</ul>
<hr />
<h3 id="qi-fa-shi-han-shu-de-xuan-ze">å¯å‘å¼å‡½æ•°çš„é€‰æ‹©<a class="zola-anchor" href="#qi-fa-shi-han-shu-de-xuan-ze" aria-label="Anchor link for: qi-fa-shi-han-shu-de-xuan-ze">ğŸ”—</a></h3>
<p>è¿™ä¸ªæ²¡å•¥è¯´çš„,æœ€åŸºæœ¬çš„åŸåˆ™å°±æ˜¯æ ¹æ®é¡¹ç›®çš„ç±»å‹æ¥é€‰æ‹©ä¸åŒçš„å¯å‘å¼å‡½æ•°ã€‚</p>
<hr />
<h3 id="luo-ji-shang-de-you-hua">é€»è¾‘ä¸Šçš„ä¼˜åŒ–<a class="zola-anchor" href="#luo-ji-shang-de-you-hua" aria-label="Anchor link for: luo-ji-shang-de-you-hua">ğŸ”—</a></h3>
<p>å¸¸è§çš„ä¼˜åŒ–æ–¹å‘æœ‰:</p>
<ul>
<li>åŒå‘<code>A*</code>:åŒæ—¶ä»èµ·ç‚¹å’Œç»ˆç‚¹è¿›è¡Œæœç´¢,ç›¸é‡æ—¶åœæ­¢ã€‚</li>
<li>è·³ç‚¹æœç´¢(<code>JPS</code>):è·³è¿‡å†—ä½™çš„èŠ‚ç‚¹,é€‚ç”¨äºè§„åˆ™ç½‘æ ¼åœ°å›¾,å¯ä»¥æå¤§çš„å‡å°‘æœç´¢ç©ºé—´ã€‚</li>
<li>å›¾å‰²æ–¹æ³•(å¯¹ç§°<code>A*</code>):åœ¨åŠ¨æ€åœ°å›¾ä¸­,åˆ†å‰²å›¾åƒåŒºåŸŸ,å‡å°‘æœç´¢èŒƒå›´ã€‚</li>
</ul>
<hr />
<blockquote>
<p>æ¬¢è¿å…³æ³¨åç»­æ›´æ–°â€¦.</p>
</blockquote>

      
    </div><!--./card-body-->

    <div class="card-footer">
      <div class="columns">
        <div class="column col-9 col-sm-7">
          <div class="taxonomies text-left">
            

    
          </div>
        </div><!--./col-6-->
        
        </div><!--./columns-->
    </div><!--./card-footer-->
</div><!--./card-->
</div>
              <div id="sidebar" class="column col-4 col-md-12">
                <div class="sidebar-content">
                  
                  
<div class="sidebar-widget">
  <div class="tile">
    <div class="tile-icon">
      <figure class="avatar avatar-xl">
        <img src="https://ilikexff.cn/avatar.png" alt="author avatar image">
      </figure>
    </div>
    <div class="tile-content">
      <p class="tile-title" style="font-weight: 600;">å…«å°ºå¦–å‰‘</p>
      <p class="tile-subtitle">çƒ­çˆ±ç¼–ç¨‹ï¼Œä¸“æ³¨äºæŠ€æœ¯åˆ†äº«å’Œå­¦ä¹ </p>
    </div>
</div><!--./tile-->
</div>

                  
                  
<div class="sidebar-widget">
  æ¬¢è¿æ¥åˆ°<strong>å…«å°ºå¦–å‰‘</strong>ï¼è¿™é‡Œåˆ†äº«æŠ€æœ¯æ–‡ç« å’Œç¼–ç¨‹å¿ƒå¾—ã€‚
</div><!-- end text widget -->

                  

                  </div><!--./sidebar-content-->
              </div>
            </div>
            
          </section>
        </section></section>
<section class="container grid-xl">
<ul class="pagination paginator">
  
  
</ul>
</section>
</div><!-- ./page-wrapper -->

    
<div class="mobile-container">
        <div class="overlay" id="overlay">
            <div style="padding: 1rem;">
              
<a class="site-logo" href="https:&#x2F;&#x2F;ilikexff.cn">
  
  <div class="col-mx-auto">
    <figure style="margin: 8px">
      <img class="img-responsive"
           style="max-height: 45px"
           alt="frontmatter image"
           src="https://ilikexff.cn/./assets/logo.png">
    </figure>
  </div>
  
</a>

            </div>
            <nav class="overlay-menu">
              

<ul class="tree treemenu treemenu-root"><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/tags">æ ‡ç­¾</a>
    </li><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/categories">åˆ†ç±»</a>
    </li><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/about">å…³äº</a>
    </li></ul>


              </nav>
        </div>
    </div>

<script type="text/javascript">
  var overlay = document.getElementById('overlay');
  var toggle = document.getElementById('toggle');

  function openOverlay(){
      // Open overlay
      if (overlay.classList.contains("open")) {
          overlay.classList.remove("open");
      }
      else {
          overlay.classList.add("open");
      }

      // Button transition
      if (toggle.classList.contains("active")) {
          toggle.classList.remove("active");
      }
      else {
          toggle.classList.add("active");
      }
    }
</script>

<section id="footer" class="bg-gray">
  <div class="container grid-xl">
    


    <div class="columns">
      
      <div class="column col-6 col-lg-12 col-mx-auto" style="text-align: center;">
        ç®€å•æ˜¯æ•ˆç‡çš„çµé­‚ | é»”ICPå¤‡2021010295å·
      </div>
      
      <div class="column col-6 col-lg-12 col-mx-auto" style="text-align: center;">
        Made by <a href="https://github.com/gicrisf/">gicrisf</a> -
        <strong>Zhuia</strong>&nbsp;<a href="https://github.com/gicrisf/zhuia">source code</a>
        is licensed under <a href="http://opensource.org/licenses/mit-license.php" target="_blank">MIT</a>.
      </div>
    </div>
  </div>
</section>
</body>
</html>
