<!DOCTYPE html>
<html lang="zh" data-theme="light" dir="ltr">
  <head>
    <title>C++æ¸¸æˆå¼€å‘åŸºç¡€-æ·±å…¥è§£æå¤åˆ¶æ„é€ å‡½æ•° - å…«å°ºå¦–å‰‘</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="è¯¦ç»†ä»‹ç»C++é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å¤åˆ¶æ„é€ å‡½æ•°,åŒ…æ‹¬éšå¼å¤åˆ¶æ„é€ å‡½æ•°ã€æ˜¾å¼å¤åˆ¶æ„é€ å‡½æ•°ç­‰æœ€ä½³å®è·µã€‚"/>

    <meta property="og:title" content="å…«å°ºå¦–å‰‘ -&nbsp;C++æ¸¸æˆå¼€å‘åŸºç¡€-æ·±å…¥è§£æå¤åˆ¶æ„é€ å‡½æ•°" />
    <meta property="og:type" content="website"/><meta property="og:url" content="https:&#x2F;&#x2F;ilikexff.cn&#x2F;c-you-xi-kai-fa-ji-chu-fu-zhi-gou-zao-han-shu&#x2F;"/><meta property="og:description" content="è¯¦ç»†ä»‹ç»C++é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å¤åˆ¶æ„é€ å‡½æ•°,åŒ…æ‹¬éšå¼å¤åˆ¶æ„é€ å‡½æ•°ã€æ˜¾å¼å¤åˆ¶æ„é€ å‡½æ•°ç­‰æœ€ä½³å®è·µã€‚"/>


    <meta name="twitter:card" content="summary">


    <link rel="stylesheet" href="https://ilikexff.cn/spectre/spectre.css">
    <link rel="stylesheet" href="https://ilikexff.cn/theme.css"><link rel="stylesheet" href="https://ilikexff.cn/custom.css">
    
<link rel="shortcut icon" href="https://ilikexff.cn/./assets/bachiico.ico" type="image/x-icon" />
        
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script>
        function doRenderMath() {
            renderMathInElement(document.body, {
                delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\(", right: "\\)", display: false},
                {left: "\\begin{equation}", right: "\\end{equation}", display: true},
                {left: "\\begin{align}", right: "\\end{align}", display: true},
                {left: "\\begin{alignat}", right: "\\end{alignat}", display: true},
                {left: "\\begin{gather}", right: "\\end{gather}", display: true},
                {left: "\\begin{CD}", right: "\\end{CD}", display: true},
                {left: "\\[", right: "\\]", display: true}
                ]
            });
        }
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="doRenderMath()"></script>

      </head>
  <body id="top" class="sticky-footer"><div id="page-wrapper">
<header id="header" class="section">
  <section class="container grid-xl">
    <nav class="navbar">
      <section class="navbar-section">
        
<a class="site-logo" href="https:&#x2F;&#x2F;ilikexff.cn">
  
  <div class="col-mx-auto">
    <figure style="margin: 8px">
      <img class="img-responsive"
           style="max-height: 45px"
           alt="frontmatter image"
           src="https://ilikexff.cn/./assets/logo.png">
    </figure>
  </div>
  
</a>

      </section><!-- ./home button -->

      <section class="navbar-center hide-md"></section>

      <section class="navbar-section">
        <nav class="dropmenu animated hide-md">

<ul><li>
        <a href="https://ilikexff.cn/tags">æ ‡ç­¾</a>
    </li><li>
        <a href="https://ilikexff.cn/categories">åˆ†ç±»</a>
    </li><li>
        <a href="https://ilikexff.cn/about">å…³äº</a>
    </li></ul>


          <!-- æš—è‰²æ¨¡å¼æ»‘åŠ¨åˆ‡æ¢æŒ‰é’® -->
          <div class="theme-toggle">
            <label class="theme-switch" for="theme-toggle-checkbox">
              <input type="checkbox" id="theme-toggle-checkbox" class="theme-switch-checkbox">
              <div class="theme-switch-slider">
                <div class="theme-switch-handle">
                  <svg class="sun-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                  </svg>
                  <svg class="moon-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                  </svg>
                </div>
              </div>
            </label>
          </div>

          <!-- æš—è‰²æ¨¡å¼åˆ‡æ¢è„šæœ¬ -->
          <script>
            (function() {
              'use strict';

              // ä¸»é¢˜ç®¡ç†
              function initTheme() {
                const savedTheme = localStorage.getItem('theme');
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                const theme = savedTheme || (prefersDark ? 'dark' : 'light');
                setTheme(theme, false);
              }

              function setTheme(theme, animate = true) {
                const html = document.documentElement;
                const checkbox = document.getElementById('theme-toggle-checkbox');

                if (animate) {
                  html.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
                  setTimeout(() => { html.style.transition = ''; }, 400);
                }

                if (theme === 'dark') {
                  html.setAttribute('data-theme', 'dark');
                  if (checkbox) checkbox.checked = true;
                } else {
                  html.removeAttribute('data-theme');
                  if (checkbox) checkbox.checked = false;
                }

                localStorage.setItem('theme', theme);
              }

              function toggleTheme() {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                setTheme(currentTheme === 'dark' ? 'light' : 'dark');
              }

              // åˆå§‹åŒ–
              if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initTheme);
              } else {
                initTheme();
              }

              // ç»‘å®šäº‹ä»¶
              document.addEventListener('DOMContentLoaded', function() {
                const checkbox = document.getElementById('theme-toggle-checkbox');
                if (checkbox) {
                  checkbox.addEventListener('change', toggleTheme);
                }

                // é”®ç›˜å¿«æ·é”®
                document.addEventListener('keydown', function(e) {
                  if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'D') {
                    e.preventDefault();
                    toggleTheme();
                  }
                });
              });
            })();
          </script>
        </nav>
      </section><!-- ./desktop-menu -->
    </nav>
  </section><!-- ./container -->
</header>


<div class="mobile-menu">
  <div class="button_container" id="toggle" onclick="openOverlay()">
    <span class="top"></span>
    <span class="middle"></span>
    <span class="bottom"></span>
  </div>
</div><!--./mobile-menu-->


<section id="start"><section id="body-wrapper" class="section">
          <section class="container grid-xl">
<div id="breadcrumbs" itemtype="http://schema.org/BreadcrumbList" class="hide-sm">
  
    
    <span><a href="https:&#x2F;&#x2F;ilikexff.cn&#x2F;">Home</a></span>
  
    <span><a href="https:&#x2F;&#x2F;ilikexff.cn&#x2F;c-you-xi-kai-fa-ji-chu-fu-zhi-gou-zao-han-shu&#x2F;">C++æ¸¸æˆå¼€å‘åŸºç¡€-æ·±å…¥è§£æå¤åˆ¶æ„é€ å‡½æ•°</a></span>
</div>
<div class="columns">
              <div id="item" class="column col-8 col-md-12 extra-spacing">
<div class="card">
  

    <div class="card-header">
      <div class="card-title" style="margin-top: .25rem;"><div>
          <h1 class="post-title">C++æ¸¸æˆå¼€å‘åŸºç¡€-æ·±å…¥è§£æå¤åˆ¶æ„é€ å‡½æ•°</h1>
          
    <div class="post-meta" style="display: inline-flex">
        <span class="blog-date" style="display: inline-flex;">
          <i class="gg-calendar" style="margin-right: 5px;"></i><time datetime="2024.12.15">
          2024.12.15
          </time></span><span class="post-author" style="margin-left: 5px; display: inline-flex;">
          - 
    å…«å°ºå¦–å‰‘
        </span></div>

        </div></div>
    </div><!--./card-header-->

    <div class="card-body">
      
        <p>è€ƒè™‘ä¸‹é¢ç¨‹åº:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">Fraction
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">private</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#268bd2;">int m_numerator</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">0 </span><span style="color:#657b83;">}</span><span>;
</span><span>    </span><span style="color:#268bd2;">int m_denominator</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1 </span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#586e75;">// Default constructor
</span><span>    </span><span style="color:#b58900;">Fraction</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int numerator</span><span style="color:#657b83;">=</span><span style="color:#6c71c4;">0</span><span>, </span><span style="color:#268bd2;">int denominator</span><span style="color:#657b83;">=</span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">)
</span><span>        : </span><span style="color:#268bd2;">m_numerator</span><span style="color:#657b83;">{</span><span>numerator</span><span style="color:#657b83;">}</span><span>, </span><span style="color:#268bd2;">m_denominator</span><span style="color:#657b83;">{</span><span>denominator</span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">() </span><span style="color:#859900;">const
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Fraction(</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_numerator </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">, </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_denominator </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">)</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Fraction </span><span style="color:#b58900;">f </span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">5</span><span>, </span><span style="color:#6c71c4;">3 </span><span style="color:#657b83;">}</span><span>;  </span><span style="color:#586e75;">// 1
</span><span>    Fraction </span><span style="color:#268bd2;">fCopy </span><span style="color:#657b83;">{</span><span> f </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// 2
</span><span>
</span><span>    f.</span><span style="color:#b58900;">print</span><span style="color:#657b83;">()</span><span>;
</span><span>    </span><span style="color:#268bd2;">fCopy</span><span>.</span><span style="color:#b58900;">print</span><span style="color:#657b83;">()</span><span>;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­,é™¤äº†ä¸€ç³»åˆ—ç†Ÿæ‚‰çš„é…æ–¹ä¹‹å¤–,æˆ‘ä»¬è¿˜å‘ç°åœ¨25è¡Œæœ‰ä¸€è¡Œä¹‹å‰æ²¡è§è¿‡çš„ä»£ç ,å°±æ˜¯ä½ æƒ³çš„é‚£æ ·,è¿™ä¸ªå°±æ˜¯æœ¬æ–‡çš„ä¸»è§’-å¤åˆ¶æ„é€ å‡½æ•°ã€‚ </p>
<p>å¤åˆ¶æ„é€ å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§æ„é€ å‡½æ•°(æœ‰ä¸€ç§å¬å›ä¸€å¸­è¯çš„æ„Ÿè§‰ğŸ˜Š)ã€‚ç”¨äºä½¿ç”¨ç›¸åŒç±»å‹çš„ç°æœ‰å¯¹è±¡åˆå§‹åŒ–å¯¹è±¡,åœ¨å¤åˆ¶æ„é€ å‡½æ•°æ‰§è¡Œä¹‹å,åœ¨å¤åˆ¶æ„é€ å‡½æ•°æ‰§è¡Œå®Œåï¼Œæ–°å¯¹è±¡åº”è¯¥æ˜¯ä¼ å…¥çš„å·²æœ‰å¯¹è±¡çš„å‰¯æœ¬ï¼ˆæ‹·è´ï¼‰ã€‚</p>
<hr />
<h2 id="yin-shi-fu-zhi-gou-zao-han-shu">éšå¼å¤åˆ¶æ„é€ å‡½æ•°<a class="zola-anchor" href="#yin-shi-fu-zhi-gou-zao-han-shu" aria-label="Anchor link for: yin-shi-fu-zhi-gou-zao-han-shu">ğŸ”—</a></h2>
<p>å¦‚æœä½ æ²¡æœ‰ä¸ºä½ çš„ç±»æä¾›å¤åˆ¶æ„é€ å‡½æ•°ï¼ŒC++å°†ä¸ºä½ åˆ›å»ºä¸€ä¸ªå…¬å…±<strong>éšå¼å¤åˆ¶æ„é€ å‡½æ•°</strong> ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œè¯­å¥ <code>Fraction fCopy { f };</code> è°ƒç”¨éšå¼å¤åˆ¶æ„é€ å‡½æ•°æ¥ç”¨ <code>f</code> åˆå§‹åŒ– <code>fCopy</code>ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œéšå¼å¤åˆ¶æ„é€ å‡½æ•°å°†è¿›è¡Œæˆå‘˜åˆå§‹åŒ–ã€‚è¿™æ„å‘³ç€æ¯ä¸ªæˆå‘˜éƒ½å°†ä½¿ç”¨ä¼ å…¥çš„ç±»çš„ç›¸åº”æˆå‘˜ä½œä¸ºåˆå§‹åŒ–å™¨è¿›è¡Œåˆå§‹åŒ–ã€‚åœ¨ä¸Šä¾‹ä¸­ï¼Œ<code>fCopy.m_numerator</code> ä½¿ç”¨ <code>f.m_numerator</code>ï¼ˆå€¼ä¸º <code>5</code>ï¼‰åˆå§‹åŒ–ï¼Œ<code>fCopy.m_denominator</code> ä½¿ç”¨ <code>f.m_denominator</code>ï¼ˆå€¼ä¸º <code>3</code>ï¼‰åˆå§‹åŒ–ã€‚</p>
<p>åœ¨æ‰§è¡Œå¤åˆ¶æ„é€ å‡½æ•°ä¹‹åï¼Œ<code>f</code> å’Œ <code>fCopy</code> çš„æˆå‘˜å…·æœ‰ç›¸åŒçš„å€¼ï¼Œå› æ­¤ <code>fCopy</code> æ˜¯ <code>f</code> çš„å‰¯æœ¬ã€‚å› æ­¤ï¼Œè°ƒç”¨ <code>printï¼ˆï¼‰åœ¨</code>ä»»ä½•ä¸€ä¸ªä¸Šéƒ½æœ‰ç›¸åŒçš„ç»“æœã€‚</p>
<hr />
<h2 id="xian-shi-ding-yi-zi-ji-de-fu-zhi-gou-zao-han-shu">æ˜¾å¼å®šä¹‰è‡ªå·±çš„å¤åˆ¶æ„é€ å‡½æ•°<a class="zola-anchor" href="#xian-shi-ding-yi-zi-ji-de-fu-zhi-gou-zao-han-shu" aria-label="Anchor link for: xian-shi-ding-yi-zi-ji-de-fu-zhi-gou-zao-han-shu">ğŸ”—</a></h2>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ˜¾å¼çš„å®šä¹‰è‡ªå·±çš„å¤åˆ¶æ„é€ å‡½æ•°ã€‚æ¯”å¦‚ä¸‹é¢çš„ç¤ºä¾‹ä¸­,æˆ‘ä»¬å°†åœ¨è‡ªå·±å®šä¹‰çš„å¤åˆ¶æ„é€ å‡½æ•°ä¸­æ‰“å°ä¸€æ¡æ¶ˆæ¯,ä»¥ä¾¿äºæç¤ºæˆ‘ä»¬,è‡ªå·±å®šä¹‰çš„å¤åˆ¶æ„é€ å‡½æ•°è¢«æˆåŠŸè°ƒç”¨ã€‚ </p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">Fraction
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">private</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#268bd2;">int</span><span> m_numberator </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">0</span><span style="color:#657b83;">}</span><span>;
</span><span>    </span><span style="color:#268bd2;">int</span><span> m_denominator </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">}</span><span>;
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#b58900;">Fraction</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int numerator </span><span style="color:#657b83;">= </span><span style="color:#6c71c4;">0</span><span>, </span><span style="color:#268bd2;">int denominator </span><span style="color:#657b83;">= </span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">)
</span><span>    :</span><span style="color:#268bd2;">m_numberator</span><span style="color:#657b83;">{</span><span>numerator</span><span style="color:#657b83;">}
</span><span>    ,</span><span style="color:#268bd2;">m_denominator</span><span style="color:#657b83;">{</span><span>denominator</span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#657b83;">{}
</span><span>
</span><span>    </span><span style="color:#586e75;">// å¤åˆ¶æ„é€ å‡½æ•°
</span><span>    </span><span style="color:#b58900;">Fraction</span><span style="color:#657b83;">(</span><span style="color:#859900;">const</span><span> Fraction</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">fraction</span><span style="color:#657b83;">)
</span><span>    :</span><span style="color:#268bd2;">m_numberator</span><span style="color:#657b83;">{</span><span>fraction.</span><span style="color:#268bd2;">m_numberator</span><span style="color:#657b83;">}
</span><span>    ,</span><span style="color:#268bd2;">m_denominator</span><span style="color:#657b83;">{</span><span>fraction.</span><span style="color:#268bd2;">m_denominator</span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span>&quot;</span><span style="color:#2aa198;">Copy constructor called</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">()
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span>&quot;</span><span style="color:#2aa198;">Fraction(</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_numberator </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">,</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_denominator </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">)</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Fraction </span><span style="color:#b58900;">f </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">5</span><span>,</span><span style="color:#6c71c4;">3</span><span style="color:#657b83;">}</span><span>;
</span><span>    Fraction </span><span style="color:#268bd2;">fCopy</span><span style="color:#657b83;">{</span><span>f</span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// å¤åˆ¶æ„é€ å‡½æ•°
</span><span>
</span><span>    f.</span><span style="color:#b58900;">print</span><span style="color:#657b83;">()</span><span>;
</span><span>    </span><span style="color:#268bd2;">fCopy</span><span>.</span><span style="color:#b58900;">print</span><span style="color:#657b83;">()</span><span>;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span></code></pre>
<p><img src="https://images.waer.ltd/notes/202503241659794.png" alt="image-20250324165906674" /></p>
<p><strong>æé†’â°</strong></p>
<blockquote>
<p>è®¿é—®æ§åˆ¶æ˜¯ <strong>åŸºäºç±»</strong>è€Œä¸æ˜¯ <strong>åŸºäºå¯¹è±¡</strong>çš„ã€‚è¿™æ„å‘³ç€,åŒä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®ä»»æ„è¯¥ç±»å¯¹è±¡çš„ç§æœ‰æˆå‘˜ï¼ˆä¸ä»…ä»…æ˜¯å½“å‰å¯¹è±¡ this çš„ç§æœ‰æˆå‘˜ï¼‰ã€‚</p>
<p>åœ¨ä¸Šé¢çš„ Fraction å¤åˆ¶æ„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨äº†è¿™ä¸€ç‰¹æ€§ï¼Œç›´æ¥è®¿é—®äº† fraction å‚æ•°çš„ç§æœ‰æˆå‘˜ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°†æ— æ³•ç›´æ¥è®¿é—®è¿™äº›æˆå‘˜ï¼ˆé™¤éæ·»åŠ è®¿é—®å‡½æ•°ï¼Œä½†è¿™é‡Œæ˜¾ç„¶æ²¡é‚£ä¸ªå¿…è¦ï¼‰ã€‚</p>
</blockquote>
<p><strong>æœ€ä½³å®è·µ</strong></p>
<blockquote>
<ul>
<li>å¤åˆ¶æ„é€ å‡½æ•°ä¸åº”è¯¥åšé™¤äº†å¤åˆ¶ä»¥å¤–çš„å…¶ä»–å·¥ä½œã€‚</li>
<li>é™¤éä½ æœ‰ç‰¹å®šå¿…è¦çš„ç†ç”±åˆ›å»ºè‡ªå·±çš„å¤åˆ¶æ„é€ å‡½æ•°,å¦åˆ™è¯·é¦–é€‰ä½¿ç”¨éšå¼å¤åˆ¶æ„é€ å‡½æ•°ã€‚</li>
</ul>
</blockquote>
<hr />
<h2 id="fu-zhi-gou-zao-han-shu-de-can-shu-bi-xu-shi-yin-yong-lei-xing">å¤åˆ¶æ„é€ å‡½æ•°çš„å‚æ•°å¿…é¡»æ˜¯å¼•ç”¨ç±»å‹<a class="zola-anchor" href="#fu-zhi-gou-zao-han-shu-de-can-shu-bi-xu-shi-yin-yong-lei-xing" aria-label="Anchor link for: fu-zhi-gou-zao-han-shu-de-can-shu-bi-xu-shi-yin-yong-lei-xing">ğŸ”—</a></h2>
<ul>
<li>å½“ä¸€ä¸ªå¯¹è±¡ <strong>æŒ‰å€¼ä¼ é€’ï¼ˆpass by valueï¼‰</strong> æ—¶ï¼Œå‡½æ•°å‚æ•°ä¼šæ¥æ”¶åˆ° <strong>åŸå§‹å¯¹è±¡çš„å‰¯æœ¬</strong>ï¼Œè€Œä¸æ˜¯ç›´æ¥æ“ä½œåŸå¯¹è±¡ã€‚å¦‚æœä¼ é€’çš„å¯¹è±¡ä¸å‚æ•°æ˜¯ <strong>ç›¸åŒçš„ç±»ç±»å‹</strong>ï¼Œé‚£ä¹ˆ<strong>å¤åˆ¶è¿‡ç¨‹</strong>æ˜¯é€šè¿‡ <strong>éšå¼è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼ˆcopy constructorï¼‰</strong> æ¥å®Œæˆçš„ã€‚</li>
</ul>
<p>çœ‹ä¸ªä¾‹å­:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">Fraction
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">private</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#268bd2;">int m_numerator</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">0 </span><span style="color:#657b83;">}</span><span>;   </span><span style="color:#586e75;">// åˆ†å­ï¼Œé»˜è®¤ä¸º 0
</span><span>    </span><span style="color:#268bd2;">int m_denominator</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1 </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// åˆ†æ¯ï¼Œé»˜è®¤ä¸º 1
</span><span>
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#586e75;">// é»˜è®¤æ„é€ å‡½æ•°ï¼ˆå¸¦é»˜è®¤å‚æ•°ï¼‰
</span><span>    </span><span style="color:#b58900;">Fraction</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int numerator </span><span style="color:#657b83;">= </span><span style="color:#6c71c4;">0</span><span>, </span><span style="color:#268bd2;">int denominator </span><span style="color:#657b83;">= </span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">)
</span><span>        : </span><span style="color:#268bd2;">m_numerator</span><span style="color:#657b83;">{</span><span> numerator </span><span style="color:#657b83;">}</span><span>, </span><span style="color:#268bd2;">m_denominator</span><span style="color:#657b83;">{</span><span> denominator </span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#586e75;">// æ‹·è´æ„é€ å‡½æ•°
</span><span>    </span><span style="color:#b58900;">Fraction</span><span style="color:#657b83;">(</span><span style="color:#859900;">const</span><span> Fraction</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">fraction</span><span style="color:#657b83;">)
</span><span>        : </span><span style="color:#268bd2;">m_numerator</span><span style="color:#657b83;">{</span><span> fraction.</span><span style="color:#268bd2;">m_numerator </span><span style="color:#657b83;">}  </span><span style="color:#586e75;">// å¤åˆ¶åˆ†å­
</span><span>        , </span><span style="color:#268bd2;">m_denominator</span><span style="color:#657b83;">{</span><span> fraction.</span><span style="color:#268bd2;">m_denominator </span><span style="color:#657b83;">}  </span><span style="color:#586e75;">// å¤åˆ¶åˆ†æ¯
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨</span><span style="color:#dc322f;">\n</span><span>&quot;;  </span><span style="color:#586e75;">// è¾“å‡ºä¿¡æ¯ï¼Œç¡®è®¤æ‹·è´æ„é€ å‡½æ•°è¢«è°ƒç”¨
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#586e75;">// æ‰“å°åˆ†æ•°
</span><span>    </span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">() </span><span style="color:#859900;">const
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Fraction(</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_numerator </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">, </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_denominator </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">)</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#586e75;">// æŒ‰å€¼ä¼ é€’ Fraction å¯¹è±¡ï¼ˆä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼‰
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">printFraction</span><span style="color:#657b83;">(</span><span>Fraction </span><span style="color:#268bd2;">f</span><span style="color:#657b83;">) </span><span style="color:#586e75;">// f æŒ‰å€¼ä¼ é€’ï¼Œä¼šåˆ›å»ºå‰¯æœ¬
</span><span style="color:#657b83;">{
</span><span>    f.</span><span style="color:#b58900;">print</span><span style="color:#657b83;">()</span><span>; </span><span style="color:#586e75;">// è°ƒç”¨ Fraction ç±»çš„ print() æ–¹æ³•
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Fraction </span><span style="color:#b58900;">f</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">5</span><span>, </span><span style="color:#6c71c4;">3 </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// åˆ›å»º Fraction å¯¹è±¡ fï¼Œè°ƒç”¨æ™®é€šæ„é€ å‡½æ•°
</span><span>
</span><span>    </span><span style="color:#b58900;">printFraction</span><span style="color:#657b83;">(</span><span>f</span><span style="color:#657b83;">)</span><span>; </span><span style="color:#586e75;">// ä¼ é€’ f åˆ° printFraction å‡½æ•°ï¼ŒæŒ‰å€¼ä¼ é€’ï¼Œä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span></code></pre>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¯¹ <code>printFractionï¼ˆfï¼‰</code> çš„è°ƒç”¨æ˜¯é€šè¿‡å€¼ä¼ é€’ <code>f</code>ã€‚è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°å°† <code>f</code> ä» <code>main</code> å¤åˆ¶åˆ°å‡½æ•° <code>printFractionï¼ˆï¼‰</code> çš„ <code>f</code> å‚æ•°ä¸­ã€‚</p>
<p>åœ¨ C++ ä¸­ï¼Œ<strong>æ‹·è´æ„é€ å‡½æ•°ï¼ˆCopy Constructorï¼‰çš„å‚æ•°å¿…é¡»æ˜¯</strong> const <strong>å¼•ç”¨</strong>ï¼Œä¸èƒ½æŒ‰å€¼ä¼ é€’ï¼Œå¦åˆ™ä¼šå¯¼è‡´ <strong>æ— é™é€’å½’</strong>ï¼Œæœ€ç»ˆå¯¼è‡´ <strong>æ ˆæº¢å‡ºï¼ˆstack overflowï¼‰</strong>ã€‚</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#268bd2;">class </span><span style="color:#b58900;">MyClass
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#b58900;">MyClass</span><span style="color:#657b83;">(</span><span>MyClass </span><span style="color:#268bd2;">obj</span><span style="color:#657b83;">) </span><span style="color:#586e75;">// âŒ é”™è¯¯ï¼šæŒ‰å€¼ä¼ é€’æ‹·è´æ„é€ å‡½æ•°
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Copy Constructor Called</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span></code></pre>
<blockquote>
<p>å½“ä½ å°è¯•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆä¾‹å¦‚ MyClass obj2 = obj1;ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šè¿™æ ·åšï¼š</p>
<ol>
<li>obj1 éœ€è¦è¢«<strong>å¤åˆ¶</strong>åˆ° obj è¿™ä¸ªå‚æ•°ä¸­ï¼ˆå› ä¸ºæŒ‰å€¼ä¼ é€’ï¼‰ã€‚</li>
<li>ä½† obj ä¹Ÿæ˜¯ä¸€ä¸ª MyClass ç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥éœ€è¦è°ƒç”¨ <strong>æ‹·è´æ„é€ å‡½æ•°</strong> æ¥å¤åˆ¶ obj1ã€‚</li>
<li><strong>è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°æ—¶ï¼Œåˆè¦ä¼ é€’ obj è¿™ä¸ªå‚æ•°ï¼ˆæŒ‰å€¼ä¼ é€’ï¼‰</strong>ï¼Œå› æ­¤ï¼š
<ol>
<li><strong>åˆä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</strong></li>
<li><strong>æ‹·è´æ„é€ å‡½æ•°åˆéœ€è¦ä¼ é€’ obj</strong></li>
<li><strong>è¿›å…¥æ— é™é€’å½’çš„è°ƒç”¨é“¾</strong></li>
</ol>
</li>
<li>æœ€ç»ˆ <strong>æ ˆæº¢å‡ºï¼ˆStack Overflowï¼‰</strong>ï¼Œç¨‹åºå´©æºƒã€‚</li>
</ol>
</blockquote>
<hr />
<p>å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰å¤åˆ¶æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°†éšå¼åœ°ä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªã€‚å¦‚æœæˆ‘ä»¬æ„¿æ„ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾å¼åœ°å‘Šè¯‰ç¼–è¯‘å™¨ä½¿ç”¨ <code>= default</code> è¯­æ³•ä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°ï¼š</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">Fraction
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">private</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#268bd2;">int m_numerator</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">0 </span><span style="color:#657b83;">}</span><span>;
</span><span>    </span><span style="color:#268bd2;">int m_denominator</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1 </span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#586e75;">// é»˜è®¤æ„é€ å‡½æ•°
</span><span>    </span><span style="color:#b58900;">Fraction</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int numerator</span><span style="color:#657b83;">=</span><span style="color:#6c71c4;">0</span><span>, </span><span style="color:#268bd2;">int denominator</span><span style="color:#657b83;">=</span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">)
</span><span>        : </span><span style="color:#268bd2;">m_numerator</span><span style="color:#657b83;">{</span><span>numerator</span><span style="color:#657b83;">}</span><span>, </span><span style="color:#268bd2;">m_denominator</span><span style="color:#657b83;">{</span><span>denominator</span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    
</span><span>    </span><span style="color:#b58900;">Fraction</span><span style="color:#657b83;">(</span><span style="color:#859900;">const</span><span> Fraction</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">fraction</span><span style="color:#657b83;">) = </span><span style="color:#859900;">default</span><span>;
</span><span>
</span><span>    </span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">() </span><span style="color:#859900;">const
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Fraction(</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_numerator </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">, </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_denominator </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">)</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Fraction </span><span style="color:#b58900;">f </span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">5</span><span>, </span><span style="color:#6c71c4;">3 </span><span style="color:#657b83;">}</span><span>;
</span><span>    Fraction </span><span style="color:#268bd2;">fCopy </span><span style="color:#657b83;">{</span><span> f </span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span>    f.</span><span style="color:#b58900;">print</span><span style="color:#657b83;">()</span><span>;
</span><span>    </span><span style="color:#268bd2;">fCopy</span><span>.</span><span style="color:#b58900;">print</span><span style="color:#657b83;">()</span><span>;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<hr />
<h2 id="shi-yong-deletefang-zhi-fu-zhi">ä½¿ç”¨ <code>=delete</code>é˜²æ­¢å¤åˆ¶<a class="zola-anchor" href="#shi-yong-deletefang-zhi-fu-zhi" aria-label="Anchor link for: shi-yong-deletefang-zhi-fu-zhi">ğŸ”—</a></h2>
<p>æœ‰æ—¶å€™æˆ‘ä»¬ä¼šé‡åˆ°è¿™æ ·çš„éœ€æ±‚,æˆ‘ä»¬ä¸å¸Œæœ›æŸä¸ªç±»çš„å¯¹è±¡æ˜¯å¯ä»¥å¤åˆ¶çš„,æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨<code>=delete</code>æ¥å°†å¤åˆ¶æ„é€ å‡½æ•°æ ‡è®°ä¸ºåˆ é™¤ä»¥å®ç°è¯¥éœ€æ±‚ã€‚</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">Fraction
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">private</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#268bd2;">int m_numerator</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">0 </span><span style="color:#657b83;">}</span><span>;
</span><span>    </span><span style="color:#268bd2;">int m_denominator</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1 </span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#586e75;">// Default constructor
</span><span>    </span><span style="color:#b58900;">Fraction</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int numerator</span><span style="color:#657b83;">=</span><span style="color:#6c71c4;">0</span><span>, </span><span style="color:#268bd2;">int denominator</span><span style="color:#657b83;">=</span><span style="color:#6c71c4;">1</span><span style="color:#657b83;">)
</span><span>        : </span><span style="color:#268bd2;">m_numerator</span><span style="color:#657b83;">{</span><span>numerator</span><span style="color:#657b83;">}</span><span>, </span><span style="color:#268bd2;">m_denominator</span><span style="color:#657b83;">{</span><span>denominator</span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#586e75;">// åˆ é™¤å¤åˆ¶æ„é€ å‡½æ•° æ— æ³•å†å¤åˆ¶
</span><span>    </span><span style="color:#b58900;">Fraction</span><span style="color:#657b83;">(</span><span style="color:#859900;">const</span><span> Fraction</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">fraction</span><span style="color:#657b83;">) = </span><span style="color:#859900;">delete</span><span>;
</span><span>
</span><span>    </span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">() </span><span style="color:#859900;">const
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Fraction(</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_numerator </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">, </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_denominator </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">)</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Fraction </span><span style="color:#b58900;">f </span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">5</span><span>, </span><span style="color:#6c71c4;">3 </span><span style="color:#657b83;">}</span><span>;
</span><span>    Fraction </span><span style="color:#268bd2;">fCopy </span><span style="color:#657b83;">{</span><span> f </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">//ç¼–è¯‘é”™è¯¯
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“ç¼–è¯‘å™¨å»å¯»æ‰¾ä¸€ä¸ªæ„é€ å‡½æ•°æ¥ç”¨ <code>f</code> åˆå§‹åŒ– <code>fCopy</code> æ—¶ï¼Œå®ƒä¼šå‘ç°å¤åˆ¶æ„é€ å‡½æ•°å·²ç»è¢«åˆ é™¤äº†ã€‚è¿™å°†å¯¼è‡´å®ƒå‘å‡ºç¼–è¯‘é”™è¯¯ã€‚</p>
<blockquote>
<p>é€šå¸¸ï¼ŒC++ ç±»çš„ <strong>æ‹·è´æ„é€ å‡½æ•°</strong> æ˜¯ public çš„ï¼Œè¿™æ ·å¤–éƒ¨ä»£ç ï¼ˆä¾‹å¦‚æŒ‰å€¼ä¼ é€’å¯¹è±¡ã€å¯¹è±¡èµ‹å€¼ç­‰ï¼‰å¯ä»¥æ­£å¸¸å¤åˆ¶å¯¹è±¡ã€‚ä½†å¦‚æœä½  <strong>ä¸å¸Œæœ›å¯¹è±¡è¢«éšæ„å¤åˆ¶</strong>ï¼Œå¯ä»¥å°†æ‹·è´æ„é€ å‡½æ•°è®¾ä¸º privateï¼Œè¿™æ ·å°±æ— æ³•åœ¨ç±»å¤–éƒ¨è¿›è¡Œå¤åˆ¶ã€‚</p>
<p>ç„¶è€Œï¼Œè¿™æ ·åšæœ‰ä¸€ä¸ªä¾‹å¤–ï¼š<strong>ç±»çš„æˆå‘˜å‡½æ•°ä»ç„¶å¯ä»¥è®¿é—®ç§æœ‰æ‹·è´æ„é€ å‡½æ•°</strong>ï¼Œæ‰€ä»¥å¦‚æœä½ çš„ç±»å†…éƒ¨æœ‰æŸäº›ä»£ç ä»ç„¶éœ€è¦å¤åˆ¶å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¸é€‚åˆã€‚</p>
</blockquote>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">NonCopyable
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">private</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#586e75;">// ç§æœ‰æ‹·è´æ„é€ å‡½æ•°ï¼Œé˜²æ­¢å¤–éƒ¨å¤åˆ¶
</span><span>    </span><span style="color:#b58900;">NonCopyable</span><span style="color:#657b83;">(</span><span style="color:#859900;">const</span><span> NonCopyable</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">other</span><span style="color:#657b83;">) 
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">æ‹·è´æ„é€ å‡½æ•°è¢«è°ƒç”¨</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#586e75;">// é»˜è®¤æ„é€ å‡½æ•°
</span><span>    </span><span style="color:#b58900;">NonCopyable</span><span style="color:#657b83;">() 
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">é»˜è®¤æ„é€ å‡½æ•°è¢«è°ƒç”¨</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#268bd2;">void </span><span style="color:#b58900;">show</span><span style="color:#657b83;">() </span><span style="color:#859900;">const 
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">æˆ‘æ˜¯ä¸€ä¸ª NonCopyable å¯¹è±¡</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    NonCopyable obj1; </span><span style="color:#586e75;">// âœ… è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°
</span><span>
</span><span>    </span><span style="color:#586e75;">// NonCopyable obj2 = obj1; // âŒ è¿™é‡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºæ‹·è´æ„é€ å‡½æ•°æ˜¯ private çš„
</span><span>    </span><span style="color:#586e75;">// printNonCopyable(obj1);  // âŒ è¿™é‡Œä¹Ÿä¼šæŠ¥é”™ï¼ŒæŒ‰å€¼ä¼ é€’éœ€è¦æ‹·è´
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<hr />
<h2 id="lei-chu-shi-hua-he-fu-zhi-sheng-lue">ç±»åˆå§‹åŒ–å’Œå¤åˆ¶çœç•¥<a class="zola-anchor" href="#lei-chu-shi-hua-he-fu-zhi-sheng-lue" aria-label="Anchor link for: lei-chu-shi-hua-he-fu-zhi-sheng-lue">ğŸ”—</a></h2>
<p>å…ˆå›é¡¾ä¸€ä¸‹å…·æœ‰åŸºæœ¬æ•°æ®ç±»å‹çš„å¯¹è±¡çš„6ç§åŸºæœ¬åˆå§‹åŒ–æ–¹å¼:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#268bd2;">int</span><span> a;         </span><span style="color:#586e75;">// æ²¡æœ‰åˆå§‹åŒ–å™¨ï¼ˆé»˜è®¤åˆå§‹åŒ–ï¼‰  
</span><span style="color:#268bd2;">int</span><span> b </span><span style="color:#657b83;">= </span><span style="color:#6c71c4;">5</span><span>;     </span><span style="color:#586e75;">// åœ¨ç­‰å·åä½¿ç”¨åˆå§‹åŒ–å™¨ï¼ˆæ‹·è´åˆå§‹åŒ–ï¼‰  
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">c</span><span style="color:#657b83;">(</span><span style="color:#6c71c4;">6</span><span style="color:#657b83;">)</span><span>;      </span><span style="color:#586e75;">// ä½¿ç”¨æ‹¬å·å†…çš„åˆå§‹åŒ–å™¨ï¼ˆç›´æ¥åˆå§‹åŒ–ï¼‰  
</span><span>
</span><span style="color:#586e75;">// åˆ—è¡¨åˆå§‹åŒ–æ–¹æ³•ï¼ˆC++11ï¼‰  
</span><span style="color:#268bd2;">int</span><span> d </span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">7 </span><span style="color:#657b83;">}</span><span>;   </span><span style="color:#586e75;">// ä½¿ç”¨å¤§æ‹¬å·çš„åˆå§‹åŒ–å™¨ï¼ˆç›´æ¥åˆ—è¡¨åˆå§‹åŒ–ï¼‰  
</span><span style="color:#268bd2;">int</span><span> e </span><span style="color:#657b83;">= { </span><span style="color:#6c71c4;">8 </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// åœ¨ç­‰å·åä½¿ç”¨å¤§æ‹¬å·çš„åˆå§‹åŒ–å™¨ï¼ˆæ‹·è´åˆ—è¡¨åˆå§‹åŒ–ï¼‰  
</span><span style="color:#268bd2;">int</span><span> f </span><span style="color:#657b83;">{}</span><span>;      </span><span style="color:#586e75;">// åˆå§‹åŒ–å™¨ä¸ºç©ºçš„å¤§æ‹¬å·ï¼ˆå€¼åˆå§‹åŒ–ï¼‰  
</span></code></pre>
<p>æ‰€æœ‰è¿™äº›åˆå§‹åŒ–ç±»å‹å¯¹äºå…·æœ‰ç±»ç±»å‹çš„å¯¹è±¡éƒ½æ˜¯æœ‰æ•ˆçš„ï¼š</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">Foo
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>
</span><span>    </span><span style="color:#586e75;">// é»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ— å‚æ•°ï¼‰
</span><span>    </span><span style="color:#b58900;">Foo</span><span style="color:#657b83;">()
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Foo()</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#586e75;">// æ™®é€šæ„é€ å‡½æ•°ï¼ˆå¸¦ä¸€ä¸ª int å‚æ•°ï¼‰
</span><span>    </span><span style="color:#b58900;">Foo</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int x</span><span style="color:#657b83;">)
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Foo(int) </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> x </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#586e75;">// æ‹·è´æ„é€ å‡½æ•°ï¼ˆç”¨äºå¤åˆ¶å·²æœ‰å¯¹è±¡ï¼‰
</span><span>    </span><span style="color:#b58900;">Foo</span><span style="color:#657b83;">(</span><span style="color:#859900;">const</span><span> Foo</span><span style="color:#859900;">&amp;</span><span style="color:#657b83;">)
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Foo(const Foo&amp;)</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#586e75;">// è°ƒç”¨ Foo() é»˜è®¤æ„é€ å‡½æ•°
</span><span>    Foo f1;           </span><span style="color:#586e75;">// é»˜è®¤åˆå§‹åŒ–
</span><span>    Foo </span><span style="color:#b58900;">f2</span><span style="color:#657b83;">{}</span><span>;         </span><span style="color:#586e75;">// å€¼åˆå§‹åŒ–ï¼ˆæ¨èï¼‰
</span><span>
</span><span>    </span><span style="color:#586e75;">// è°ƒç”¨ Foo(int) æ™®é€šæ„é€ å‡½æ•°
</span><span>    Foo f3 </span><span style="color:#657b83;">= </span><span style="color:#6c71c4;">3</span><span>;       </span><span style="color:#586e75;">// æ‹·è´åˆå§‹åŒ–ï¼ˆä»…é€‚ç”¨äºé explicit æ„é€ å‡½æ•°ï¼‰
</span><span>    Foo </span><span style="color:#b58900;">f4</span><span style="color:#657b83;">(</span><span style="color:#6c71c4;">4</span><span style="color:#657b83;">)</span><span>;        </span><span style="color:#586e75;">// ç›´æ¥åˆå§‹åŒ–
</span><span>    Foo </span><span style="color:#b58900;">f5</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">5 </span><span style="color:#657b83;">}</span><span>;      </span><span style="color:#586e75;">// ç›´æ¥åˆ—è¡¨åˆå§‹åŒ–ï¼ˆæ¨èï¼‰
</span><span>    Foo f6 </span><span style="color:#657b83;">= { </span><span style="color:#6c71c4;">6 </span><span style="color:#657b83;">}</span><span>;   </span><span style="color:#586e75;">// æ‹·è´åˆ—è¡¨åˆå§‹åŒ–ï¼ˆä»…é€‚ç”¨äºé explicit æ„é€ å‡½æ•°ï¼‰
</span><span>
</span><span>    </span><span style="color:#586e75;">// è°ƒç”¨ Foo(const Foo&amp;) æ‹·è´æ„é€ å‡½æ•°
</span><span>    Foo f7 </span><span style="color:#657b83;">=</span><span> f3;      </span><span style="color:#586e75;">// æ‹·è´åˆå§‹åŒ–
</span><span>    Foo </span><span style="color:#b58900;">f8</span><span style="color:#657b83;">(</span><span>f3</span><span style="color:#657b83;">)</span><span>;       </span><span style="color:#586e75;">// ç›´æ¥åˆå§‹åŒ–
</span><span>    Foo </span><span style="color:#b58900;">f9</span><span style="color:#657b83;">{</span><span> f3 </span><span style="color:#657b83;">}</span><span>;     </span><span style="color:#586e75;">// ç›´æ¥åˆ—è¡¨åˆå§‹åŒ–ï¼ˆæ¨èï¼‰
</span><span>    Foo f10 </span><span style="color:#657b83;">= {</span><span> f3 </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// æ‹·è´åˆ—è¡¨åˆå§‹åŒ–
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>åœ¨ç°ä»£C++ä¸­,å¤åˆ¶åˆå§‹åŒ–ã€ç›´æ¥åˆå§‹åŒ–å’Œåˆ—è¡¨åˆå§‹åŒ–çš„æœ¬è´¨åšçš„éƒ½æ˜¯åŒä¸€ä»¶äº‹: <strong>åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡</strong>ã€‚</p>
<p>å¯¹äºæ‰€æœ‰ç±»å‹çš„åˆå§‹åŒ–:</p>
<ul>
<li>åˆå§‹åŒ–ç±»ç±»å‹æ—¶,å°†æ£€æŸ¥è¯¥ç±»çš„æ„é€ å‡½æ•°é›†,å¹¶ä½¿ç”¨é‡è½½è§£ææ¥ç¡®å®šæœ€ä½³åŒ¹é…çš„æ„é€ å‡½æ•°ã€‚è¿™å¯èƒ½æ¶‰åŠå‚æ•°çš„éšå¼è½¬æ¢ã€‚</li>
<li>åˆå§‹åŒ–éç±»ç±»å‹æ—¶,ç¼–è¯‘å™¨ä¼šä½¿ç”¨<strong>éšå¼è½¬æ¢è§„åˆ™</strong>æ¥æ£€æŸ¥æ˜¯å¦å¯ä»¥å°†æä¾›çš„å€¼è½¬æ¢ä¸ºç›®æ ‡ç±»å‹ã€‚</li>
</ul>
<blockquote>
<p>åŒæ ·å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒæŸäº›å½¢å¼çš„åˆå§‹åŒ–æ˜¯ä¸å…è®¸çš„ï¼ˆä¾‹å¦‚ï¼Œåœ¨æ„é€ å‡½æ•°æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬åªèƒ½ä½¿ç”¨ç›´æ¥å½¢å¼çš„åˆå§‹åŒ–ï¼Œè€Œä¸èƒ½å¤åˆ¶åˆå§‹åŒ–ï¼‰ã€‚</p>
</blockquote>
<hr />
<h2 id="bu-bi-yao-de-fu-zhi">ä¸å¿…è¦çš„å¤åˆ¶<a class="zola-anchor" href="#bu-bi-yao-de-fu-zhi" aria-label="Anchor link for: bu-bi-yao-de-fu-zhi">ğŸ”—</a></h2>
<p>è€ƒè™‘ä¸‹é¢çš„ç¨‹åº:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">class </span><span style="color:#b58900;">Something
</span><span style="color:#657b83;">{
</span><span>  </span><span style="color:#268bd2;">int</span><span> m_x </span><span style="color:#657b83;">{}</span><span>;
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#b58900;">Something</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int x</span><span style="color:#657b83;">) </span><span>: </span><span style="color:#268bd2;">m_x</span><span style="color:#657b83;">{</span><span>x</span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span>&quot;</span><span style="color:#2aa198;">Normal constructor called</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#b58900;">Something</span><span style="color:#657b83;">(</span><span style="color:#859900;">const</span><span> Something</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">s</span><span style="color:#657b83;">)</span><span>:</span><span style="color:#268bd2;">m_x </span><span style="color:#657b83;">{</span><span>s.</span><span style="color:#268bd2;">m_x</span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Copy constructor</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">() </span><span style="color:#859900;">const
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Something(</span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#268bd2;">m_x </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">)</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Something </span><span style="color:#b58900;">s </span><span style="color:#657b83;">{</span><span style="color:#b58900;">Something </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">6</span><span style="color:#657b83;">} }</span><span>;
</span><span>    s.</span><span style="color:#b58900;">print</span><span style="color:#657b83;">()</span><span>;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span></code></pre>
<p>åœ¨ä¸Šé¢çš„å˜é‡<code>s</code>çš„åˆå§‹åŒ–ä¸­,æˆ‘ä»¬é¦–å…ˆæ„é€ ä¸€ä¸ªä¸´æ—¶çš„<code>Something</code>,åˆå§‹åŒ–å€¼ä¸º<code>6</code>. ç„¶åä½¿ç”¨è¿™ä¸ªä¸´æ—¶å˜é‡æ¥åˆå§‹åŒ–<code>s</code>  ,å› ä¸ºä¸´æ—¶å¯¹è±¡å’Œ <code>s</code> å…·æœ‰ç›¸åŒçš„ç±»å‹ï¼ˆå®ƒä»¬éƒ½æ˜¯ <code>Something</code> å¯¹è±¡ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œé€šå¸¸ä¼šè°ƒç”¨ <code>Somethingï¼ˆconst Somethingï¼‰</code> å¤åˆ¶æ„é€ å‡½æ•°æ¥å°†ä¸´æ—¶å¯¹è±¡ä¸­çš„å€¼å¤åˆ¶åˆ° <code>s</code> ä¸­ã€‚æœ€ç»ˆç»“æœæ˜¯ <code>s</code> è¢«åˆå§‹åŒ–ä¸ºå€¼ <code>6</code>ã€‚</p>
<p>åœ¨<strong>æ²¡æœ‰ä»»ä½•ä¼˜åŒ–</strong>çš„æƒ…å†µä¸‹,ä¸Šé¢çš„ç¨‹åºå°†ä¼šæ‰“å°:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span>Normal </span><span style="color:#b58900;">constructor
</span><span style="color:#b58900;">Copy constructor
</span><span style="color:#b58900;">Something</span><span style="color:#657b83;">(</span><span style="color:#6c71c4;">5</span><span style="color:#657b83;">)
</span></code></pre>
<p>ç„¶è€Œï¼Œè¿™ä¸ªç¨‹åºæ˜¯ä¸å¿…è¦çš„ä½æ•ˆç‡ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»è¿›è¡Œä¸¤æ¬¡æ„é€ å‡½æ•°è°ƒç”¨ï¼šä¸€æ¬¡æ˜¯å¯¹ Somethingï¼ˆintï¼‰ï¼Œå¦ä¸€æ¬¡æ˜¯å¯¹ <code>Somethingï¼ˆconst Something&amp;ï¼‰</code>ã€‚è¯·æ³¨æ„ï¼Œä¸Šé¢çš„æœ€ç»ˆç»“æœä¸æˆ‘ä»¬ç¼–å†™ä»¥ä¸‹ä»£ç çš„ç»“æœç›¸åŒï¼š</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span>Something s </span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">5 </span><span style="color:#657b83;">}</span><span>; 
</span></code></pre>
<hr />
<h2 id="fu-zhi-xiao-chu">å¤åˆ¶æ¶ˆé™¤<a class="zola-anchor" href="#fu-zhi-xiao-chu" aria-label="Anchor link for: fu-zhi-xiao-chu">ğŸ”—</a></h2>
<p>ç”±äºç¼–è¯‘å™¨å¯ä»¥è‡ªç”±åœ°é‡å†™è¯­å¥æ¥ä¼˜åŒ–å®ƒä»¬ï¼Œäººä»¬å¯èƒ½ä¼šæƒ³ï¼Œç¼–è¯‘å™¨æ˜¯å¦å¯ä»¥ä¼˜åŒ–æ‰ä¸å¿…è¦çš„å‰¯æœ¬ï¼Œå¹¶å°† <code>Something s { Something{5} }</code> è§†ä¸ºæˆ‘ä»¬æœ€ç»ˆçš„å†™æ³•ã€‚</p>
<p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œè¿™æ ·åšçš„è¿‡ç¨‹è¢«ç§°ä¸º<em>å¤åˆ¶çœç•¥</em> ã€‚ <strong>å¤åˆ¶çœç•¥</strong>æ˜¯ä¸€ç§ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€æœ¯ï¼Œå®ƒå…è®¸ç¼–è¯‘å™¨åˆ é™¤ä¸å¿…è¦çš„å¯¹è±¡å¤åˆ¶ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œåœ¨ç¼–è¯‘å™¨é€šå¸¸ä¼šè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å¯ä»¥è‡ªç”±åœ°é‡å†™ä»£ç ä»¥å®Œå…¨é¿å…å¯¹å¤åˆ¶æ„é€ å‡½æ•°çš„è°ƒç”¨ã€‚å½“ç¼–è¯‘å™¨ä¼˜åŒ–æ‰å¯¹å¤åˆ¶æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬è¯´è¯¥æ„é€ å‡½æ•°å·²è¢«<strong>çœç•¥</strong> ã€‚</p>
<p>ä¸å…¶ä»–ç±»å‹çš„ä¼˜åŒ–ä¸åŒï¼Œå¤åˆ¶çœç•¥ä¸å—â€œas-ifâ€è§„åˆ™çš„çº¦æŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…è®¸å¤åˆ¶çœç•¥æ¥çœç•¥å¤åˆ¶æ„é€ å‡½æ•°ï¼Œå³ä½¿å¤åˆ¶æ„é€ å‡½æ•°è¿˜ä¼šæ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚</p>
<p>è¿™å°±æ˜¯å‰é¢ä¸ºä»€ä¹ˆè¯´ <strong>å¤åˆ¶æ„é€ å‡½æ•°ä¸åº”è¯¥å­˜åœ¨é™¤å¤åˆ¶åŠŸèƒ½ä¹‹å¤–å…¶ä»–æ“ä½œ</strong>çš„åŸå› ã€‚ </p>
<p>æ‰€ä»¥ä¸Šé¢çš„ç¨‹åºå¦‚æœåœ¨C++17ç¯å¢ƒä¸‹ç¼–è¯‘,é‚£ä¹ˆä½ çš„æ‰“å°å°†å’Œæˆ‘ä¸€æ ·:</p>
<p><img src="https://images.waer.ltd/notes/202503241758804.png" alt="image-20250324175809736" /></p>
<hr />
<h2 id="c-17-zhong-de-qiang-zhi-fu-zhi-sheng-lue"><strong>C++17 ä¸­çš„å¼ºåˆ¶å¤åˆ¶çœç•¥</strong><a class="zola-anchor" href="#c-17-zhong-de-qiang-zhi-fu-zhi-sheng-lue" aria-label="Anchor link for: c-17-zhong-de-qiang-zhi-fu-zhi-sheng-lue">ğŸ”—</a></h2>
<p>åœ¨ <code>C++</code>17 ä¹‹å‰ï¼Œå¤åˆ¶çœç•¥æ˜¯ç¼–è¯‘å™¨å¯ä»¥è¿›è¡Œçš„ä¸¥æ ¼çš„å¯é€‰ä¼˜åŒ–ã€‚åœ¨ <code>C++17</code> ä¸­ï¼Œå¤åˆ¶çœç•¥åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯å¼ºåˆ¶æ€§çš„ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå¤åˆ¶çœç•¥å°†è‡ªåŠ¨æ‰§è¡Œï¼ˆå³ä½¿æ‚¨å‘Šè¯‰ç¼–è¯‘å™¨ä¸è¦æ‰§è¡Œå¤åˆ¶çœç•¥ï¼‰ã€‚</p>
<ul>
<li>åœ¨å¯é€‰çš„çœç•¥æƒ…å†µä¸‹ï¼Œå¯è®¿é—®çš„å¤åˆ¶æ„é€ å‡½æ•°å¿…é¡»å¯ç”¨ï¼ˆä¾‹å¦‚æœªåˆ é™¤ï¼‰ï¼Œå³ä½¿å¯¹å¤åˆ¶æ„é€ å‡½æ•°çš„å®é™…è°ƒç”¨è¢«çœç•¥ã€‚</li>
<li>åœ¨å¼ºåˆ¶çœç•¥çš„æƒ…å†µä¸‹ï¼Œå¯è®¿é—®çš„å¤åˆ¶æ„é€ å‡½æ•°ä¸éœ€è¦å¯ç”¨ï¼ˆæ¢å¥è¯è¯´ï¼Œå³ä½¿åˆ é™¤äº†å¤åˆ¶æ„é€ å‡½æ•°ï¼Œä¹Ÿä¼šå‘ç”Ÿå¼ºåˆ¶çœç•¥ï¼‰ã€‚</li>
</ul>
<hr />
<h2 id="ti-yi-zui-explict">æä¸€å˜´explict<a class="zola-anchor" href="#ti-yi-zui-explict" aria-label="Anchor link for: ti-yi-zui-explict">ğŸ”—</a></h2>
<p>åœ¨ <code>C++</code> ä¸­ï¼Œ<code>explicit</code> å…³é”®å­—ç”¨äºä¿®é¥°<strong>æ„é€ å‡½æ•°</strong>å’Œ<strong>è½¬æ¢è¿ç®—ç¬¦</strong>ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯<strong>é˜²æ­¢éšå¼è½¬æ¢</strong>ï¼Œç¡®ä¿ç±»çš„å¯¹è±¡ä¸ä¼šè¢«æ„å¤–åœ°ä»å…¶ä»–ç±»å‹çš„å€¼éšå¼æ„é€ ã€‚</p>
<ul>
<li><strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œåº”è¯¥å°†æ‰€æœ‰æ¥å—å•ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°å£°æ˜ä¸º explicitã€‚</strong>
<ul>
<li>è¿™æ ·å¯ä»¥é˜²æ­¢<strong>éšå¼ç±»å‹è½¬æ¢</strong>ï¼Œé¿å…æ„å¤–çš„ç±»å‹è½¬æ¢å¯¼è‡´çš„é”™è¯¯ã€‚</li>
</ul>
</li>
<li><strong>å¦‚æœæŸç§ç±»å‹è½¬æ¢åœ¨è¯­ä¹‰ä¸Šæ˜¯åˆç†çš„ï¼Œå¹¶ä¸”æ€§èƒ½ä¸Šæ²¡æœ‰é—®é¢˜ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä¸ä½¿ç”¨ explicitï¼Œå…è®¸éšå¼è½¬æ¢ã€‚</strong>
<ul>
<li>ä¾‹å¦‚ï¼Œå¦‚æœç±» <code>String</code> æœ‰ä¸€ä¸ªæ¥å— <code>const char*</code> çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å…è®¸ä» <code>const char*</code> éšå¼è½¬æ¢ä¸º <code>String</code> æ˜¯åˆç†çš„ï¼Œå¯ä»¥å»æ‰ <code>explicit</code>ã€‚</li>
</ul>
</li>
<li><strong>ä¸è¦å°†æ‹·è´æ„é€ å‡½æ•°æˆ–ç§»åŠ¨æ„é€ å‡½æ•°å£°æ˜ä¸º explicitï¼Œå› ä¸ºå®ƒä»¬å¹¶ä¸ä¼šè¿›è¡Œç±»å‹è½¬æ¢ã€‚</strong>
<ul>
<li>æ‹·è´æ„é€ <code>ï¼ˆT(const T&amp;)ï¼‰</code>å’Œç§»åŠ¨æ„é€ ï¼ˆ<code>T(T&amp;&amp;)ï¼‰</code>çš„ä½œç”¨æ˜¯å¤åˆ¶æˆ–ç§»åŠ¨ç›¸åŒç±»å‹çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯è¿›è¡Œç±»å‹è½¬æ¢ï¼Œå› æ­¤ä¸åº”è¯¥åŠ  <code>explicit</code>ï¼Œå¦åˆ™ä¼šå½±å“å¯¹è±¡çš„æ­£å¸¸å¤åˆ¶å’Œç§»åŠ¨æ“ä½œã€‚</li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹:</p>
<p><strong>âœ… æ­£ç¡®ï¼šä½¿ç”¨ explicit é˜²æ­¢éšå¼è½¬æ¢</strong></p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#268bd2;">class </span><span style="color:#b58900;">Foo
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#859900;">explicit </span><span style="color:#b58900;">Foo</span><span style="color:#657b83;">(</span><span style="color:#268bd2;">int x</span><span style="color:#657b83;">) </span><span style="color:#586e75;">// âœ… é»˜è®¤åŠ  explicitï¼Œé˜²æ­¢éšå¼è½¬æ¢
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Foo(int) called with </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> x </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">printFoo</span><span style="color:#657b83;">(</span><span>Foo </span><span style="color:#268bd2;">f</span><span style="color:#657b83;">) {}
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Foo f1 </span><span style="color:#657b83;">= </span><span style="color:#6c71c4;">10</span><span>; </span><span style="color:#586e75;">// âŒ ç¼–è¯‘é”™è¯¯ï¼šexplicit ç¦æ­¢äº†éšå¼è½¬æ¢
</span><span>    Foo </span><span style="color:#b58900;">f2</span><span style="color:#657b83;">(</span><span style="color:#6c71c4;">10</span><span style="color:#657b83;">)</span><span>;  </span><span style="color:#586e75;">// âœ… ç›´æ¥åˆå§‹åŒ–å¯ä»¥
</span><span>    </span><span style="color:#b58900;">printFoo</span><span style="color:#657b83;">(</span><span style="color:#6c71c4;">10</span><span style="color:#657b83;">)</span><span>; </span><span style="color:#586e75;">// âŒ ç¼–è¯‘é”™è¯¯ï¼Œæ— æ³•ä» int éšå¼è½¬æ¢ä¸º Foo
</span><span style="color:#657b83;">}
</span></code></pre>
<p><strong>âœ… åˆç†å»æ‰ explicit å…è®¸éšå¼è½¬æ¢</strong></p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#268bd2;">class </span><span style="color:#b58900;">String
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#b58900;">String</span><span style="color:#657b83;">(</span><span style="color:#859900;">const </span><span style="color:#268bd2;">char</span><span style="color:#859900;">* </span><span style="color:#268bd2;">str</span><span style="color:#657b83;">) </span><span style="color:#586e75;">// âœ… å…è®¸ä» const char* éšå¼è½¬æ¢ä¸º String
</span><span>    </span><span style="color:#657b83;">{
</span><span>        std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">String constructor called</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">printString</span><span style="color:#657b83;">(</span><span>String </span><span style="color:#268bd2;">s</span><span style="color:#657b83;">) {}
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#b58900;">printString</span><span style="color:#657b83;">(</span><span>&quot;</span><span style="color:#2aa198;">Hello</span><span>&quot;</span><span style="color:#657b83;">)</span><span>; </span><span style="color:#586e75;">// âœ… å…è®¸éšå¼è½¬æ¢
</span><span style="color:#657b83;">}
</span></code></pre>
<p><strong>âŒ ä¸è¦ç»™æ‹·è´/ç§»åŠ¨æ„é€ å‡½æ•°åŠ  explicit</strong></p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#268bd2;">class </span><span style="color:#b58900;">Bar
</span><span style="color:#657b83;">{
</span><span style="color:#859900;">public</span><span style="color:#657b83;">:
</span><span>    </span><span style="color:#b58900;">Bar</span><span style="color:#657b83;">(</span><span style="color:#859900;">const</span><span> Bar</span><span style="color:#859900;">&amp;</span><span style="color:#657b83;">) = </span><span style="color:#859900;">default</span><span>; </span><span style="color:#586e75;">// âœ… æ­£ç¡®ï¼Œæ‹·è´æ„é€ å‡½æ•°ä¸åº” explicit
</span><span>    </span><span style="color:#b58900;">Bar</span><span style="color:#657b83;">(</span><span>Bar</span><span style="color:#657b83;">&amp;&amp;) = </span><span style="color:#859900;">default</span><span>;      </span><span style="color:#586e75;">// âœ… æ­£ç¡®ï¼Œç§»åŠ¨æ„é€ å‡½æ•°ä¸åº” explicit
</span><span style="color:#657b83;">}</span><span>;
</span></code></pre>
<blockquote>
<p>å¦‚æœåŠ ä¸Š <code>explicit</code>ï¼Œå°†ä¼šå¯¼è‡´ <code>Bar b2 = b1</code>; æ— æ³•ç¼–è¯‘ã€‚</p>
</blockquote>
<table><thead><tr><th><strong>è§„åˆ™</strong></th><th><strong>è§£é‡Š</strong></th></tr></thead><tbody>
<tr><td><strong>å•å‚æ•°æ„é€ å‡½æ•°é»˜è®¤ explicit</strong></td><td>é˜²æ­¢æ„å¤–çš„éšå¼è½¬æ¢</td></tr>
<tr><td><strong>å¦‚æœéšå¼è½¬æ¢åˆç†ä¸”é«˜æ•ˆï¼Œå¯å»æ‰ explicit</strong></td><td>ä¾‹å¦‚ String(const char*)</td></tr>
<tr><td><strong>æ‹·è´/ç§»åŠ¨æ„é€ å‡½æ•°ä¸è¦ explicit</strong></td><td>è¿™äº›æ„é€ å‡½æ•°ä¸ä¼šæ‰§è¡Œç±»å‹è½¬æ¢ï¼Œé¿å…å½±å“æ­£å¸¸å¤åˆ¶/ç§»åŠ¨</td></tr>
</tbody></table>

      
    </div><!--./card-body-->

    <div class="card-footer">
      <div class="columns">
        <div class="column col-9 col-sm-7">
          <div class="taxonomies text-left">
            

    
          </div>
        </div><!--./col-6-->
        
        </div><!--./columns-->
    </div><!--./card-footer-->
</div><!--./card-->
</div>
              <div id="sidebar" class="column col-4 col-md-12">
                <div class="sidebar-content">
                  
                  
<div class="sidebar-widget">
  <div class="tile">
    <div class="tile-icon">
      <figure class="avatar avatar-xl">
        <img src="https://ilikexff.cn/avatar.png" alt="author avatar image">
      </figure>
    </div>
    <div class="tile-content">
      <p class="tile-title" style="font-weight: 600;">å…«å°ºå¦–å‰‘</p>
      <p class="tile-subtitle">çƒ­çˆ±ç¼–ç¨‹ï¼Œä¸“æ³¨äºæŠ€æœ¯åˆ†äº«å’Œå­¦ä¹ </p>
    </div>
</div><!--./tile-->
</div>

                  
                  
<div class="sidebar-widget">
  æ¬¢è¿æ¥åˆ°<strong>å…«å°ºå¦–å‰‘</strong>ï¼è¿™é‡Œåˆ†äº«æŠ€æœ¯æ–‡ç« å’Œç¼–ç¨‹å¿ƒå¾—ã€‚
</div><!-- end text widget -->

                  

                  </div><!--./sidebar-content-->
              </div>
            </div>
            
          </section>
        </section></section>
<section class="container grid-xl">
<ul class="pagination paginator">
  
  
</ul>
</section>
</div><!-- ./page-wrapper -->

    
<div class="mobile-container">
        <div class="overlay" id="overlay">
            <div style="padding: 1rem;">
              
<a class="site-logo" href="https:&#x2F;&#x2F;ilikexff.cn">
  
  <div class="col-mx-auto">
    <figure style="margin: 8px">
      <img class="img-responsive"
           style="max-height: 45px"
           alt="frontmatter image"
           src="https://ilikexff.cn/./assets/logo.png">
    </figure>
  </div>
  
</a>

            </div>
            <nav class="overlay-menu">
              

<ul class="tree treemenu treemenu-root"><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/tags">æ ‡ç­¾</a>
    </li><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/categories">åˆ†ç±»</a>
    </li><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/about">å…³äº</a>
    </li></ul>


              </nav>
        </div>
    </div>

<script type="text/javascript">
  var overlay = document.getElementById('overlay');
  var toggle = document.getElementById('toggle');

  function openOverlay(){
      // Open overlay
      if (overlay.classList.contains("open")) {
          overlay.classList.remove("open");
      }
      else {
          overlay.classList.add("open");
      }

      // Button transition
      if (toggle.classList.contains("active")) {
          toggle.classList.remove("active");
      }
      else {
          toggle.classList.add("active");
      }
    }
</script>

<section id="footer" class="bg-gray">
  <div class="container grid-xl">
    


    <div class="columns">
      
      <div class="column col-6 col-lg-12 col-mx-auto" style="text-align: center;">
        ç®€å•æ˜¯æ•ˆç‡çš„çµé­‚ | é»”ICPå¤‡2021010295å·
      </div>
      
      <div class="column col-6 col-lg-12 col-mx-auto" style="text-align: center;">
        Made by <a href="https://github.com/gicrisf/">gicrisf</a> -
        <strong>Zhuia</strong>&nbsp;<a href="https://github.com/gicrisf/zhuia">source code</a>
        is licensed under <a href="http://opensource.org/licenses/mit-license.php" target="_blank">MIT</a>.
      </div>
    </div>
  </div>
</section>
</body>
</html>
