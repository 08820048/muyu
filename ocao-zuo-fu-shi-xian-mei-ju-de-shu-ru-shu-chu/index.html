<!DOCTYPE html>
<html lang="zh" data-theme="light" dir="ltr">
  <head>
    <title>Oæ“ä½œç¬¦,å®ç°æšä¸¾çš„è¾“å…¥è¾“å‡º - å…«å°ºå¦–å‰‘</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨C++ä¸­é‡è½½è¾“å…¥è¾“å‡ºæ“ä½œç¬¦æ¥å®ç°æšä¸¾ç±»å‹çš„è¾“å…¥è¾“å‡ºåŠŸèƒ½ï¼Œæå‡ä»£ç çš„å¯è¯»æ€§å’Œæ˜“ç”¨æ€§ã€‚"/>

    <meta property="og:title" content="å…«å°ºå¦–å‰‘ -&nbsp;Oæ“ä½œç¬¦,å®ç°æšä¸¾çš„è¾“å…¥è¾“å‡º" />
    <meta property="og:type" content="website"/><meta property="og:url" content="https:&#x2F;&#x2F;ilikexff.cn&#x2F;ocao-zuo-fu-shi-xian-mei-ju-de-shu-ru-shu-chu&#x2F;"/><meta property="og:description" content="è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨C++ä¸­é‡è½½è¾“å…¥è¾“å‡ºæ“ä½œç¬¦æ¥å®ç°æšä¸¾ç±»å‹çš„è¾“å…¥è¾“å‡ºåŠŸèƒ½ï¼Œæå‡ä»£ç çš„å¯è¯»æ€§å’Œæ˜“ç”¨æ€§ã€‚"/>


    <meta name="twitter:card" content="summary">


    <link rel="stylesheet" href="https://ilikexff.cn/spectre/spectre.css">
    <link rel="stylesheet" href="https://ilikexff.cn/theme.css"><link rel="stylesheet" href="https://ilikexff.cn/custom.css">
    
<link rel="shortcut icon" href="https://ilikexff.cn/./assets/bachiico.ico" type="image/x-icon" />
        
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script>
        function doRenderMath() {
            renderMathInElement(document.body, {
                delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\(", right: "\\)", display: false},
                {left: "\\begin{equation}", right: "\\end{equation}", display: true},
                {left: "\\begin{align}", right: "\\end{align}", display: true},
                {left: "\\begin{alignat}", right: "\\end{alignat}", display: true},
                {left: "\\begin{gather}", right: "\\end{gather}", display: true},
                {left: "\\begin{CD}", right: "\\end{CD}", display: true},
                {left: "\\[", right: "\\]", display: true}
                ]
            });
        }
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="doRenderMath()"></script>

      </head>
  <body id="top" class="sticky-footer"><div id="page-wrapper">
<header id="header" class="section">
  <section class="container grid-xl">
    <nav class="navbar">
      <section class="navbar-section">
        
<a class="site-logo" href="https:&#x2F;&#x2F;ilikexff.cn">
  
  <div class="col-mx-auto">
    <figure style="margin: 8px">
      <img class="img-responsive"
           style="max-height: 45px"
           alt="frontmatter image"
           src="https://ilikexff.cn/./assets/logo.png">
    </figure>
  </div>
  
</a>

      </section><!-- ./home button -->

      <section class="navbar-center hide-md"></section>

      <section class="navbar-section">
        <nav class="dropmenu animated hide-md">

<ul><li>
        <a href="https://ilikexff.cn/tags">æ ‡ç­¾</a>
    </li><li>
        <a href="https://ilikexff.cn/categories">åˆ†ç±»</a>
    </li><li>
        <a href="https://ilikexff.cn/about">å…³äº</a>
    </li></ul>


          </nav>
      </section><!-- ./desktop-menu -->
    </nav>
  </section><!-- ./container -->
</header>


<div class="mobile-menu">
  <div class="button_container" id="toggle" onclick="openOverlay()">
    <span class="top"></span>
    <span class="middle"></span>
    <span class="bottom"></span>
  </div>
</div><!--./mobile-menu-->


<section id="start"><section id="body-wrapper" class="section">
          <section class="container grid-xl">
<div id="breadcrumbs" itemtype="http://schema.org/BreadcrumbList" class="hide-sm">
  
    
    <span><a href="https:&#x2F;&#x2F;ilikexff.cn&#x2F;">Home</a></span>
  
    <span><a href="https:&#x2F;&#x2F;ilikexff.cn&#x2F;ocao-zuo-fu-shi-xian-mei-ju-de-shu-ru-shu-chu&#x2F;">Oæ“ä½œç¬¦,å®ç°æšä¸¾çš„è¾“å…¥è¾“å‡º</a></span>
</div>
<div class="columns">
              <div id="item" class="column col-8 col-md-12 extra-spacing">
<div class="card">
  

    <div class="card-header">
      <div class="card-title" style="margin-top: .25rem;"><div>
          <h1 class="post-title">Oæ“ä½œç¬¦,å®ç°æšä¸¾çš„è¾“å…¥è¾“å‡º</h1>
          
    <div class="post-meta" style="display: inline-flex">
        <span class="blog-date" style="display: inline-flex;">
          <i class="gg-calendar" style="margin-right: 5px;"></i><time datetime="2024.04.28">
          2024.04.28
          </time></span><span class="post-author" style="margin-left: 5px; display: inline-flex;">
          - 
    å…«å°ºå¦–å‰‘
        </span></div>

        </div></div>
    </div><!--./card-header-->

    <div class="card-body">
      
        <p>åœ¨ä¸Šä¸€ç¯‡å…³äºæšä¸¾çš„æ–‡ç« <a href="https://www.ilikexff.cn/articles/154">[é€šä¿—æ˜“æ‡‚C++]:æšä¸¾ç¯‡ä¸€,æ— èŒƒå›´æšä¸¾</a>ä¸­,æˆ‘ä»¬æåˆ°äº†ä¸€ä¸ªä¾‹å­,ä½¿ç”¨ä¸€ä¸ªå‡½æ•°å°†æšä¸¾è½¬æ¢ä¸ºç­‰æ•ˆå­—ç¬¦ä¸²çš„æ–¹æ³•:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">string_view</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">enum </span><span style="color:#b58900;">Color
</span><span style="color:#657b83;">{
</span><span>    black,
</span><span>    red,
</span><span>    blue,
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#859900;">constexpr</span><span> std::string_view </span><span style="color:#b58900;">getColorName</span><span style="color:#657b83;">(</span><span>Color </span><span style="color:#268bd2;">color</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">switch </span><span style="color:#657b83;">(</span><span>color</span><span style="color:#657b83;">)
</span><span>    </span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">case</span><span> black: </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">black</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">case</span><span> red:   </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">red</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">case</span><span> blue:  </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">blue</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">default</span><span>:    </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">???</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">constexpr</span><span> Color </span><span style="color:#b58900;">shirt</span><span style="color:#657b83;">{</span><span> blue </span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Your shirt is </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#b58900;">getColorName</span><span style="color:#657b83;">(</span><span>shirt</span><span style="color:#657b83;">) &lt;&lt; </span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>å°½ç®¡ä¸Šé¢çš„ä¾‹å­å¯ä»¥æ­£å¸¸å®ç°éœ€æ±‚,ä½†å­˜åœ¨ä¸€äº›ä¸è¶³:</p>
<ul>
<li>æˆ‘ä»¬å¿…é¡»è®°ä½åˆ›å»ºçš„å‡½æ•°åç§°;</li>
<li>æ¯æ¬¡è¾“å‡ºæ—¶å¿…é¡»è°ƒç”¨è¿™æ ·ä¸€ä¸ªå‡½æ•°æ‰èƒ½æ‰“å°æˆ‘ä»¬éœ€è¦çš„æšä¸¾å­—ç¬¦ä¸²,è¿™ä¼šç»™å•çº¯çš„è¾“å‡ºè¯­å¥é€ æˆæ··ä¹±ã€‚</li>
</ul>
<p>ä¸€ç§æ¯”è¾ƒç†æƒ³çš„æƒ…å†µæ˜¯,å¦‚æœæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åƒç³»ç»Ÿæä¾›çš„<code>std::cout&lt;&lt;</code>ç±»ä¼¼çš„æ–¹æ³•æ¥è¾“å‡ºæšä¸¾,å²‚ä¸æ˜¯ç¾æ»‹æ»‹?</p>
<hr />
<h2 id="cao-zuo-fu-zhong-zai-jian-jie">æ“ä½œç¬¦é‡è½½ç®€ä»‹<a class="zola-anchor" href="#cao-zuo-fu-zhong-zai-jian-jie" aria-label="Anchor link for: cao-zuo-fu-zhong-zai-jian-jie">ğŸ”—</a></h2>
<p>åœ¨C++ä¸­,ä½¿ç”¨å‡½æ•°é‡è½½,æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒåå‡½æ•°çš„å˜ä½“,è¿™äº›å˜ä½“å¯ä»¥å¤„ç†ä¸åŒçš„æ•°æ®ç±»å‹,è€Œä¸å¿…ä¸ºæ¯ä¸€ä¸ªå˜ä½“èµ·ä¸€ä¸ªå”¯ä¸€çš„åç§°ã€‚</p>
<p>ç±»ä¼¼åœ°,C++ä¹Ÿæ”¯æŒè¿ç®—ç¬¦çš„é‡è½½, è¿™å…è®¸æˆ‘ä»¬å®šä¹‰ç°æœ‰è¿ç®—ç¬¦çš„é‡è½½æ ¼å¼,ä»¥ä¾¿äºæˆ‘ä»¬å¯ä»¥ä½¿è¿™äº›è¿ç®—ç¬¦ä¸æˆ‘ä»¬çš„ç¨‹åºå®šä¹‰çš„æ•°æ®ç±»å‹ä¸€èµ·å·¥ä½œã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,è¿™é‡Œæš‚ä¸ä¼šè¯¦ç»†ä»‹ç»è¿ç®—ç¬¦çš„é‡è½½,æ›´è¯¦ç»†çš„å†…å®¹ä¹Ÿè®¸ä¼šåœ¨åé¢çš„æ–‡ç« ä¸­ä»‹ç»ã€‚</p>
<p>åŸºæœ¬çš„è¿ç®—ç¬¦é‡è½½ç›¸å½“ç®€å•:</p>
<ul>
<li>ä½¿ç”¨è¿ç®—ç¬¦çš„åç§°æ¥ä½œä¸ºå‡½æ•°åç§°å®šä¹‰å‡½æ•°ã€‚</li>
<li>ä¸ºæ¯ä¸€ä¸ªè¿ç®—ç¬¦æ·»åŠ é€‚å½“ç±»å‹çš„å‚æ•°(ä»å·¦åˆ°å³çš„é¡ºåº)ã€‚å…¶ä¸­ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ç”¨æˆ·å®šä¹‰çš„ç±»å‹(æ¯”å¦‚ç±»ç±»å‹æˆ–è€…æšä¸¾ç±»å‹),å¦åˆ™ç¼–è¯‘å™¨ä¼šå‡ºé”™ã€‚</li>
<li>è¿”å›ç±»å‹å¯ä»¥è®¾ç½®ä¸ºä»»ä½•æœ‰æ„ä¹‰çš„ç±»å‹ã€‚</li>
<li>ä½¿ç”¨<code>return</code>è¿”å›è¿ç®—ç»“æœã€‚</li>
</ul>
<blockquote>
<p>å½“ç¼–è¯‘å™¨åœ¨è¡¨è¾¾å¼ä¸­é‡åˆ°å¯¹åº”çš„è¿ç®—ç¬¦å¹¶ä¸”å­˜åœ¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ“ä½œæ•°æ˜¯ç”¨æˆ·å®šä¹‰çš„ç±»å‹æ—¶,ç¼–è¯‘å™¨ä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ªé‡è½½çš„è¿ç®—ç¬¦æ¥è§£æè¯¥è°ƒç”¨ã€‚ä¾‹å¦‚,å¯¹äºè¡¨è¾¾å¼<code>x+y</code>,ç¼–è¯‘å™¨ä¼šä½¿ç”¨å‡½æ•°é‡è½½è§£ææ¥æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ä¸€ä¸ª<code>operator+(x, y)</code>å‡½æ•°æ¥å®ç°è¯¥æ“ä½œã€‚å¦‚æœèƒ½æ‰¾åˆ°ä¸€ä¸ªå”¯ä¸€æ€§çš„<code>operator+</code>å‡½æ•°,é‚£å®ƒå°±ä¼šè¢«è°ƒç”¨å¹¶å°†ç»“æœä½œä¸ºè¿”å›å€¼è¿”å›ã€‚</p>
</blockquote>
<hr />
<h2 id="zhong-zai-yun-suan-fu-da-yin-mei-ju">é‡è½½<code>&lt;&lt;</code>è¿ç®—ç¬¦æ‰“å°æšä¸¾<a class="zola-anchor" href="#zhong-zai-yun-suan-fu-da-yin-mei-ju" aria-label="Anchor link for: zhong-zai-yun-suan-fu-da-yin-mei-ju">ğŸ”—</a></h2>
<p>åœ¨æ­£ç‰‡å¼€å§‹ä¹‹å‰,æˆ‘ä»¬å…ˆå¿«é€Ÿå›é¡¾ä¸€ä¸‹è¿ç®—ç¬¦&lt;&lt;åœ¨è¢«ç”¨äºè¾“å‡ºæ—¶çš„å·¥ä½œæ–¹å¼ã€‚</p>
<p>è€ƒè™‘åƒ<code>std::cout &lt;&lt; 10</code>è¿™æ ·çš„ç®€å•è¾“å‡ºè¡¨è¾¾å¼ã€‚å…¶ä¸­çš„<code>std::cout</code>çš„ç±»å‹ä¸º<code>std::ostream</code>(æ ‡å‡†åº“ä¸­çš„ç”¨æˆ·å®šä¹‰ç±»å‹),è€Œ10æ˜¯<code>int</code>åŸºæœ¬æ•°æ®ç±»å‹ã€‚</p>
<p>åœ¨è®¡ç®—è¿™ä¸ªè¡¨è¾¾å¼æ—¶,ç¼–è¯‘å™¨å°†æŸ¥æ‰¾å¯ä»¥å¤„ç†<code>stdï¼šï¼šostream</code>å’Œ<code>int</code>ç±»å‹å‚æ•°çš„<code>operator&lt;&lt;</code>é‡è½½å‡½æ•°ã€‚ç”±äºè¿™ä¸ªå‡½æ•°ç¡®å®åœ¨I/Oæ ‡å‡†åº“ä¸­å®ç°äº†,æ‰€ä»¥å®ƒå°†ä¼šè¢« è°ƒç”¨ã€‚åœ¨è¯¥å‡½æ•°ä¸­,è¿™ä¸ª<code>std::cout</code>ç”¨äºå°†xè¾“å‡ºåˆ°æ§åˆ¶å°,æœ€å,<code>operator&lt;&lt;</code>å‡½æ•°è¿”å›å…¶å·¦æ“ä½œæ•°ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º<code>stdï¼šï¼šcout</code>ï¼‰ï¼Œä»¥ä¾¿äºæ”¯æŒé“¾å¼è°ƒç”¨ã€‚</p>
<p>åŸºäºæ­¤,è®©æˆ‘ä»¬å®ç°ä¸€ä¸ª<code>operator&lt;&lt;</code>çš„é‡è½½æ¥æ‰“å°<code>Color</code>ï¼š</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">string_view</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">enum </span><span style="color:#b58900;">Color
</span><span style="color:#657b83;">{
</span><span>	black,
</span><span>	red,
</span><span>	blue,
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#859900;">constexpr</span><span> std::string_view </span><span style="color:#b58900;">getColorName</span><span style="color:#657b83;">(</span><span>Color </span><span style="color:#268bd2;">color</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">switch </span><span style="color:#657b83;">(</span><span>color</span><span style="color:#657b83;">)
</span><span>    </span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">case</span><span> black: </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">black</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">case</span><span> red:   </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">red</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">case</span><span> blue:  </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">blue</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">default</span><span>:    </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">???</span><span>&quot;;
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}
</span><span style="color:#586e75;">// operator&lt;&lt; å¦‚ä½•æ‰“å° Color ç±»å‹
</span><span style="color:#586e75;">// è¿”å›ç±»å‹å’Œå‚æ•°ç±»å‹æ˜¯å¼•ç”¨ï¼ˆä»¥é˜²æ­¢åˆ›å»ºå‰¯æœ¬ï¼‰
</span><span>std::ostream</span><span style="color:#859900;">&amp; </span><span style="color:#b58900;">operator&lt;&lt;</span><span style="color:#657b83;">(</span><span>std::ostream</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">out</span><span>,Color </span><span style="color:#268bd2;">color</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">return</span><span> out </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#b58900;">getColorName</span><span style="color:#657b83;">(</span><span>color</span><span style="color:#657b83;">)</span><span>;
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Color </span><span style="color:#b58900;">shirt </span><span style="color:#657b83;">{</span><span>blue</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span>&quot;</span><span style="color:#2aa198;">Your shirt is </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> shirt </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span> </span><span style="color:#657b83;">}
</span></code></pre>
<p><img src="https://images.waer.ltd/notes/202503111501353.png" alt="image-20250311150019525" /></p>
<p>è®©æˆ‘ä»¬ç¨å¾®è§£æä¸€ä¸‹è¿™ä¸ªé‡è½½çš„è¿ç®—ç¬¦å‡½æ•°ã€‚</p>
<ul>
<li>é¦–å…ˆï¼Œå‡½æ•°çš„åç§°æ˜¯ <code>operator&lt;&lt;</code>ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨é‡è½½ <code>&lt;&lt;</code> è¿ç®—ç¬¦ã€‚<code>operator&lt;&lt;</code> æœ‰ä¸¤ä¸ªå‚æ•°ã€‚</li>
<li>å·¦ä¾§çš„å‚æ•°ï¼ˆä¸å·¦æ“ä½œæ•°åŒ¹é…ï¼‰æ˜¯æˆ‘ä»¬çš„è¾“å‡ºæµï¼Œç±»å‹ä¸º <code>std::ostream</code>ã€‚æˆ‘ä»¬ä½¿ç”¨ <strong>é const å¼•ç”¨</strong> ä¼ é€’å®ƒï¼Œå› ä¸ºæˆ‘ä»¬ä¸å¸Œæœ›åœ¨è°ƒç”¨å‡½æ•°æ—¶å¤åˆ¶ <code>std::ostream</code> å¯¹è±¡ã€‚å³ä¾§çš„å‚æ•°ï¼ˆä¸å³æ“ä½œæ•°åŒ¹é…ï¼‰æ˜¯æˆ‘ä»¬çš„ <code>Color</code>æšä¸¾ç±»å‹å¯¹è±¡ã€‚</li>
</ul>
<blockquote>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ std::ostream è¾“å‡ºæ“ä½œæ—¶ï¼Œä¾‹å¦‚é€šè¿‡ &lt;&lt; è¿ç®—ç¬¦å†™å…¥æ•°æ®åˆ°è¾“å‡ºæµæ—¶ï¼Œstd::ostream å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä¾‹å¦‚ï¼Œæ•°æ®å¯èƒ½ä¼šè¢«å­˜å…¥ç¼“å†²åŒºæˆ–ä¿®æ”¹æµçš„çŠ¶æ€ï¼ˆå¦‚é”™è¯¯æ ‡å¿—ï¼‰ã€‚ä¸ºäº†åœ¨è°ƒç”¨è€…ä¸­çœ‹åˆ°è¿™äº›å˜åŒ–ï¼Œå¿…é¡»ä¼ é€’é const å¼•ç”¨ï¼Œè€Œä¸æ˜¯å¤åˆ¶æˆ–å¸¸é‡å¼•ç”¨ã€‚å› ä¸ºè¾“å‡ºæ“ä½œä¼šä¿®æ”¹è¿™ä¸ªæµçš„å†…éƒ¨çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®ƒæ˜¯å¯ä¿®æ”¹çš„ã€‚</p>
</blockquote>
<p>å›è¿‡æ¥çœ‹çœ‹æˆ‘ä»¬çš„å®ç°,æœ¬è´¨ä¸Šå°±æ˜¯ä½¿ç”¨<code>std::ostream</code>å¯¹è±¡ä½¿ç”¨æ“ä½œç¬¦<code>&lt;&lt;</code>æ¥æ‰“å°ä¸€ä¸ª<code>stdï¼šï¼šstring_view</code>ã€‚æ‰€ä»¥<code>out &lt;&lt; getColorNameï¼ˆcolorï¼‰</code>åªæ˜¯è·å–æˆ‘ä»¬çš„é¢œè‰²åç§°ä½œä¸º<code>stdï¼šï¼šstring_view</code>ï¼Œç„¶åå°†å…¶æ‰“å°åˆ°è¾“å‡ºæµã€‚</p>
<p>æ‰€ä»¥,å½“æˆ‘ä»¬è°ƒç”¨<code>stdï¼šï¼šcout &lt;&lt; shirt</code>æ—¶ï¼Œç¼–è¯‘å™¨å°†çœ‹åˆ°æˆ‘ä»¬é‡è½½äº†<code>operator&lt;&lt;</code>æ¥å¤„ç†<code>Color</code>ç±»å‹çš„å¯¹è±¡ã€‚ç„¶åè°ƒç”¨é‡è½½çš„<code>operator&lt;&lt;</code>å‡½æ•°ï¼Œä½¿ç”¨<code>stdï¼šï¼šcout</code>ä½œä¸º<code>out</code>å‚æ•°ï¼Œä½¿ç”¨<code>shirt</code>å˜é‡ï¼ˆå€¼ä¸º<code>blue</code>ï¼‰ä½œä¸º<code>colorå‚æ•°</code>ã€‚ç”±äº<code>out</code>æ˜¯å¯¹<code>stdï¼šï¼šcout</code>çš„å¼•ç”¨ï¼Œè€Œ<code>color</code>æ˜¯æšä¸¾æ•°<code>blue</code>çš„å‰¯æœ¬ï¼Œå› æ­¤è¡¨è¾¾å¼<code>out &lt;&lt; getColorNameï¼ˆcolorï¼‰</code>å°†<code>â€œblueâ€</code>æ‰“å°åˆ°æ§åˆ¶å°ã€‚æœ€åï¼Œ<code>out</code>è¿”å›ç»™è°ƒç”¨è€…ï¼Œä¾¿äºåç»­çš„é“¾å¼è°ƒç”¨ã€‚</p>
<hr />
<h2 id="zhong-zai-yun-suan-fu-shi-xian-mei-ju-de-shu-ru">é‡è½½&gt;&gt;è¿ç®—ç¬¦,å®ç°æšä¸¾çš„è¾“å…¥<a class="zola-anchor" href="#zhong-zai-yun-suan-fu-shi-xian-mei-ju-de-shu-ru" aria-label="Anchor link for: zhong-zai-yun-suan-fu-shi-xian-mei-ju-de-shu-ru">ğŸ”—</a></h2>
<p>ç±»ä¼¼äºä¸Šé¢é‡è½½<code>&lt;&lt;</code>è¾“å‡ºæšä¸¾ä¸€æ ·,ä¸‹é¢æ˜¯å¯¹æšä¸¾è¾“å…¥çš„é‡è½½å®ç°:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">limits</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">optional</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">string</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">string_view</span><span>&gt;
</span><span>
</span><span style="color:#586e75;">// å®šä¹‰ä¸€ä¸ªæšä¸¾ç±»å‹ Petï¼Œè¡¨ç¤ºä¸åŒçš„å® ç‰©
</span><span style="color:#268bd2;">enum </span><span style="color:#b58900;">Pet
</span><span style="color:#657b83;">{
</span><span>    cat,   </span><span style="color:#586e75;">// 0
</span><span>    dog,   </span><span style="color:#586e75;">// 1
</span><span>    pig,   </span><span style="color:#586e75;">// 2
</span><span>    whale, </span><span style="color:#586e75;">// 3
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#586e75;">// è¿™ä¸ªå‡½æ•°æ ¹æ® Pet æšä¸¾å€¼è¿”å›å¯¹åº”çš„å® ç‰©åç§°
</span><span style="color:#859900;">constexpr</span><span> std::string_view </span><span style="color:#b58900;">getPetName</span><span style="color:#657b83;">(</span><span>Pet </span><span style="color:#268bd2;">pet</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">switch </span><span style="color:#657b83;">(</span><span>pet</span><span style="color:#657b83;">)
</span><span>    </span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">case</span><span> cat:   </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">cat</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">case</span><span> dog:   </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">dog</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">case</span><span> pig:   </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">pig</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">case</span><span> whale: </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">whale</span><span>&quot;;
</span><span>    </span><span style="color:#859900;">default</span><span>:    </span><span style="color:#859900;">return </span><span>&quot;</span><span style="color:#2aa198;">???</span><span>&quot;; </span><span style="color:#586e75;">// æœªçŸ¥çš„å® ç‰©ç±»å‹
</span><span>    </span><span style="color:#657b83;">}
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#586e75;">// è¿™ä¸ªå‡½æ•°æ ¹æ®å­—ç¬¦ä¸²è¿”å›å¯¹åº”çš„ Pet æšä¸¾å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°åŒ¹é…é¡¹ï¼Œè¿”å› std::nullopt
</span><span style="color:#859900;">constexpr</span><span> std::optional</span><span style="color:#657b83;">&lt;</span><span>Pet</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">getPetFromString</span><span style="color:#657b83;">(</span><span>std::string_view </span><span style="color:#268bd2;">sv</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">if </span><span style="color:#657b83;">(</span><span>sv </span><span style="color:#657b83;">== </span><span>&quot;</span><span style="color:#2aa198;">cat</span><span>&quot;</span><span style="color:#657b83;">)   </span><span style="color:#859900;">return</span><span> cat;
</span><span>    </span><span style="color:#859900;">if </span><span style="color:#657b83;">(</span><span>sv </span><span style="color:#657b83;">== </span><span>&quot;</span><span style="color:#2aa198;">dog</span><span>&quot;</span><span style="color:#657b83;">)   </span><span style="color:#859900;">return</span><span> dog;
</span><span>    </span><span style="color:#859900;">if </span><span style="color:#657b83;">(</span><span>sv </span><span style="color:#657b83;">== </span><span>&quot;</span><span style="color:#2aa198;">pig</span><span>&quot;</span><span style="color:#657b83;">)   </span><span style="color:#859900;">return</span><span> pig;
</span><span>    </span><span style="color:#859900;">if </span><span style="color:#657b83;">(</span><span>sv </span><span style="color:#657b83;">== </span><span>&quot;</span><span style="color:#2aa198;">whale</span><span>&quot;</span><span style="color:#657b83;">) </span><span style="color:#859900;">return</span><span> whale;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#657b83;">{}</span><span>; </span><span style="color:#586e75;">// è¿”å›ç©ºå€¼ï¼Œè¡¨ç¤ºæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ Pet
</span><span style="color:#657b83;">}
</span><span>
</span><span>std::istream</span><span style="color:#859900;">&amp; </span><span style="color:#b58900;">operator&gt;&gt;</span><span style="color:#657b83;">(</span><span>std::istream</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">in</span><span>,Pet</span><span style="color:#859900;">&amp; </span><span style="color:#268bd2;">pet</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    std::string </span><span style="color:#b58900;">s </span><span style="color:#657b83;">{}</span><span>;
</span><span>    in </span><span style="color:#657b83;">&gt;&gt;</span><span> s;
</span><span>    std::optional</span><span style="color:#657b83;">&lt;</span><span>Pet</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">match </span><span style="color:#657b83;">{</span><span style="color:#b58900;">getPetFromString</span><span style="color:#657b83;">(</span><span>s</span><span style="color:#657b83;">)}</span><span>;
</span><span>    </span><span style="color:#859900;">if </span><span style="color:#657b83;">(</span><span>match</span><span style="color:#657b83;">)
</span><span>    </span><span style="color:#657b83;">{
</span><span>        pet </span><span style="color:#657b83;">= </span><span style="color:#859900;">*</span><span>match;
</span><span>        </span><span style="color:#859900;">return</span><span> in;
</span><span>    </span><span style="color:#657b83;">}
</span><span>
</span><span>    </span><span style="color:#586e75;">// å¦‚æœè¾“å…¥æ— æ•ˆï¼ˆæ²¡æœ‰æ‰¾åˆ°åŒ¹é…é¡¹ï¼‰
</span><span>    </span><span style="color:#586e75;">// å°†è¾“å…¥æµçŠ¶æ€è®¾ç½®ä¸ºå¤±è´¥çŠ¶æ€ï¼ˆfailbitï¼‰
</span><span>    in.</span><span style="color:#b58900;">setstate</span><span style="color:#657b83;">(</span><span>std::ios_base::failbit</span><span style="color:#657b83;">)</span><span>;
</span><span>    </span><span style="color:#859900;">return</span><span> in;
</span><span style="color:#657b83;">}
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Enter a pet: cat, dog, pig, or whale: </span><span>&quot;;
</span><span>       Pet </span><span style="color:#b58900;">pet</span><span style="color:#657b83;">{}</span><span>;
</span><span>       std::cin </span><span style="color:#657b83;">&gt;&gt;</span><span> pet; </span><span style="color:#586e75;">// è¯»å–ç”¨æˆ·è¾“å…¥
</span><span>
</span><span>       </span><span style="color:#859900;">if </span><span style="color:#657b83;">(</span><span>std::cin</span><span style="color:#657b83;">) </span><span style="color:#586e75;">// å¦‚æœè¾“å…¥æœ‰æ•ˆï¼ˆæ‰¾åˆ°äº†åŒ¹é…é¡¹ï¼‰
</span><span>           std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">You chose: </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#b58900;">getPetName</span><span style="color:#657b83;">(</span><span>pet</span><span style="color:#657b83;">) &lt;&lt; </span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span>       </span><span style="color:#859900;">else
</span><span>       </span><span style="color:#657b83;">{
</span><span>           std::cin.</span><span style="color:#b58900;">clear</span><span style="color:#657b83;">()</span><span>; </span><span style="color:#586e75;">// é‡ç½®è¾“å…¥æµï¼Œä½¿å…¶æ¢å¤åˆ°å¯ç”¨çŠ¶æ€
</span><span>           std::cin.</span><span style="color:#b58900;">ignore</span><span style="color:#657b83;">(</span><span>std::numeric_limits</span><span style="color:#657b83;">&lt;</span><span>std::streamsize</span><span style="color:#657b83;">&gt;</span><span>::</span><span style="color:#b58900;">max</span><span style="color:#657b83;">()</span><span>, &#39;</span><span style="color:#dc322f;">\n</span><span>&#39;</span><span style="color:#657b83;">)</span><span>; </span><span style="color:#586e75;">// å¿½ç•¥å‰©ä½™è¾“å…¥
</span><span>           std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">Your pet was not valid</span><span style="color:#dc322f;">\n</span><span>&quot;; </span><span style="color:#586e75;">// æç¤ºç”¨æˆ·è¾“å…¥æ— æ•ˆ
</span><span>       </span><span style="color:#657b83;">}
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span> </span><span style="color:#657b83;">}
</span><span>
</span></code></pre>
<p><img src="https://images.waer.ltd/notes/202503111524108.png" alt="image-20250311152402041" /></p>
<p>è¿™é‡Œæœ‰ä¸€äº›ä¸è¾“å‡ºæƒ…å†µçš„ä¸åŒä¹‹å¤„å€¼å¾—æ³¨æ„ã€‚é¦–å…ˆï¼Œ<code>stdï¼šï¼šcin</code>çš„ç±»å‹æ˜¯<code>stdï¼šï¼šistream</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨<code>stdï¼šï¼šistream&amp;</code>ä½œä¸ºå·¦å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ï¼Œè€Œä¸æ˜¯<code>stdï¼šï¼šostream&amp;</code>ã€‚å…¶æ¬¡ï¼Œ<code>pet</code>å‚æ•°æ˜¯ä¸€ä¸ªéå¸¸é‡å¼•ç”¨ã€‚è¿™å…è®¸æˆ‘ä»¬çš„è¿ç®—ç¬¦<code>&gt;&gt;</code>ä¿®æ”¹å³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæˆ‘ä»¬çš„æå–ç»“æœåŒ¹é…ï¼Œåˆ™ä¼ å…¥å³æ“ä½œæ•°ã€‚</p>
<ul>
<li>åœ¨å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>operator&gt;&gt;</code>æ¥è¾“å…¥ä¸€ä¸ª<code>stdï¼šï¼šstring</code>ï¼ˆå®ƒå·²ç»çŸ¥é“å¦‚ä½•åšï¼‰ã€‚å¦‚æœç”¨æˆ·è¾“å…¥çš„å€¼ä¸æˆ‘ä»¬çš„ä¸€ä¸ªpetåŒ¹é…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¸º<code>pet</code>åˆ†é…é€‚å½“çš„æšä¸¾æ•°å¹¶è¿”å›å·¦æ“ä½œæ•°ï¼ˆ<code>in</code>ï¼‰ã€‚</li>
<li>å¦‚æœç”¨æˆ·æ²¡æœ‰è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„petï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šè¿‡å°†<code>stdï¼šï¼šcin</code>è®¾ç½®ä¸ºâ€œfailure modeâ€æ¥å¤„ç†è¿™ç§æƒ…å†µã€‚è¿™æ˜¯æå–å¤±è´¥æ—¶<code>stdï¼šï¼šcin</code>é€šå¸¸è¿›å…¥çš„çŠ¶æ€ã€‚ç„¶åè°ƒç”¨è€…å¯ä»¥æ£€æŸ¥<code>stdï¼šï¼šcin</code>ä»¥æŸ¥çœ‹æå–æˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚</li>
</ul>

      
    </div><!--./card-body-->

    <div class="card-footer">
      <div class="columns">
        <div class="column col-9 col-sm-7">
          <div class="taxonomies text-left">
            

    
          </div>
        </div><!--./col-6-->
        
        </div><!--./columns-->
    </div><!--./card-footer-->
</div><!--./card-->
</div>
              <div id="sidebar" class="column col-4 col-md-12">
                <div class="sidebar-content">
                  
                  
<div class="sidebar-widget">
  <div class="tile">
    <div class="tile-icon">
      <figure class="avatar avatar-xl">
        <img src="https://ilikexff.cn/avatar.png" alt="author avatar image">
      </figure>
    </div>
    <div class="tile-content">
      <p class="tile-title" style="font-weight: 600;">å…«å°ºå¦–å‰‘</p>
      <p class="tile-subtitle">çƒ­çˆ±ç¼–ç¨‹ï¼Œä¸“æ³¨äºæŠ€æœ¯åˆ†äº«å’Œå­¦ä¹ </p>
    </div>
</div><!--./tile-->
</div>

                  
                  
<div class="sidebar-widget">
  æ¬¢è¿æ¥åˆ°<strong>å…«å°ºå¦–å‰‘</strong>ï¼è¿™é‡Œåˆ†äº«æŠ€æœ¯æ–‡ç« å’Œç¼–ç¨‹å¿ƒå¾—ã€‚
</div><!-- end text widget -->

                  

                  </div><!--./sidebar-content-->
              </div>
            </div>
            
          </section>
        </section></section>
<section class="container grid-xl">
<ul class="pagination paginator">
  
  
</ul>
</section>
</div><!-- ./page-wrapper -->

    
<div class="mobile-container">
        <div class="overlay" id="overlay">
            <div style="padding: 1rem;">
              
<a class="site-logo" href="https:&#x2F;&#x2F;ilikexff.cn">
  
  <div class="col-mx-auto">
    <figure style="margin: 8px">
      <img class="img-responsive"
           style="max-height: 45px"
           alt="frontmatter image"
           src="https://ilikexff.cn/./assets/logo.png">
    </figure>
  </div>
  
</a>

            </div>
            <nav class="overlay-menu">
              

<ul class="tree treemenu treemenu-root"><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/tags">æ ‡ç­¾</a>
    </li><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/categories">åˆ†ç±»</a>
    </li><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/about">å…³äº</a>
    </li></ul>


              </nav>
        </div>
    </div>

<script type="text/javascript">
  var overlay = document.getElementById('overlay');
  var toggle = document.getElementById('toggle');

  function openOverlay(){
      // Open overlay
      if (overlay.classList.contains("open")) {
          overlay.classList.remove("open");
      }
      else {
          overlay.classList.add("open");
      }

      // Button transition
      if (toggle.classList.contains("active")) {
          toggle.classList.remove("active");
      }
      else {
          toggle.classList.add("active");
      }
    }
</script>

<section id="footer" class="bg-gray">
  <div class="container grid-xl">
    


    <div class="columns">
      
      <div class="column col-6 col-lg-12 col-mx-auto" style="text-align: center;">
        ç®€å•æ˜¯æ•ˆç‡çš„çµé­‚ | é»”ICPå¤‡2021010295å·
      </div>
      
      <div class="column col-6 col-lg-12 col-mx-auto" style="text-align: center;">
        Made by <a href="https://github.com/gicrisf/">gicrisf</a> -
        <strong>Zhuia</strong>&nbsp;<a href="https://github.com/gicrisf/zhuia">source code</a>
        is licensed under <a href="http://opensource.org/licenses/mit-license.php" target="_blank">MIT</a>.
      </div>
    </div>
  </div>
</section>
</body>
</html>
