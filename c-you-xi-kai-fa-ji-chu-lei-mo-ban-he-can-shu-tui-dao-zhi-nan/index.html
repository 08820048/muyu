<!DOCTYPE html>
<html lang="zh" data-theme="light" dir="ltr">
  <head>
    <title>C++æ¸¸æˆå¼€å‘åŸºç¡€-ç±»æ¨¡ç‰ˆå’Œå‚æ•°æ¨å¯¼æŒ‡å— - æ…•äºˆåšå®¢</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="è¯¦ç»†ä»‹ç»C++ä¸­çš„ç±»æ¨¡æ¿å‚æ•°æ¨å¯¼ï¼ˆCTADï¼‰çš„åŸºæœ¬æ¦‚å¿µã€ç”¨æ³•åŠå®è·µæŠ€å·§ã€‚"/>

    <meta property="og:title" content="æ…•äºˆåšå®¢ -&nbsp;C++æ¸¸æˆå¼€å‘åŸºç¡€-ç±»æ¨¡ç‰ˆå’Œå‚æ•°æ¨å¯¼æŒ‡å—" />
    <meta property="og:type" content="website"/><meta property="og:url" content="https:&#x2F;&#x2F;ilikexff.cn&#x2F;c-you-xi-kai-fa-ji-chu-lei-mo-ban-he-can-shu-tui-dao-zhi-nan&#x2F;"/><meta property="og:description" content="è¯¦ç»†ä»‹ç»C++ä¸­çš„ç±»æ¨¡æ¿å‚æ•°æ¨å¯¼ï¼ˆCTADï¼‰çš„åŸºæœ¬æ¦‚å¿µã€ç”¨æ³•åŠå®è·µæŠ€å·§ã€‚"/>


    <meta name="twitter:card" content="summary">


    <link rel="stylesheet" href="https://ilikexff.cn/spectre/spectre.css">
    <link rel="stylesheet" href="https://ilikexff.cn/theme.css"><link rel="stylesheet" href="https://ilikexff.cn/custom.css">
    

        
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script>
        function doRenderMath() {
            renderMathInElement(document.body, {
                delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\(", right: "\\)", display: false},
                {left: "\\begin{equation}", right: "\\end{equation}", display: true},
                {left: "\\begin{align}", right: "\\end{align}", display: true},
                {left: "\\begin{alignat}", right: "\\end{alignat}", display: true},
                {left: "\\begin{gather}", right: "\\end{gather}", display: true},
                {left: "\\begin{CD}", right: "\\end{CD}", display: true},
                {left: "\\[", right: "\\]", display: true}
                ]
            });
        }
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="doRenderMath()"></script>

      </head>
  <body id="top" class="sticky-footer"><div id="page-wrapper">
<header id="header" class="section">
  <section class="container grid-xl">
    <nav class="navbar">
      <section class="navbar-section">
        
<a class="site-logo" href="https:&#x2F;&#x2F;ilikexff.cn">
  
  <div class="col-mx-auto">
    <figure style="margin: 8px">
      <img class="img-responsive"
           style="max-height: 45px"
           alt="frontmatter image"
           src="https://ilikexff.cn/./logo.svg">
    </figure>
  </div>
  
</a>

      </section><!-- ./home button -->

      <section class="navbar-center hide-md"></section>

      <section class="navbar-section">
        <nav class="dropmenu animated hide-md">

<ul><li>
        <a href="https://ilikexff.cn/tags">æ ‡ç­¾</a>
    </li><li>
        <a href="https://ilikexff.cn/categories">åˆ†ç±»</a>
    </li><li>
        <a href="https://ilikexff.cn/about">å…³äº</a>
    </li></ul>


          </nav>
      </section><!-- ./desktop-menu -->
    </nav>
  </section><!-- ./container -->
</header>


<div class="mobile-menu">
  <div class="button_container" id="toggle" onclick="openOverlay()">
    <span class="top"></span>
    <span class="middle"></span>
    <span class="bottom"></span>
  </div>
</div><!--./mobile-menu-->


<section id="start"><section id="body-wrapper" class="section">
          <section class="container grid-xl">
<div id="breadcrumbs" itemtype="http://schema.org/BreadcrumbList" class="hide-sm">
  
    
    <span><a href="https:&#x2F;&#x2F;ilikexff.cn&#x2F;">Home</a></span>
  
    <span><a href="https:&#x2F;&#x2F;ilikexff.cn&#x2F;c-you-xi-kai-fa-ji-chu-lei-mo-ban-he-can-shu-tui-dao-zhi-nan&#x2F;">C++æ¸¸æˆå¼€å‘åŸºç¡€-ç±»æ¨¡ç‰ˆå’Œå‚æ•°æ¨å¯¼æŒ‡å—</a></span>
</div>
<div class="columns">
              <div id="item" class="column col-8 col-md-12 extra-spacing">
<div class="card">
  

    <div class="card-header">
      <div class="card-title" style="margin-top: .25rem;"><div>
          <h1 class="post-title">C++æ¸¸æˆå¼€å‘åŸºç¡€-ç±»æ¨¡ç‰ˆå’Œå‚æ•°æ¨å¯¼æŒ‡å—</h1>
          
    <div class="post-meta" style="display: inline-flex">
        <span class="blog-date" style="display: inline-flex;">
          <i class="gg-calendar" style="margin-right: 5px;"></i><time datetime="2025.06.19">
          2025.06.19
          </time></span><span class="post-author" style="margin-left: 5px; display: inline-flex;">
          - 
    æ…•äºˆ
        </span></div>

        </div></div>
    </div><!--./card-header-->

    <div class="card-body">
      
        <p>è€ƒè™‘ä¸‹é¢è¿™æ ·ä¸€ä¸ªé—®é¢˜,å‡è®¾æˆ‘ä»¬æ­£åœ¨ç¼–å†™ä¸€ä¸ªç¨‹åº,éœ€è¦å¤„ç†æˆå¯¹çš„<code>int</code>å€¼.å¹¶ä¸”éœ€è¦ç¡®å®šä¸¤ä¸ªæ•°å­—ä¸­çš„æœ€å¤§å€¼ã€‚ </p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair
</span><span style="color:#657b83;">{
</span><span>  </span><span style="color:#268bd2;">int</span><span> first </span><span style="color:#657b83;">{}</span><span>;
</span><span>  </span><span style="color:#268bd2;">int</span><span> second </span><span style="color:#657b83;">{}</span><span>;
</span><span>
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#859900;">constexpr </span><span style="color:#268bd2;">int </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>Pair </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>  </span><span style="color:#859900;">return </span><span style="color:#657b83;">(</span><span>p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">?</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">:</span><span> p.</span><span style="color:#268bd2;">first</span><span style="color:#657b83;">)</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair </span><span style="color:#b58900;">p1 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">2</span><span>,</span><span style="color:#6c71c4;">4</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>p1</span><span style="color:#657b83;">) &lt;&lt;</span><span>&quot;</span><span style="color:#2aa198;">is larger</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>åæ¥.ä½ é‚£å°Šè´µçš„ç‹—ç­–åˆ’éœ€æ±‚ä¸€å˜,éœ€è¦æ–°å¢ä¸€ä¸ª<code>double</code>ç±»å‹çš„Pair,æ‰€ä»¥ä½ çš„ç¨‹åºåˆæ”¹æˆä¸‹é¢è¿™æ ·;</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#268bd2;">int </span><span style="color:#b58900;">first</span><span style="color:#657b83;">{}</span><span>;
</span><span>    </span><span style="color:#268bd2;">int </span><span style="color:#b58900;">second</span><span style="color:#657b83;">{}</span><span>;
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair 
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#268bd2;">double </span><span style="color:#b58900;">first</span><span style="color:#657b83;">{}</span><span>;
</span><span>    </span><span style="color:#268bd2;">double </span><span style="color:#b58900;">second</span><span style="color:#657b83;">{}</span><span>;
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#859900;">constexpr </span><span style="color:#268bd2;">int </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>Pair </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#657b83;">(</span><span>p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">?</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">:</span><span> p.</span><span style="color:#268bd2;">first</span><span style="color:#657b83;">)</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#859900;">constexpr </span><span style="color:#268bd2;">double </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>Pair </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">) 
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#657b83;">(</span><span>p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">?</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">:</span><span> p.</span><span style="color:#268bd2;">first</span><span style="color:#657b83;">)</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair </span><span style="color:#b58900;">p1</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">5</span><span>, </span><span style="color:#6c71c4;">6 </span><span style="color:#657b83;">}</span><span>;
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>p1</span><span style="color:#657b83;">) &lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;"> is larger</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>
</span><span>    Pair </span><span style="color:#b58900;">p2</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1.2</span><span>, </span><span style="color:#6c71c4;">3.4 </span><span style="color:#657b83;">}</span><span>;
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>p2</span><span style="color:#657b83;">) &lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;"> is larger</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>è¿™äº›ä»£ç çœ‹èµ·æ¥äººç•œæ— å®³,ä½†å…¶å®å­˜åœ¨é—®é¢˜:</p>
<ul>
<li>
<p>é¦–å…ˆï¼Œä¸å‡½æ•°ä¸åŒï¼Œç±»å‹å®šä¹‰ä¸èƒ½è¢«é‡è½½ã€‚ç¼–è¯‘å™¨ä¼šå°† Pair çš„ç¬¬äºŒä¸ªå®šä¹‰è§†ä¸ºå¯¹ç¬¬ä¸€ä¸ª Pair å®šä¹‰çš„é”™è¯¯æ€§é‡æ–°å£°æ˜ã€‚</p>
</li>
<li>
<p>å…¶æ¬¡ï¼Œå°½ç®¡å‡½æ•°å¯ä»¥è¢«é‡è½½ï¼Œä½†è¿™é‡Œçš„<code> max(Pair)</code> å‡½æ•°ä»…åœ¨è¿”å›ç±»å‹ä¸Šæœ‰æ‰€ä¸åŒï¼Œè€Œå‡½æ•°é‡è½½ä¸èƒ½ä»…é€šè¿‡è¿”å›ç±»å‹æ¥åŒºåˆ†ã€‚</p>
</li>
<li>
<p>ç¬¬ä¸‰ï¼Œè¿™é‡Œå­˜åœ¨å¤§é‡çš„å†—ä½™ã€‚æ¯ä¸ª <code>Pair</code> ç»“æ„ä½“éƒ½æ˜¯ç›¸åŒçš„ï¼ˆé™¤äº†æ•°æ®ç±»å‹ä¸åŒï¼‰ï¼Œè€Œ <code>max(Pair)</code> å‡½æ•°ä¹Ÿæ˜¯å¦‚æ­¤ï¼ˆé™¤äº†è¿”å›ç±»å‹ä¸åŒï¼‰ã€‚</p>
</li>
</ul>
<p>åŸºäºè¿™ä¸ªé—®é¢˜,å¼•å‡ºäº†æœ¬æ–‡çš„ä¸»é¢˜,ç±»æ¨¡ç‰ˆã€‚ </p>
<hr />
<h2 id="lei-mo-ban-ji-ben-ding-yi">ç±»æ¨¡ç‰ˆåŸºæœ¬å®šä¹‰<a class="zola-anchor" href="#lei-mo-ban-ji-ben-ding-yi" aria-label="Anchor link for: lei-mo-ban-ji-ben-ding-yi">ğŸ”—</a></h2>
<p>å°±åƒå‡½æ•°æ¨¡æ¿æ˜¯ç”¨äºå®ä¾‹åŒ–å‡½æ•°çš„æ¨¡æ¿å®šä¹‰ä¸€æ ·ï¼Œç±»æ¨¡æ¿æ˜¯ç”¨äºå®ä¾‹åŒ–ç±»ç±»å‹çš„æ¨¡æ¿å®šä¹‰ã€‚</p>
<blockquote>
<p>â€œç±»ç±»å‹â€æŒ‡çš„æ˜¯<code> structã€class</code> æˆ–<code> union</code> ç±»å‹ã€‚å°½ç®¡æˆ‘ä»¬ä¸ºäº†ç®€å•èµ·è§ä¼šåœ¨ <code>struct</code> ä¸Šæ¼”ç¤ºâ€œç±»æ¨¡æ¿â€ï¼Œä½†è¿™é‡Œçš„å†…å®¹åŒæ ·é€‚ç”¨äº <code>class</code>ã€‚</p>
</blockquote>
<p>ç°åœ¨æˆ‘ä»¬å°†ä¸Šé¢ç¬¬ä¸€ä¸ªç¤ºä¾‹ä»£ç æ”¹å†™ä¸ºç±»æ¨¡ç‰ˆçš„å½¢å¼:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">template</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair
</span><span style="color:#657b83;">{
</span><span>    T first </span><span style="color:#657b83;">{}</span><span>;
</span><span>    T second </span><span style="color:#657b83;">{}</span><span>;
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">4</span><span>,</span><span style="color:#6c71c4;">6</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span>p1.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;&lt;</span><span>&#39; &#39; </span><span style="color:#657b83;">&lt;&lt;</span><span> p1.</span><span style="color:#268bd2;">second </span><span style="color:#657b83;">&lt;&lt;</span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">double</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p2 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">3.2</span><span>,</span><span style="color:#6c71c4;">5.4</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span>p2.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;&lt;</span><span>&#39; &#39; </span><span style="color:#657b83;">&lt;&lt;</span><span> p2.</span><span style="color:#268bd2;">second </span><span style="color:#657b83;">&lt;&lt;</span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span></code></pre>
<p>å°±åƒå‡½æ•°æ¨¡ç‰ˆä¸€æ ·,æˆ‘ä»¬ç”¨ä»¥æ¨¡ç‰ˆå‚æ•°å£°æ˜å¼€å§‹ç±»æ¨¡ç‰ˆçš„å®šä¹‰ã€‚æ¥ä¸‹æ¥åœ¨<code>&lt;&gt;</code>å†…æŒ‡å®šæ¨¡ç‰ˆå°†ä½¿ç”¨çš„æ‰€æœ‰æ¨¡ç‰ˆç±»å‹ã€‚å¯¹äºæˆ‘ä»¬éœ€è¦çš„æ¯ä¸ªæ¨¡æ¿ç±»å‹ï¼Œä½¿ç”¨å…³é”®å­— <code>typename</code>ï¼ˆé¦–é€‰ï¼‰æˆ– <code>class</code>ï¼Œåè·Ÿæ¨¡æ¿ç±»å‹çš„åç§°ï¼ˆä¾‹å¦‚ <code>T</code>ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºæˆ‘ä»¬çš„ä¸¤ä¸ªæˆå‘˜å°†æ˜¯ç›¸åŒçš„ç±»å‹ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªæ¨¡æ¿ç±»å‹ã€‚â€</p>
<p>åœ¨<code>main</code>ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æˆ‘ä»¬æƒ³è¦çš„ä»»ä½•ç±»å‹æ¥å®ä¾‹åŒ–<code>Pair</code>å¯¹è±¡ã€‚é¦–å…ˆï¼Œå®ä¾‹åŒ–ä¸€<code>ä¸ªPair&lt;int&gt;</code>ç±»å‹çš„å¯¹è±¡ã€‚ç”±äº<code>Pair&lt;int&gt;</code>çš„ç±»å‹å®šä¹‰å°šä¸å­˜åœ¨ï¼Œå› æ­¤ç¼–è¯‘å™¨ä½¿ç”¨ç±»æ¨¡æ¿å®ä¾‹åŒ–åä¸º<code>Pair&lt;int&gt;</code>çš„ç»“æ„ç±»å‹å®šä¹‰ï¼Œå…¶ä¸­æ¨¡æ¿ç±»å‹<code>T</code>çš„æ‰€æœ‰å‡ºç°éƒ½è¢«ç±»å‹<code>int</code>æ›¿æ¢ã€‚å…¶ä»–ç±»å‹åŒç†ã€‚</p>
<hr />
<h2 id="zai-han-shu-zhong-shi-yong-lei-mo-ban">åœ¨å‡½æ•°ä¸­ä½¿ç”¨ç±»æ¨¡ç‰ˆ<a class="zola-anchor" href="#zai-han-shu-zhong-shi-yong-lei-mo-ban" aria-label="Anchor link for: zai-han-shu-zhong-shi-yong-lei-mo-ban">ğŸ”—</a></h2>
<p>å¯¹äºä¹‹å‰çš„<code>max</code>å‡½æ•°,ç”±äºç¼–è¯‘å™¨ä¼šå°†<code>Pair&lt;int&gt;</code>,<code>Pair&lt;double&gt;</code>è§†ä¸ºå•ç‹¬çš„ç±»å‹,å› æ­¤æˆ‘ä»¬å¯ä»¥æŒ‰ç…§å‚æ•°ç±»å‹çš„åŒºåˆ†,å¯¹è¯¥å‡½æ•°è¿›è¡Œé‡è½½ã€‚</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#859900;">constexpr </span><span style="color:#268bd2;">int </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#657b83;">(</span><span>p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;</span><span> p.</span><span style="color:#268bd2;">second</span><span style="color:#657b83;">) </span><span style="color:#859900;">?</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">:</span><span> p.</span><span style="color:#268bd2;">first</span><span style="background-color:#6e2e32;color:#839496;">)</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#859900;">constexpr </span><span style="color:#268bd2;">double </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#657b83;">(</span><span>p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;</span><span> p.</span><span style="color:#268bd2;">second</span><span style="color:#657b83;">) </span><span style="color:#859900;">?</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">:</span><span> p.</span><span style="color:#268bd2;">first</span><span style="background-color:#6e2e32;color:#839496;">)</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>è™½ç„¶å¯ä»¥æ­£å¸¸ç¼–è¯‘,ä½†æ˜¯è¿™æ ·å¹¶æ²¡æœ‰è§£å†³ä»£ç å†—ä½™çš„é—®é¢˜ã€‚æˆ‘ä»¬çœŸæ­£æƒ³è¦çš„æ˜¯ä¸€ä¸ªå¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„å‡½æ•°ã€‚æ¢å¥è¯è¯´,æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¥å—<code>Pair&lt;T&gt;</code>ç±»å‹å‚æ•°çš„å‡½æ•°ã€‚å…¶ä¸­çš„<code>T</code>æ˜¯æ¨¡ç‰ˆç±»å‹å‚æ•°ã€‚æ‰€ä»¥æš—ç¤ºçš„å¤Ÿæ˜æ˜¾äº†å§,æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°æ¨¡ç‰ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ </p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">template</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair
</span><span style="color:#657b83;">{
</span><span>    T first </span><span style="color:#657b83;">{}</span><span>;
</span><span>    T second </span><span style="color:#657b83;">{}</span><span>;
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T</span><span style="color:#657b83;">&gt;
</span><span style="color:#859900;">constexpr</span><span> T </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>Pair</span><span style="color:#657b83;">&lt;</span><span>T</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#657b83;">(</span><span>p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">?</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">:</span><span> p.</span><span style="color:#268bd2;">first</span><span style="color:#657b83;">)</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">2</span><span>,</span><span style="color:#6c71c4;">4</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#b58900;">max</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt;(</span><span>p1</span><span style="color:#657b83;">) &lt;&lt;</span><span>&quot;</span><span style="color:#2aa198;">is larger</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">double</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p2 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">3.5</span><span>, </span><span style="color:#6c71c4;">2.5</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>p2</span><span style="color:#657b83;">) &lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">is larger</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p><code>max()</code> å‡½æ•°æ¨¡æ¿çš„é€»è¾‘éå¸¸ç›´è§‚ã€‚ç”±äºæˆ‘ä»¬å¸Œæœ›ä¼ å…¥ä¸€ä¸ª <code>Pair&lt;T&gt;</code>ï¼Œæˆ‘ä»¬éœ€è¦è®©ç¼–è¯‘å™¨çŸ¥é“ T çš„å…·ä½“ç±»å‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‡½æ•°å‰é¢æ·»åŠ  <strong>æ¨¡æ¿å‚æ•°å£°æ˜</strong>ï¼Œç”¨äºå®šä¹‰æ¨¡æ¿ç±»å‹ Tã€‚</p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è¿”å›ç±»å‹å’Œ <code>Pair&lt;T&gt;</code> çš„æ¨¡æ¿ç±»å‹ä¸­ä½¿ç”¨ <code>T</code>ï¼Œä»è€Œä½¿ <code>max()</code> é€‚ç”¨äºä¸åŒçš„æ•°æ®ç±»å‹ã€‚</p>
<p>å½“<code>maxï¼ˆï¼‰</code>å‡½æ•°ç”¨<code>Pair&lt;int&gt;</code>å‚æ•°è°ƒç”¨æ—¶ï¼Œç¼–è¯‘å™¨å°†ä»å‡½æ•°æ¨¡æ¿å®ä¾‹åŒ–å‡½æ•°<code>int max&lt;int&gt;ï¼ˆPair&lt;int&gt;ï¼‰</code>ï¼Œå…¶ä¸­æ¨¡æ¿ç±»å‹<code>T</code>è¢«æ›¿æ¢ä¸º<code>int</code>ã€‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ˜¾ç¤ºäº†åœ¨è¿™ç§æƒ…å†µä¸‹ç¼–è¯‘å™¨å®é™…å®ä¾‹åŒ–çš„å†…å®¹ï¼š</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;&gt;
</span><span style="color:#859900;">constexpr </span><span style="color:#268bd2;">int </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#657b83;">(</span><span>p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">?</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">:</span><span> p.</span><span style="color:#268bd2;">first</span><span style="color:#657b83;">)</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<blockquote>
<p>ä¸æ‰€æœ‰å¯¹å‡½æ•°æ¨¡æ¿çš„è°ƒç”¨ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾å¼åœ°ä½¿ç”¨æ¨¡æ¿ç±»å‹å‚æ•°ï¼ˆä¾‹å¦‚<code>max&lt;int&gt;ï¼ˆp1ï¼‰</code>ï¼‰ï¼Œä¹Ÿå¯ä»¥éšå¼åœ°ä½¿ç”¨ï¼ˆä¾‹å¦‚<code>maxï¼ˆp2ï¼‰</code>ï¼‰ï¼Œè®©ç¼–è¯‘å™¨ä½¿ç”¨æ¨¡æ¿å‚æ•°æ¨å¯¼æ¥ç¡®å®šæ¨¡æ¿ç±»å‹å‚æ•°åº”è¯¥æ˜¯ä»€ä¹ˆã€‚</p>
</blockquote>
<hr />
<h2 id="ju-you-mo-ban-lei-xing-cheng-yuan-he-fei-mo-ban-lei-xing-cheng-yuan-de-lei-mo-ban">å…·æœ‰æ¨¡æ¿ç±»å‹æˆå‘˜å’Œéæ¨¡æ¿ç±»å‹æˆå‘˜çš„ç±»æ¨¡æ¿<a class="zola-anchor" href="#ju-you-mo-ban-lei-xing-cheng-yuan-he-fei-mo-ban-lei-xing-cheng-yuan-de-lei-mo-ban" aria-label="Anchor link for: ju-you-mo-ban-lei-xing-cheng-yuan-he-fei-mo-ban-lei-xing-cheng-yuan-de-lei-mo-ban">ğŸ”—</a></h2>
<p>åœ¨ <strong>ç±»æ¨¡æ¿ï¼ˆclass templatesï¼‰</strong> ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥ä½¿ç”¨<strong>æ¨¡æ¿ç±»å‹å‚æ•°ï¼ˆtemplate type parameterï¼‰</strong>ï¼Œè¿˜å¯ä»¥åŒ…å«<strong>éæ¨¡æ¿ç±»å‹æˆå‘˜ï¼ˆnon-template type membersï¼‰</strong>ã€‚è¿™æ„å‘³ç€ï¼Œç±»ä¸­çš„æŸäº›æˆå‘˜å¯ä»¥æ˜¯é€šç”¨ç±»å‹ï¼ˆç”±æ¨¡æ¿å‚æ•°å†³å®šï¼‰ï¼Œè€Œå…¶ä»–æˆå‘˜å¯ä»¥æ˜¯å›ºå®šç±»å‹ï¼ˆä¾‹å¦‚ intã€double ç­‰ï¼‰ã€‚</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#268bd2;">template</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Foo
</span><span style="color:#657b83;">{
</span><span>  T first </span><span style="color:#657b83;">{}</span><span>; </span><span style="color:#586e75;">// æ¨¡ç‰ˆç±»å‹
</span><span>  </span><span style="color:#268bd2;">int</span><span> second </span><span style="color:#657b83;">{}</span><span>; </span><span style="color:#586e75;">// éæ¨¡ç‰ˆç±»å‹
</span><span style="color:#657b83;">}
</span></code></pre>
<p>ç±»æ¨¡ç‰ˆä¹Ÿå¯ä»¥æœ‰å¤šä¸ªæ¨¡ç‰ˆç±»å‹,ä¾‹å¦‚,å¦‚æœæˆ‘ä»¬å¸Œæœ›<code>Pair</code>ç±»çš„ä¸¤ä¸ªæˆå‘˜èƒ½å¤Ÿæœ‰ä¸åŒçš„ç±»å‹,æˆ‘ä»¬å¯ä»¥ç”¨è„¸è‚¿è«åŠç±»å‹æ¥å®šä¹‰è¿™ä¸ªç±»æ¨¡ç‰ˆã€‚</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T, </span><span style="color:#268bd2;">typename</span><span> U</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair
</span><span style="color:#657b83;">{
</span><span>    T </span><span style="color:#b58900;">first</span><span style="color:#657b83;">{}</span><span>;
</span><span>    U </span><span style="color:#b58900;">second</span><span style="color:#657b83;">{}</span><span>;
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T, </span><span style="color:#268bd2;">typename</span><span> U</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>Pair</span><span style="color:#657b83;">&lt;</span><span>T, U</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#2aa198;">[</span><span>&#39; </span><span style="color:#657b83;">&lt;&lt;</span><span> p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">, </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#2aa198;">]</span><span>&#39;;
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">double</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2.3 </span><span style="color:#657b83;">}</span><span>; 
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">double</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p2</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">4.5</span><span>, </span><span style="color:#6c71c4;">6 </span><span style="color:#657b83;">}</span><span>; 
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p3</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">7</span><span>, </span><span style="color:#6c71c4;">8 </span><span style="color:#657b83;">}</span><span>;      
</span><span>
</span><span>    </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>p2</span><span style="color:#657b83;">)</span><span>;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>ä¸ºäº†å®šä¹‰å¤šä¸ªæ¨¡ç‰ˆç±»å‹,åœ¨æ¨¡ç‰ˆå‚æ•°å£°æ˜ä¸­,æˆ‘ä»¬ç”¨é€—å·åˆ†éš”æ¯ä¸€ä¸ªæ‰€éœ€ç±»å‹ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­,å®šä¹‰äº†ä¸¤ä¸ªä¸åŒçš„æ¨¡ç‰ˆç±»å‹,åˆ†åˆ«ä¸º<code>T</code>å’Œ<code>U</code>,åœ¨å®é™…ä½¿ç”¨æ—¶,ä¸¤ä¸ªæ¨¡ç‰ˆç±»å‹æˆ‘ä»¬å¯ä»¥éšæ„å®‰æ’,æ¯”å¦‚ä¸¤ä¸ªä¸åŒç±»å‹æˆ–è€…ä¸¤ä¸ªç›¸åŒç±»å‹éƒ½æ˜¯è¢«å…è®¸çš„ã€‚</p>
<hr />
<h2 id="mo-ban-han-shu-he-duo-ge-lei-lei-xing">æ¨¡ç‰ˆå‡½æ•°å’Œå¤šä¸ªç±»ç±»å‹<a class="zola-anchor" href="#mo-ban-han-shu-he-duo-ge-lei-lei-xing" aria-label="Anchor link for: mo-ban-han-shu-he-duo-ge-lei-lei-xing">ğŸ”—</a></h2>
<p>å¯¹äºä¸Šé¢çš„ä¾‹å­,å› ä¸ºæˆ‘ä»¬å·²ç»å°†å‡½æ•°å‚æ•°æ˜¾å¼å®šä¹‰ä¸º<code>Pair&lt;Tï¼ŒU&gt;</code>ï¼Œæ‰€ä»¥åªæœ‰<code>Pair&lt;Tï¼ŒU&gt;</code>ç±»å‹çš„å‚æ•°ï¼ˆæˆ–é‚£äº›å¯ä»¥è½¬æ¢ä¸º<code>Pair&lt;Tï¼ŒU&gt;çš„</code>å‚æ•°ï¼‰æ‰ä¼šåŒ¹é…ã€‚å¦‚æœæˆ‘ä»¬åªå¸Œæœ›èƒ½å¤Ÿä½¿ç”¨<code>Pair&lt;Tï¼ŒU&gt;</code>å‚æ•°è°ƒç”¨å‡½æ•°ï¼Œè¿™æ˜¯æ²¡é—®é¢˜çš„ã€‚</p>
<p>ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹,æˆ‘ä»¬å¸Œæœ›å¯ä»¥ç¼–å†™ä¸€ä¸ªå¯ä»¥ä¸ä»»ä½•ç±»å‹ä¸€èµ·ä½¿ç”¨çš„å‡½æ•°æ¨¡ç‰ˆ,åªéœ€è¦ä½¿ç”¨ç±»å‹æ¨¡ç‰ˆå‚æ•°ä½œä¸ºå‡½æ•°å‚æ•°å³å¯ã€‚</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">template</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T,</span><span style="color:#268bd2;">typename</span><span> U</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair
</span><span style="color:#657b83;">{
</span><span>    T first </span><span style="color:#657b83;">{}</span><span>;
</span><span>    U second </span><span style="color:#657b83;">{}</span><span>;
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Point
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#268bd2;">int</span><span> first </span><span style="color:#657b83;">{}</span><span>;
</span><span>    </span><span style="color:#268bd2;">int</span><span> second </span><span style="color:#657b83;">{}</span><span>;
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span>
</span><span style="color:#268bd2;">template</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>T </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span> p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;&lt;</span><span>&quot;</span><span style="color:#2aa198;">, </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span style="color:#657b83;">}
</span><span>
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">double</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">4.5</span><span>, </span><span style="color:#6c71c4;">6 </span><span style="color:#657b83;">}</span><span>;
</span><span>    </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>p1</span><span style="color:#657b83;">)</span><span>; </span><span style="color:#586e75;">// åŒ¹é… print(Pair&lt;double, int&gt;)
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span>    Point </span><span style="color:#b58900;">p2 </span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">7</span><span>, </span><span style="color:#6c71c4;">8 </span><span style="color:#657b83;">}</span><span>;
</span><span>    </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>p2</span><span style="color:#657b83;">)</span><span>; </span><span style="color:#586e75;">// åŒ¹é… print(Point)
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span></code></pre>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é‡å†™äº†<code>printï¼ˆï¼‰</code>ï¼Œä½¿å®ƒåªæœ‰ä¸€ä¸ªç±»å‹æ¨¡æ¿å‚æ•°ï¼ˆ<code>T</code>ï¼‰ï¼Œå®ƒå°†åŒ¹é…ä»»ä½•ç±»å‹ã€‚å¯¹äºä»»ä½•å…·æœ‰<code>ç¬¬ä¸€</code>ä¸ªå’Œ<code>ç¬¬äºŒä¸ª</code>æˆå‘˜çš„ç±»ç±»å‹ï¼Œå‡½æ•°ä½“éƒ½å°†æˆåŠŸç¼–è¯‘ã€‚</p>
<hr />
<h2 id="biao-zhun-ku-zhong-de-std-pair">æ ‡å‡†åº“ä¸­çš„std::pair<a class="zola-anchor" href="#biao-zhun-ku-zhong-de-std-pair" aria-label="Anchor link for: biao-zhun-ku-zhong-de-std-pair">ğŸ”—</a></h2>
<p>åœ¨C++æ ‡å‡†åº“ä¸­åŒ…å«äº†ä¸€ä¸ªåä¸º<code>std::pair</code>çš„ç±»æ¨¡ç‰ˆ,å®ƒçš„å®šä¹‰ä¸ä¸Šé¢æˆ‘ä»¬è‡ªå·±å®ç°çš„åŸç†ç›¸ä¼¼,æ‰€ä»¥æˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨æ ‡å‡†åº“æä¾›çš„æ–¹æ³•æ›¿æ¢æ‰æˆ‘ä»¬è‡ªå·±çš„å®ç°ã€‚</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">utility</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T,</span><span style="color:#268bd2;">typename</span><span> U</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>std::pair</span><span style="color:#657b83;">&lt;</span><span>T,U</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span>&#39;</span><span style="color:#2aa198;">[</span><span>&#39; </span><span style="color:#657b83;">&lt;&lt;</span><span> p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">, </span><span>&quot; </span><span style="color:#657b83;">&lt;&lt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#2aa198;">]</span><span>&#39;;
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>,</span><span style="color:#268bd2;">double</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1</span><span>,</span><span style="color:#6c71c4;">3.0</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">double</span><span>,</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p2 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">4.3</span><span>,</span><span style="color:#6c71c4;">2</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>,</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p3 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">2</span><span>,</span><span style="color:#6c71c4;">2</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">float</span><span>,</span><span style="color:#268bd2;">double</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p4 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">3.14</span><span>,</span><span style="color:#6c71c4;">2.71</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span>    </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>p1</span><span style="color:#657b83;">)</span><span>;
</span><span>    </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>p2</span><span style="color:#657b83;">)</span><span>;
</span><span>    </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>p3</span><span style="color:#657b83;">)</span><span>;
</span><span>    </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>p4</span><span style="color:#657b83;">)</span><span>;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span></code></pre>
<blockquote>
<p>åœ¨å®é™…å¼€å‘ä¸­,ä¸€èˆ¬å»ºè®®ç›´æ¥ä½¿ç”¨æ ‡å‡†åº“å®šä¹‰çš„<code>pair</code>è€Œä¸æ˜¯è‡ªå·±é‡æ–°å®ç°,é™¤éæ ‡å‡†åº“çš„å®ç°æ— æ³•æ»¡è¶³éœ€æ±‚ã€‚</p>
</blockquote>
<hr />
<h2 id="zai-duo-ge-wen-jian-zhong-shi-yong-lei-mo-ban">åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ç±»æ¨¡ç‰ˆ<a class="zola-anchor" href="#zai-duo-ge-wen-jian-zhong-shi-yong-lei-mo-ban" aria-label="Anchor link for: zai-duo-ge-wen-jian-zhong-shi-yong-lei-mo-ban">ğŸ”—</a></h2>
<p>å°±åƒå‡½æ•°æ¨¡ç‰ˆä¸€æ ·,ç±»æ¨¡ç‰ˆé€šå¸¸å®šä¹‰åœ¨å¤´æ–‡ä»¶ä¸­,å› æ­¤ä»–ä»¬å¯ä»¥åœ¨ä»»ä½•éœ€è¦ä»–ä»¬çš„ä»£ç æ–‡ä»¶ä¸­,æ¨¡ç‰ˆå®šä¹‰å’Œç±»å‹å®šä¹‰éƒ½ä¸å— <strong>ORD</strong>åŸåˆ™çš„é™åˆ¶ã€‚ </p>
<ul>
<li>pair.h</li>
</ul>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#ifndef</span><span style="color:#b58900;"> PAIR_H
</span><span style="color:#cb4b16;">#define </span><span style="color:#b58900;">PAIR_H
</span><span>
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair 
</span><span style="color:#657b83;">{
</span><span>    T first;
</span><span>    T second;
</span><span style="color:#657b83;">}</span><span>;
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T</span><span style="color:#657b83;">&gt;
</span><span style="color:#859900;">constexpr</span><span> T  </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>Pair</span><span style="color:#657b83;">&lt;</span><span>T</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    </span><span style="color:#859900;">return</span><span> p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&gt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#859900;">?</span><span> p.</span><span style="color:#268bd2;">first </span><span style="color:#859900;">:</span><span> p.</span><span style="color:#268bd2;">second</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#cb4b16;">#endif </span><span style="color:#586e75;">// PAIR_H
</span></code></pre>
<ul>
<li>foo.cpp</li>
</ul>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&quot;</span><span style="color:#2aa198;">pair.h</span><span>&quot;
</span><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span>
</span><span>
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">foo</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1</span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt; </span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>p1</span><span style="color:#657b83;">) &lt;&lt; </span><span>&quot;</span><span style="color:#2aa198;">is large</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span style="color:#657b83;">}
</span><span>
</span></code></pre>
<ul>
<li>main.cpp</li>
</ul>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&quot;</span><span style="color:#2aa198;">pair.h</span><span>&quot;
</span><span>
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">foo</span><span style="color:#657b83;">()</span><span>;
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">double</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p2 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1.0</span><span>, </span><span style="color:#6c71c4;">2.0</span><span style="color:#657b83;">}</span><span>;
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span style="color:#b58900;">max</span><span style="color:#657b83;">(</span><span>p2</span><span style="color:#657b83;">)&lt;&lt;</span><span>&quot;</span><span style="color:#2aa198;">is larger</span><span style="color:#dc322f;">\n</span><span>&quot;;
</span><span>    
</span><span>    </span><span style="color:#b58900;">foo</span><span style="color:#657b83;">()</span><span>;
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>å¯¹äºä¸Šé¢çš„ç¨‹åº,å¦‚æœä½ æ˜¯ä½¿ç”¨å‘½ä»¤å•ç‹¬ç¼–è¯‘çš„æƒ…å†µä¸‹,åœ¨ç¼–è¯‘<code>main.cpp</code>çš„åŒæ—¶åŠ¡å¿…è®°å¾—ç¼–è¯‘<code>foo.cpp</code></p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span>g</span><span style="color:#657b83;">++ -</span><span>std</span><span style="color:#657b83;">=</span><span>c</span><span style="color:#657b83;">++</span><span style="color:#6c71c4;">17 </span><span style="color:#657b83;">-</span><span>o main main.</span><span style="color:#268bd2;">cpp</span><span> foo.</span><span style="color:#268bd2;">cpp
</span></code></pre>
<hr />
<h2 id="mo-ban-can-shu-tui-dao">æ¨¡ç‰ˆå‚æ•°æ¨å¯¼<a class="zola-anchor" href="#mo-ban-can-shu-tui-dao" aria-label="Anchor link for: mo-ban-can-shu-tui-dao">ğŸ”—</a></h2>
<p>ä»C++17å¼€å§‹,å½“ä»ç±»æ¨¡ç‰ˆå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶,ç¼–è¯‘å™¨å¯ä»¥ä»å¯¹è±¡çš„åˆå§‹åŒ–å™¨çš„ç±»å‹æ¨å¯¼å‡ºæ¨¡ç‰ˆç±»å‹,è¿™ç§°ä¸º <strong>æ¨¡ç‰ˆç±»å‹æ¨å¯¼</strong>æˆ–è€…ç®€ç§°<code>CTAD.</code></p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">utility</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>  std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>,</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1</span><span>,</span><span style="color:#6c71c4;">2</span><span style="color:#657b83;">}</span><span>;
</span><span>  std::pair </span><span style="color:#b58900;">p2 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1</span><span>,</span><span style="color:#6c71c4;">2</span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// è¿™é‡Œç”¨åˆ°äº†C++17çš„è‡ªåŠ¨æ¨¡ç‰ˆç±»å‹æ¨å¯¼,ä¸éœ€è¦æ˜¾å¼çš„å£°æ˜
</span><span>  
</span><span>  </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯,è¿™æ ·çš„æ¨å¯¼æ˜¯æœ‰æ¡ä»¶çš„,åªæœ‰åœ¨æ²¡æœ‰æ˜¾å¼å£°æ˜æ¨¡ç‰ˆå‚æ•°çš„æƒ…å†µä¸‹æ‰ä¼šæ‰§è¡Œã€‚æ‰€ä»¥,ä¸‹é¢ä¸¤ç§æ–¹å¼æ˜¯é”™è¯¯ç¤ºèŒƒ:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">utility</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>  std::pair</span><span style="color:#657b83;">&lt;&gt; </span><span style="color:#b58900;">p1 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1</span><span>,</span><span style="color:#6c71c4;">2</span><span style="color:#657b83;">}</span><span>;  </span><span style="color:#586e75;">// æ¨¡æ¿å‚æ•°å¤ªå°‘ï¼Œä¸¤ä¸ªå‚æ•°å‡æœªæ¨å¯¼
</span><span>  std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p2 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">3</span><span>,</span><span style="color:#6c71c4;">4</span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// æ¨¡æ¿å‚æ•°å¤ªå°‘ï¼Œç¬¬äºŒä¸ªå‚æ•°æœªæ¨å¯¼
</span><span>  
</span><span>  </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>ç”±äº CTADï¼ˆç±»æ¨¡æ¿å‚æ•°æ¨å¯¼ï¼‰æ˜¯ä¸€ç§ç±»å‹æ¨å¯¼çš„å½¢å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>å­—é¢é‡åç¼€</strong> æ¥æ”¹å˜æ¨å¯¼å‡ºçš„ç±»å‹ï¼š</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">utility</span><span>&gt; 
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    std::pair </span><span style="color:#b58900;">p1 </span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">3.4</span><span style="color:#268bd2;">f</span><span>, </span><span style="color:#6c71c4;">5.6</span><span style="color:#268bd2;">f </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// æ¨å¯¼ä¸º pair&lt;float, float&gt;
</span><span>    std::pair </span><span style="color:#b58900;">p2 </span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span style="color:#268bd2;">u</span><span>, </span><span style="color:#6c71c4;">2</span><span style="color:#268bd2;">u </span><span style="color:#657b83;">}</span><span>;     </span><span style="color:#586e75;">// æ¨å¯¼ä¸º pair&lt;unsigned int, unsigned int&gt;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>å¤§å¤šæ•°æƒ…å†µä¸‹,<code>CTAD</code>å¯ä»¥å¼€ç®±å³ç”¨,ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹,ç¼–è¯‘å™¨å¯èƒ½éœ€è¦ä¸€äº›é¢å¤–çš„å¸®åŠ©æ¥ç†è§£å¦‚ä½•æ­£ç¡®æ¨å¯¼æ¨¡ç‰ˆå‚æ•°ã€‚</p>
<p>æ¯”å¦‚ä¸‹é¢çš„ç¨‹åº,å¦‚æœä½ åœ¨C++17ç¯å¢ƒä¸‹ç¼–è¯‘,æ˜¯æ— æ³•æ­£å¸¸ç¼–è¯‘æˆåŠŸçš„ã€‚</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">utility</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">template</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T,</span><span style="color:#268bd2;">typename</span><span> U</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair
</span><span style="color:#657b83;">{
</span><span>    T first </span><span style="color:#657b83;">{}</span><span>;
</span><span>    U second </span><span style="color:#657b83;">{}</span><span>;
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>,</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1</span><span>,</span><span style="color:#6c71c4;">2</span><span style="color:#657b83;">}</span><span>;
</span><span>    Pair </span><span style="color:#b58900;">p2 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">2</span><span>,</span><span style="color:#6c71c4;">3</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>æ¯”å¦‚,æˆ‘å°è¯•ç¼–è¯‘è¿™æ®µä»£ç æ—¶,å°±é‡åˆ°äº†ä¸‹é¢è¿™æ ·çš„é”™è¯¯æç¤º:</p>
<p><img src="https://images.waer.ltd/notes/202503161556985.png" alt="image-20250316155611729" /></p>
<p>è¿™æ˜¯å› ä¸ºåœ¨C++17ä¸­,å®ƒä¸çŸ¥é“å¦‚ä½•æ¨å¯¼èšåˆç±»å‹çš„ç±»æ¨¡ç‰ˆå‚æ•°,ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜,æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨çš„ç»™ç¼–è¯‘å™¨æä¾›ä¸€ä¸ªæ¨å¯¼æŒ‡å—,å®ƒä¼šå‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•æ¨å¯¼ç»™å®šç±»æ¨¡ç‰ˆçš„æ¨¡ç‰ˆå‚æ•°:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span style="color:#cb4b16;">#include</span><span>&lt;</span><span style="color:#2aa198;">utility</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">template</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T,</span><span style="color:#268bd2;">typename</span><span> U</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair
</span><span style="color:#657b83;">{
</span><span>    T first </span><span style="color:#657b83;">{}</span><span>;
</span><span>    U second </span><span style="color:#657b83;">{}</span><span>;
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#586e75;">// æ¨å¯¼æŒ‡å—
</span><span style="color:#268bd2;">template</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T,</span><span style="color:#268bd2;">typename</span><span> U</span><span style="color:#657b83;">&gt;
</span><span style="color:#b58900;">Pair</span><span style="color:#657b83;">(</span><span>T,U</span><span style="color:#657b83;">) </span><span>-&gt; </span><span style="color:#b58900;">Pair</span><span style="color:#657b83;">&lt;</span><span>T,U</span><span style="color:#657b83;">&gt;</span><span>;
</span><span>
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>,</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">1</span><span>,</span><span style="color:#6c71c4;">2</span><span style="color:#657b83;">}</span><span>;
</span><span>    Pair </span><span style="color:#b58900;">p2 </span><span style="color:#657b83;">{</span><span style="color:#6c71c4;">2</span><span>,</span><span style="color:#6c71c4;">3</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span><span>
</span></code></pre>
<p>å…³é”®çš„ä»£ç å°±ä¸¤è¡Œ:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#268bd2;">template</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T,</span><span style="color:#268bd2;">typename</span><span> U</span><span style="color:#657b83;">&gt;
</span><span style="color:#b58900;">Pair</span><span style="color:#657b83;">(</span><span>T,U</span><span style="color:#657b83;">) </span><span>-&gt; </span><span style="color:#b58900;">Pair</span><span style="color:#657b83;">&lt;</span><span>T,U</span><span style="color:#657b83;">&gt;</span><span>;
</span></code></pre>
<ul>
<li>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸ <code>Pair</code> ç±»ä¸­ç›¸åŒçš„æ¨¡æ¿ç±»å‹å®šä¹‰ã€‚è¿™æ˜¯åˆç†çš„ï¼Œå› ä¸ºå¦‚æœæˆ‘ä»¬çš„ <strong>æ¨å¯¼æŒ‡å¼•ï¼ˆdeduction guideï¼‰</strong> è¦å‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•ä¸º <code>Pair&lt;T, U&gt;</code> æ¨å¯¼ç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»å®šä¹‰ <code>T</code> å’Œ<code> U</code>ï¼ˆå³æ¨¡æ¿ç±»å‹ï¼‰ã€‚</p>
</li>
<li>
<p>å…¶æ¬¡ï¼Œåœ¨ç®­å¤´ <code>-&gt;</code> å³ä¾§ï¼Œæˆ‘ä»¬æŒ‡å®šäº†å¸Œæœ›å¸®åŠ©ç¼–è¯‘å™¨æ¨å¯¼å‡ºçš„ç±»å‹ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›ç¼–è¯‘å™¨èƒ½å¤Ÿæ¨å¯¼å‡º <code>Pair&lt;T, U&gt;</code> ç±»å‹çš„æ¨¡æ¿å‚æ•°ï¼Œå› æ­¤è¿™é‡Œç›´æ¥å†™ <code>Pair&lt;T, U&gt;</code>ã€‚</p>
</li>
<li>
<p>æœ€åï¼Œåœ¨ç®­å¤´<code> -&gt;</code> å·¦ä¾§ï¼Œæˆ‘ä»¬å‘Šè¯‰ç¼–è¯‘å™¨è¦å¯»æ‰¾å“ªç§å½¢å¼çš„å£°æ˜ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬æŒ‡å®šäº† <code>Pair</code> å¯¹è±¡çš„å£°æ˜ï¼Œä¸”å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼ˆä¸€ä¸ªæ˜¯ <code>T</code> ç±»å‹ï¼Œå¦ä¸€ä¸ªæ˜¯ <code>U</code> ç±»å‹ï¼‰ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å†™æˆ <code>Pair(T t, U u)</code>ï¼Œå…¶ä¸­ <code>t</code> å’Œ<code> u</code> æ˜¯å‚æ•°çš„åç§°ï¼Œä½†ç”±äºåœ¨æ¨å¯¼è¿‡ç¨‹ä¸­ä¸éœ€è¦ä½¿ç”¨å®ƒä»¬ï¼Œå› æ­¤å¯ä»¥çœç•¥åç§°ã€‚</p>
</li>
</ul>
<p>æŠŠæ‰€æœ‰è¿™äº›æ”¾åœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå¦‚æœå®ƒçœ‹åˆ°ä¸€ä¸ªå¸¦æœ‰ä¸¤ä¸ªå‚æ•°ï¼ˆåˆ†åˆ«æ˜¯<code>T</code>å’Œ<code>U</code>ç±»å‹ï¼‰çš„<code>Pair</code>å£°æ˜ï¼Œå®ƒåº”è¯¥æ¨æ–­ç±»å‹ä¸º<code>Pair&lt;Tï¼ŒU&gt;</code>ã€‚</p>
<p>å†çœ‹ä¸€ä¸ªç±»ä¼¼çš„ä¾‹å­:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#586e75;">// å®šä¹‰ä¸€ä¸ªæ¨¡æ¿ç»“æ„ä½“ Pairï¼Œè¡¨ç¤ºä¸€å¯¹æ•°æ®
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair
</span><span style="color:#657b83;">{
</span><span>    T </span><span style="color:#b58900;">first</span><span style="color:#657b83;">{}</span><span>;  </span><span style="color:#586e75;">// ç¬¬ä¸€ä¸ªå€¼
</span><span>    T </span><span style="color:#b58900;">second</span><span style="color:#657b83;">{}</span><span>; </span><span style="color:#586e75;">// ç¬¬äºŒä¸ªå€¼
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#586e75;">// è¿™æ˜¯ `Pair` çš„ä¸€ä¸ªæ¨å¯¼æŒ‡å¼•ï¼ˆä»…åœ¨ C++17 åŠä»¥ä¸Šç‰ˆæœ¬éœ€è¦ï¼‰
</span><span style="color:#586e75;">// å½“ `Pair` å¯¹è±¡ç”¨ä¸¤ä¸ª `T` ç±»å‹çš„å‚æ•°åˆå§‹åŒ–æ—¶ï¼Œæ¨å¯¼ç»“æœåº”ä¸º `Pair&lt;T&gt;`
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T</span><span style="color:#657b83;">&gt;
</span><span style="color:#b58900;">Pair</span><span style="color:#657b83;">(</span><span>T, T</span><span style="color:#657b83;">) </span><span>-&gt; </span><span style="color:#b58900;">Pair</span><span style="color:#657b83;">&lt;</span><span>T</span><span style="color:#657b83;">&gt;</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2 </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// æ˜¾å¼æŒ‡å®šç±»æ¨¡æ¿ `Pair&lt;int&gt;`ï¼ˆé€‚ç”¨äº C++11 åŠæ›´é«˜ç‰ˆæœ¬ï¼‰
</span><span>    Pair </span><span style="color:#b58900;">p2</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2 </span><span style="color:#657b83;">}</span><span>;      </span><span style="color:#586e75;">// ä½¿ç”¨ç±»æ¨¡æ¿å‚æ•°æ¨å¯¼ï¼ˆCTADï¼‰ï¼Œä»åˆå§‹åŒ–å‚æ•°æ¨å¯¼ `Pair&lt;int&gt;`ï¼ˆC++17ï¼‰
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p><code>Pair(T, T) -&gt; Pair&lt;T&gt;;</code>å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå½“ <code>Pair</code> é€šè¿‡ä¸¤ä¸ªç›¸åŒç±»å‹ T çš„å‚æ•°åˆå§‹åŒ–æ—¶ï¼Œ<code>Pair&lt;T&gt;</code> åº”è¯¥è¢«æ¨å¯¼å‡ºæ¥ã€‚</p>
<p>ä¾‹å¦‚ <code>Pair p2{1, 2}</code>;ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨å¯¼ <code>T=int</code>ï¼Œæœ€ç»ˆç­‰ä»·äº<code> Pair&lt;int&gt; p2{1, 2};</code>ã€‚</p>
<hr />
<h2 id="dai-mo-ren-zhi-de-lei-xing-mo-ban-can-shu">å¸¦é»˜è®¤å€¼çš„ç±»å‹æ¨¡æ¿å‚æ•°<a class="zola-anchor" href="#dai-mo-ren-zhi-de-lei-xing-mo-ban-can-shu" aria-label="Anchor link for: dai-mo-ren-zhi-de-lei-xing-mo-ban-can-shu">ğŸ”—</a></h2>
<p>å°±åƒå‡½æ•°å‚æ•°å¯ä»¥æœ‰é»˜è®¤å‚æ•°ä¸€æ ·ï¼Œæ¨¡æ¿å‚æ•°ä¹Ÿå¯ä»¥æœ‰é»˜è®¤å€¼ã€‚å½“æ¨¡æ¿å‚æ•°æ²¡æœ‰æ˜ç¡®æŒ‡å®šå¹¶ä¸”æ— æ³•æ¨å¯¼æ—¶ï¼Œå°†ä½¿ç”¨è¿™äº›å‚æ•°ã€‚</p>
<p>ä¸‹é¢æ˜¯å¯¹ä¸Šé¢çš„<code>Pair&lt;Tï¼ŒU&gt;</code>ç±»æ¨¡æ¿ç¨‹åºçš„ä¿®æ”¹ï¼Œç±»å‹æ¨¡æ¿å‚æ•°<code>T</code>å’Œ<code>U</code>é»˜è®¤ä¸º<code>int</code>ç±»å‹ï¼š</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#586e75;">// å®šä¹‰ä¸€ä¸ªæ¨¡æ¿ç»“æ„ä½“ Pairï¼ŒT å’Œ U é»˜è®¤ç±»å‹ä¸º int
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T </span><span style="color:#657b83;">= </span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">typename</span><span> U </span><span style="color:#657b83;">= </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#586e75;">// é»˜è®¤ T å’Œ U éƒ½æ˜¯ int ç±»å‹
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Pair
</span><span style="color:#657b83;">{
</span><span>    T </span><span style="color:#b58900;">first</span><span style="color:#657b83;">{}</span><span>;  </span><span style="color:#586e75;">// ç¬¬ä¸€ä¸ªå€¼
</span><span>    U </span><span style="color:#b58900;">second</span><span style="color:#657b83;">{}</span><span>; </span><span style="color:#586e75;">// ç¬¬äºŒä¸ªå€¼
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#586e75;">// æ¨å¯¼æŒ‡å¼•ï¼Œå¸®åŠ©ç¼–è¯‘å™¨æ¨å¯¼ Pair(T, U) -&gt; Pair&lt;T, U&gt;
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T, </span><span style="color:#268bd2;">typename</span><span> U</span><span style="color:#657b83;">&gt;
</span><span style="color:#b58900;">Pair</span><span style="color:#657b83;">(</span><span>T, U</span><span style="color:#657b83;">) </span><span>-&gt; </span><span style="color:#b58900;">Pair</span><span style="color:#657b83;">&lt;</span><span>T, U</span><span style="color:#657b83;">&gt;</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    Pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2 </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// æ˜¾å¼æŒ‡å®šç±»æ¨¡æ¿ `Pair&lt;int, int&gt;`ï¼ˆC++11 åŠä»¥ä¸Šï¼‰
</span><span>    Pair </span><span style="color:#b58900;">p2</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2 </span><span style="color:#657b83;">}</span><span>;           </span><span style="color:#586e75;">// ä½¿ç”¨ CTAD æ¨å¯¼ `Pair&lt;int, int&gt;`ï¼ˆC++17ï¼‰
</span><span>
</span><span>    Pair p3;                   </span><span style="color:#586e75;">// ä½¿ç”¨é»˜è®¤æ¨¡æ¿å‚æ•° `Pair&lt;int, int&gt;`
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>æˆ‘ä»¬å¯¹<code>p3çš„</code>å®šä¹‰æ²¡æœ‰æ˜¾å¼åœ°æŒ‡å®šç±»å‹æ¨¡æ¿å‚æ•°çš„ç±»å‹ï¼Œä¹Ÿæ²¡æœ‰ä»è¿™äº›ç±»å‹æ¨å¯¼å‡ºçš„åˆå§‹åŒ–å™¨ã€‚å› æ­¤ï¼Œç¼–è¯‘å™¨å°†ä½¿ç”¨é»˜è®¤å€¼ä¸­æŒ‡å®šçš„ç±»å‹ï¼Œè¿™æ„å‘³<code>ç€p3</code>å°†æ˜¯<code>Pair&lt;intï¼Œint&gt;</code>ç±»å‹ã€‚</p>
<hr />
<p>å½“ä½¿ç”¨<strong>éé™æ€æˆå‘˜åˆå§‹åŒ–</strong>ï¼ˆnon-static member initializationï¼‰æ¥åˆå§‹åŒ–ç±»ç±»å‹çš„æˆå‘˜æ—¶ï¼Œ<strong>ç±»æ¨¡æ¿å‚æ•°æ¨å¯¼ï¼ˆCTADï¼‰</strong> åœ¨è¿™ç§æƒ…å†µä¸‹ä¸ä¼šç”Ÿæ•ˆã€‚æ‰€æœ‰çš„æ¨¡æ¿å‚æ•°å¿…é¡»<strong>æ˜¾å¼æŒ‡å®š</strong>ã€‚</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">utility</span><span>&gt; </span><span style="color:#586e75;">// for std::pair
</span><span>
</span><span style="color:#268bd2;">struct </span><span style="color:#b58900;">Foo
</span><span style="color:#657b83;">{
</span><span>    std::pair</span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">int</span><span>, </span><span style="color:#268bd2;">int</span><span style="color:#657b83;">&gt; </span><span style="color:#b58900;">p1</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2 </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// âœ… OKï¼Œæ˜¾å¼æŒ‡å®šæ¨¡æ¿å‚æ•°
</span><span>    std::pair </span><span style="color:#b58900;">p2</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2 </span><span style="color:#657b83;">}</span><span>;           </span><span style="color:#586e75;">// âŒ ç¼–è¯‘é”™è¯¯ï¼ŒCTAD åœ¨éé™æ€æˆå‘˜åˆå§‹åŒ–æ—¶ä¸å¯ç”¨
</span><span style="color:#657b83;">}</span><span>;
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    std::pair </span><span style="color:#b58900;">p3</span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2 </span><span style="color:#657b83;">}</span><span>;           </span><span style="color:#586e75;">// âœ… OKï¼ŒCTAD åœ¨æ­¤å¤„å¯ä»¥ä½¿ç”¨
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p><strong>ä¸ºä»€ä¹ˆ CTAD ä¸èƒ½ç”¨äºéé™æ€æˆå‘˜åˆå§‹åŒ–ï¼Ÿ</strong></p>
<ul>
<li>éé™æ€æˆå‘˜åˆå§‹åŒ–æ˜¯åœ¨<strong>ç±»å®šä¹‰æ—¶</strong>è§£æçš„ï¼Œè€Œ <code>CTAD</code> éœ€è¦åœ¨å¯¹è±¡å®é™…åˆ›å»ºæ—¶æ¨å¯¼ç±»å‹ï¼Œä¸¤è€…çš„æ—¶æœºä¸åŒã€‚</li>
<li>åœ¨ <code>Foo</code> å®šä¹‰æ—¶ï¼Œç¼–è¯‘å™¨å¿…é¡»ç¡®å®š <code>p2</code> çš„å®Œæ•´ç±»å‹ï¼ˆåŒ…æ‹¬æ¨¡æ¿å‚æ•°ï¼‰ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼æŒ‡å®šæ¨¡æ¿å‚æ•°ï¼Œç¼–è¯‘å™¨æ— æ³•åœ¨ç±»å®šä¹‰é˜¶æ®µè¿›è¡Œæ¨å¯¼ã€‚</li>
<li><code>CTAD</code> ä¸»è¦ç”¨äºå˜é‡åˆå§‹åŒ–ï¼ˆå¦‚ <code>std::pair p{1, 2};</code>ï¼‰ï¼Œè€Œéé™æ€æˆå‘˜åˆå§‹åŒ–å¹¶ä¸ä¼šç›´æ¥è°ƒç”¨ <code>CTAD</code> è§„åˆ™ã€‚</li>
</ul>
<hr />
<blockquote>
<p><code>CTAD</code> ä»£è¡¨â€œç±»æ¨¡æ¿å®å‚æ¨å¯¼â€ï¼ˆ<code>Class Template Argument Deduction</code>ï¼‰ï¼Œè€Œä¸æ˜¯â€œç±»æ¨¡æ¿å‚æ•°æ¨å¯¼â€ï¼ˆ<code>Class Template Parameter Deduction</code>ï¼‰ï¼Œå› æ­¤å®ƒåªä¼šæ¨å¯¼æ¨¡æ¿çš„å®å‚ç±»å‹ï¼Œè€Œä¸ä¼šæ¨å¯¼æ¨¡æ¿çš„å‚æ•°ã€‚</p>
</blockquote>
<p><strong>CTAD åªèƒ½åœ¨å˜é‡å®šä¹‰æ—¶ç”Ÿæ•ˆ</strong>ï¼Œä½†ä¸èƒ½ç”¨äºå‡½æ•°å‚æ•°ç±»å‹æ¨å¯¼ã€‚å› æ­¤,ä¸èƒ½åœ¨å‡½æ•°ä¸­ä½¿ç”¨<code>CTAD</code>:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">utility</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>std::pair </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">) </span><span style="color:#586e75;">// âŒ ç¼–è¯‘é”™è¯¯ï¼šCTAD ä¸èƒ½ç”¨äºå‡½æ•°å‚æ•°
</span><span style="color:#657b83;">{
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span> p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39; &#39; </span><span style="color:#657b83;">&lt;&lt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    std::pair </span><span style="color:#b58900;">p </span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2 </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// âœ… CTAD åœ¨å˜é‡å£°æ˜æ—¶æœ‰æ•ˆï¼Œæ¨å¯¼ä¸º std::pair&lt;int, int&gt;
</span><span>    </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>p</span><span style="color:#657b83;">)</span><span>; </span><span style="color:#586e75;">// âŒ ç¼–è¯‘é”™è¯¯
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥ä½¿ç”¨æ¨¡æ¿æ¥å®ç°:</p>
<pre data-lang="cpp" style="background-color:#002b36;color:#839496;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">iostream</span><span>&gt;
</span><span style="color:#cb4b16;">#include </span><span>&lt;</span><span style="color:#2aa198;">utility</span><span>&gt;
</span><span>
</span><span style="color:#268bd2;">template </span><span style="color:#657b83;">&lt;</span><span style="color:#268bd2;">typename</span><span> T, </span><span style="color:#268bd2;">typename</span><span> U</span><span style="color:#657b83;">&gt;
</span><span style="color:#268bd2;">void </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>std::pair</span><span style="color:#657b83;">&lt;</span><span>T, U</span><span style="color:#657b83;">&gt; </span><span style="color:#268bd2;">p</span><span style="color:#657b83;">)
</span><span style="color:#657b83;">{
</span><span>    std::cout </span><span style="color:#657b83;">&lt;&lt;</span><span> p.</span><span style="color:#268bd2;">first </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39; &#39; </span><span style="color:#657b83;">&lt;&lt;</span><span> p.</span><span style="color:#268bd2;">second </span><span style="color:#657b83;">&lt;&lt; </span><span>&#39;</span><span style="color:#dc322f;">\n</span><span>&#39;;
</span><span style="color:#657b83;">}
</span><span>
</span><span style="color:#268bd2;">int </span><span style="color:#b58900;">main</span><span style="color:#657b83;">()
</span><span style="color:#657b83;">{
</span><span>    std::pair </span><span style="color:#b58900;">p </span><span style="color:#657b83;">{ </span><span style="color:#6c71c4;">1</span><span>, </span><span style="color:#6c71c4;">2 </span><span style="color:#657b83;">}</span><span>; </span><span style="color:#586e75;">// æ¨å¯¼ä¸º std::pair&lt;int, int&gt;
</span><span>    </span><span style="color:#b58900;">print</span><span style="color:#657b83;">(</span><span>p</span><span style="color:#657b83;">)</span><span>;
</span><span>
</span><span>    </span><span style="color:#859900;">return </span><span style="color:#6c71c4;">0</span><span>;
</span><span style="color:#657b83;">}
</span></code></pre>

      
    </div><!--./card-body-->

    <div class="card-footer">
      <div class="columns">
        <div class="column col-9 col-sm-7">
          <div class="taxonomies text-left">
            

    
          </div>
        </div><!--./col-6-->
        
        </div><!--./columns-->
    </div><!--./card-footer-->
</div><!--./card-->
</div>
              <div id="sidebar" class="column col-4 col-md-12">
                <div class="sidebar-content">
                  
                  
<div class="sidebar-widget">
  <div class="tile">
    <div class="tile-icon">
      <figure class="avatar avatar-xl">
        <img src="https://ilikexff.cn/avatar.png" alt="author avatar image">
      </figure>
    </div>
    <div class="tile-content">
      <p class="tile-title" style="font-weight: 600;">æ…•äºˆ</p>
      <p class="tile-subtitle">çƒ­çˆ±ç¼–ç¨‹ï¼Œä¸“æ³¨äºæŠ€æœ¯åˆ†äº«å’Œå­¦ä¹ </p>
    </div>
</div><!--./tile-->
</div>

                  
                  
<div class="sidebar-widget">
  æ¬¢è¿æ¥åˆ°<strong>æ…•äºˆåšå®¢</strong>ï¼è¿™é‡Œåˆ†äº«æŠ€æœ¯æ–‡ç« å’Œç¼–ç¨‹å¿ƒå¾—ã€‚
</div><!-- end text widget -->

                  

                  </div><!--./sidebar-content-->
              </div>
            </div>
            
          </section>
        </section></section>
<section class="container grid-xl">
<ul class="pagination paginator">
  
  
</ul>
</section>
</div><!-- ./page-wrapper -->

    
<div class="mobile-container">
        <div class="overlay" id="overlay">
            <div style="padding: 1rem;">
              
<a class="site-logo" href="https:&#x2F;&#x2F;ilikexff.cn">
  
  <div class="col-mx-auto">
    <figure style="margin: 8px">
      <img class="img-responsive"
           style="max-height: 45px"
           alt="frontmatter image"
           src="https://ilikexff.cn/./logo.svg">
    </figure>
  </div>
  
</a>

            </div>
            <nav class="overlay-menu">
              

<ul class="tree treemenu treemenu-root"><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/tags">æ ‡ç­¾</a>
    </li><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/categories">åˆ†ç±»</a>
    </li><li class="tree-empty">
      <span class="toggler"></span>
      <a href="https://ilikexff.cn/about">å…³äº</a>
    </li></ul>


              </nav>
        </div>
    </div>

<script type="text/javascript">
  var overlay = document.getElementById('overlay');
  var toggle = document.getElementById('toggle');

  function openOverlay(){
      // Open overlay
      if (overlay.classList.contains("open")) {
          overlay.classList.remove("open");
      }
      else {
          overlay.classList.add("open");
      }

      // Button transition
      if (toggle.classList.contains("active")) {
          toggle.classList.remove("active");
      }
      else {
          toggle.classList.add("active");
      }
    }
</script>

<section id="footer" class="bg-gray">
  <div class="container grid-xl">
    


    <div class="columns">
      
      <div class="column col-6 col-lg-12 col-mx-auto" style="text-align: center;">
        ç®€å•æ˜¯æ•ˆç‡çš„çµé­‚ | é»”ICPå¤‡2021010295å·
      </div>
      
      <div class="column col-6 col-lg-12 col-mx-auto" style="text-align: center;">
        Made by <a href="https://github.com/gicrisf/">gicrisf</a> -
        <strong>Zhuia</strong>&nbsp;<a href="https://github.com/gicrisf/zhuia">source code</a>
        is licensed under <a href="http://opensource.org/licenses/mit-license.php" target="_blank">MIT</a>.
      </div>
    </div>
  </div>
</section>
</body>
</html>
