<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>慕予博客</title>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"
    integrity="sha256-WCzAhd2P6gRJF9Hv3oOOd+hFJi/QJbv+Azn4CGB8gfY=" crossorigin="anonymous" defer></script>
  <script src="/js/index.js" defer></script>
  <script src="/js/prompt.js" defer></script>
  <script src="/js/keyboard.js" defer></script>
  <script src="/js/tab.js" defer></script>
  <script src="/js/commands.js" defer></script>
  <script src="/js/config.js" defer></script><script src="/config.js"></script><link rel="stylesheet" href="/css/base.css"><link rel="stylesheet" href="style.css"><link rel="stylesheet" href="/css/page.css"></head><body onkeydown='exec(event)' style='background-image: url("/assets/background.jpg");'><main>
      <div class="files" id="files" tabindex="0">
<ul>

  <li class="file">
    <span><a href='https://ilikexff.cn/8-kuan-rang-ni-kai-fa-qi-fei-de-intellijidea-cha-jian/'
      tabindex="-2">  8款让你开发起飞的IntellijIDEA插件</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/aop-jie-mi-qie-mian-bian-cheng-de-zong-he-zhi-nan/'
      tabindex="-3">  AOP揭秘：切面编程的综合指南</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-mei-ju-pian-yi-wu-fan-wei-mei-ju/'
      tabindex="-4">  C++游戏开发基础-枚举篇一：无范围枚举</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-std-optional/'
      tabindex="-5">  C++游戏开发基础-深入解析std::optional</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-shen-ru-jie-xi-thiszhi-zhen-de-ying-yong-yu-ji-qiao/'
      tabindex="-6">  C++游戏开发基础-深入解析this指针的应用与技巧</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-fu-zhi-gou-zao-han-shu/'
      tabindex="-7">  C++游戏开发基础-深入解析复制构造函数</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-lei-mo-ban-he-can-shu-tui-dao-zhi-nan/'
      tabindex="-8">  C++游戏开发基础-类模版和参数推导指南</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/dockerbi-zhi-bi-hui/'
      tabindex="-9">  Docker必知必会</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/githithub-xiao-ce/'
      tabindex="-10">  GitGitHub小册</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/google-hacking/'
      tabindex="-11">  Google Hacking</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/googleguan-fang-ti-shi-gong-cheng-bai-pi-shu-zhong-wen-yi-ben/'
      tabindex="-12">  Google官方《提示工程白皮书（中文译本）》</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/idea-dai-ma-bu-quan-ti-shi-gong-neng-xiao-shi-de-ji-chong-jie-jue-fang-an-re-geng-ban/'
      tabindex="-13">  IDEA代码补全&amp;提示功能消失的几种解决方案(热更版)</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/idea-chen-jin-shi-bian-cheng-ti-yan/'
      tabindex="-14">  IDEA沉浸式编程体验</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/java-han-shu-shi-bian-cheng/'
      tabindex="-15">  Java函数式编程</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/java-ji-he-yuan-ma-qian-xi/'
      tabindex="-16">  Java集合源码浅析</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/mysql-shi-wu-te-xing-yu-ge-chi-ji-bie-xiang-jie/'
      tabindex="-17">  MySQL_事务特性与隔离级别详解</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ocao-zuo-fu-shi-xian-mei-ju-de-shu-ru-shu-chu/'
      tabindex="-18">  O操作符,实现枚举的输入输出</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/prdsuan-fa-ting-shuo-ni-xiang-ping-yun-qi-chou-yi-ke-rong-yao-shui-jing/'
      tabindex="-19">  PRD算法：听说你想凭运气抽一颗荣耀水晶?</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/picgo-pei-zhi-ge-chong-tu-chuang/'
      tabindex="-20">  PicGo配置各种图床</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/redis-bi-zhi-bi-hui/'
      tabindex="-21">  Redis必知必会</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/rust-zhong-de-move-yu-yi-sui-bi/'
      tabindex="-22">  Rust中的move语义随笔</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ssm-kuang-jia-shi-xian-ji-cheng-duan-xin-yan-zheng-ma-gong-neng/'
      tabindex="-23">  SSM框架实现集成短信验证码功能</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/slf4jyu-logbackshi-yong-zhi-nan-ji-yu-gradle/'
      tabindex="-24">  Slf4j与Logback实用指南(基于Gradle)</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/spring-security5-xdao-spring-security6-xde-qian-yi/'
      tabindex="-25">  Spring Security5.x到Spring Security6.x的迁移</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/springboot-webkai-fa-jing-jie/'
      tabindex="-26">  SpringBoot Web开发精解</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/springsecurity/'
      tabindex="-27">  SpringSecurity</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/unity6xia-jia-zhong-guo-qu-tuan-jie-yin-qing-jie-bang-zhe-shi-fen-lie-huan-shi-ben-di-hua-de-kai-shi/'
      tabindex="-28">  Unity6下架中国区，团结引擎接棒：这是分裂，还是本地化的开始？</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/vim-cong-0-dao-1-da-zao-quan-yu-yan-zhi-chi-de-mo-neng-bian-ji-qi-yu-fa-pian/'
      tabindex="-29">  Vim从0到1打造全语言支持的万能编辑器-语法篇</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/vim-tiao-tou-powershell-pian/'
      tabindex="-30">  Vim折腾之 PowerShell篇</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-di-zhi-chuan-di-xiang-jie/'
      tabindex="-31">  [C++游戏开发基础]:地址传递详解</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-yin-yong-fan-hui-he-di-zhi-fan-hui/'
      tabindex="-32">  [C++游戏开发基础]:引用返回和地址返回</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-zhi-zhen-he-const/'
      tabindex="-33">  [C++游戏开发基础]:指针和const</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-shu-ju-feng-zhuang-yin-cang-de-hao-chu/'
      tabindex="-34">  [C++游戏开发基础]:数据封装(隐藏)的好处</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-gou-zao-han-shu-qian-xi-8000zi/'
      tabindex="-35">  [C++游戏开发基础]:构造函数浅析(8000字)</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-li-jie-kong-zhi-zhen/'
      tabindex="-36">  [C++游戏开发基础]:理解空指针</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-lei-zhong-de-fang-wen-han-shu/'
      tabindex="-37">  [C++游戏开发基础]:类中的访问函数</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-zhi-zhen-de-ji-ben-gai-nian-li-jie/'
      tabindex="-38">  [C++游戏开发基础]指针的基本概念理解</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/fanatical-wu-yue-feng-kuang-te-hui-wei-ni-de-steam-ku-jia-dian-liao/'
      tabindex="-39">  _Fanatical 五月疯狂特惠：为你的 Steam 库加点料！</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/rust-kai-yuan-mi-ma-gong-ju-xpwd-zhong-wen-ban-bian-geng-ri-zhi/'
      tabindex="-40">  _Rust开源密码工具xpwd中文版变更日志</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/readme/'
      tabindex="-41">  readme</a></span>
  </li><li class="file">
    <span><a class="selected"href='https://ilikexff.cn/wblog-bo-ke-xian-shang-bu-shu/'
      tabindex="-42">  wblog博客线上部署</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/shang-gu-shen-qi-vim-su-cheng-bei-wang-lu/'
      tabindex="-43">  上古神器_Vim速成备忘录</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/mian-fei-ji-huo-quan-ban-ben-typora-zui-xin-ban-wei-li/'
      tabindex="-44">  免费激活全版本Typora，最新版为例</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/guan-yu-lombokxian-wei-ren-zhi-de-ji-ge-qi-ji-yin-qiao/'
      tabindex="-45">  关于Lombok鲜为人知的几个奇技淫巧</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/guan-yu-jie-kou-xian-liu-de-yi-ci-jian-dan-shi-jian/'
      tabindex="-46">  关于接口限流的一次简单实践</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/tu-jie-er-jin-zhi/'
      tabindex="-47">  图解二进制</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ru-he-xie-de-yi-shou-you-ya-gui-fan-de-springboot-jie-kou/'
      tabindex="-48">  如何写得一手优雅规范的SpringBoot 接口？</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/kai-fa-bi-hui-xi-lie-jwtqian-tan/'
      tabindex="-49">  开发必会系列_JWT浅谈</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ji-qiao-jiu-shi-xiao-lu-chatgpt-diao-jiao-zhi-bei/'
      tabindex="-50">  技巧就是效率，ChatGPT调教指北</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ti-sheng-intellij-kai-fa-xiao-lu-zhe-kuan-dai-ma-tu-ding-cha-jian-codepins-zhi-de-yi-shi/'
      tabindex="-51">  提升 IntelliJ 开发效率？这款代码图钉插件 CodePins 值得一试</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ti-wen-de-zhi-hui-zhuan-zai/'
      tabindex="-52">  提问的智慧转载</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/xiao-lu-gong-ju-markdown/'
      tabindex="-53">  效率工具Markdown</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/wu-wei-bing-fa-rust-sheng-ming-zhou-qi-qian-tan/'
      tabindex="-54">  无畏并发_Rust 生命周期浅谈</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/you-xi-kai-fa-yu-de-bei-sai-er-qu-xian-gan-shou-si-hua-de-shu-xue-zhi-mei/'
      tabindex="-55">  游戏开发与的贝塞尔曲线_感受丝滑的数学之美</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/you-xi-kai-fa-bi-bei-gao-xiao-de-aabb-qiu-ti-he-obb-peng-zhuang-jian-ce-suan-fa/'
      tabindex="-56">  游戏开发必备：高效的 AABB、球体和 OBB 碰撞检测算法</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/you-xi-suan-fa-ji-chu-a-xun-lu-suan-fa-chi-xu-wei-hu/'
      tabindex="-57">  游戏算法基础-深入解析A*寻路算法</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/du-li-you-xi-kai-fa-zhe-gong-ju-xiang-2025jing-xuan-tui-jian-yu-shi-yong-zhi-nan/'
      tabindex="-58">  独立游戏开发者工具箱：2025精选推荐与实用指南</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/xu-huan-yin-qing-you-xi-kai-fa-xi-lie-zhuan-ti-guan-fang-bian-ma-biao-zhun-huo-gui-yue/'
      tabindex="-59">  虚幻引擎游戏开发系列专题-官方编码标准或规约</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/xiang-jie-she-ji-mo-shi-dan-li-de-jin-hua-zhi-lu/'
      tabindex="-60">  详解设计模式_单例的进化之路</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/xie-e-de-fei-chang-liang-quan-ju-bian-liang/'
      tabindex="-61">  邪恶的非常量全局变量</a></span>
  </li>
</ul>
</div>
      <div class="viewer page" id="viewer" tabindex="0">
        <div class="tab">
<div class="file-manager" onclick='document.getElementById("files").classList.toggle("open"); document.getElementById("content").classList.toggle("close")'> </div>
<ul id="tabs">
</ul>


</div>
        <div class="content" id="content"><h1 id="springbootbo-ke-bu-shu">SpringBoot博客部署</h1>
<h2 id="huan-jing-zhun-bei">环境准备</h2>
<h3 id="bo-ke-xiang-mu-di-zhi">博客项目地址</h3>
<p><a class="" href="https://github.com/xiaoyivip/wblog">wblog</a></p>
<hr />
<h3 id="an-zhuang-jdk">安装JDK</h3>
<blockquote>
<p><strong>JDK8以上就行，但建议使用JDK11，下面以JDK11为例。</strong></p>
</blockquote>
<ul>
<li><strong>下载安装</strong></li>
</ul>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>apt-get install openjdk-11-jdk
</span></code></pre>
<ul>
<li><strong>配置环境变量</strong></li>
</ul>
<blockquote>
<p><strong>打开source /etc/profile，添加如下内容</strong></p>
</blockquote>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64
</span><span>export JRE_HOME=${JAVA_HOME}/jre
</span><span>export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib
</span><span>export PATH=${JAVA_HOME}/bin:$PATH
</span></code></pre>
<ul>
<li><strong>查看版本</strong></li>
</ul>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>java -version
</span></code></pre>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-3602254078247600542-9c357ab0.png" alt="image-20220803211815252" loading="lazy" decoding="async" /></p>
<hr />
<h3 id="">安装MySQL</h3>
<blockquote>
<p><strong>安装MySQL5.7docker版本。</strong></p>
</blockquote>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>#安装docker
</span><span>apt install docker.io
</span><span># 安装mysql
</span><span>docker pull mysql:5.7
</span></code></pre>
<blockquote>
<p><strong>服务器安全组中务必放行3307端口，用来远程连接数据库。</strong></p>
</blockquote>
<ul>
<li><strong>启动mysql</strong></li>
</ul>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>sudo docker run -p 3307:3306 --name mysql \
</span><span>-v /mydata/mysql/log:/var/log/mysql \
</span><span>-v /mydata/mysql/data:/var/lib/mysql \
</span><span>-v /mydata/mysql/conf:/etc/mysql/conf.d \
</span><span>-e MYSQL_ROOT_PASSWORD=root \
</span><span>-d mysql:5.7
</span></code></pre>
<blockquote>
<p><strong>3307:3306做了映射，所以外部访问3307即可。当然你自己可以定义用哪些端口号。</strong></p>
</blockquote>
<ul>
<li><strong>查看运行状态</strong></li>
</ul>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>docker ps
</span></code></pre>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-9167600971788706633-a3ea3958.png" alt="image-20220803215758185" loading="lazy" decoding="async" /></p>
<ul>
<li><strong>查看日志</strong></li>
</ul>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>docker logs mysql
</span></code></pre>
<ul>
<li><strong>其他</strong></li>
</ul>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span># 停止服务
</span><span>docker stop mysql
</span><span># 删除镜像
</span><span>docker rm mysql
</span><span># 重启docker
</span><span>systemctl restart docker
</span><span># 开启开机自启
</span><span>systemctl enable docker
</span></code></pre>
<blockquote>
<p><strong>还有很多关于docker的操作，就自己去补课了。</strong></p>
</blockquote>
<ul>
<li><strong>导入数据库</strong></li>
</ul>
<blockquote>
<p><strong>我这里用的navcat远程客户端操作。</strong></p>
</blockquote>
<hr />
<h3 id="-1">打jar包</h3>
<p><strong>使用IDEA打开项目，配置好数据库信息。安装下图操作，生成一个jar包。</strong></p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-3072198618708967127-79399790.png" alt="image-20220803222349511" loading="lazy" decoding="async" /></p>
<p><strong>等待打包完成。</strong></p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-17224273844050347074-c8fca056.png" alt="image-20220803222535253" loading="lazy" decoding="async" /></p>
<hr />
<h3 id="-2">部署</h3>
<p><strong>在服务器上创建一个目录，用来存放项目的目录。</strong></p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span># 创建目录
</span><span>mkdir -p /root/user/wblog
</span></code></pre>
<ul>
<li><strong>上传刚刚打好的jar包到/wblog目录下。</strong></li>
</ul>
<blockquote>
<p><strong>上传的方法很多，可以用scp命令，也可以用其他ssh客户端，比如xshell，finalshell等。</strong></p>
</blockquote>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-17730941740274466687-1cd570c4.png" alt="image-20220803223110362" loading="lazy" decoding="async" /></p>
<ul>
<li><strong>执行命令，运行jar包。</strong></li>
</ul>
<blockquote>
<p><strong>该命令也是需要切换到wblog目录下执行的。</strong></p>
</blockquote>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>nohup java -jar jarname.jar &amp;
</span></code></pre>
<blockquote>
<p><strong>jarname.jar指的就是刚刚上传到目录下的jar包，一定要带.jar后最的全称。</strong></p>
</blockquote>
<p><strong>按回车执行之后会出现下面的结果</strong></p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-1125235331687397903-9ab47699.png" alt="image-20220805094045051" loading="lazy" decoding="async" /></p>
<blockquote>
<p><strong>当然了，我这个只是演示，没有在指定的目录下，这就表示jar包已经成功跑起来了，如何查看目前正在运行的java服务呢？</strong></p>
</blockquote>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>ps -ef | grep java
</span></code></pre>
<p><strong>当然，方法并不唯一。</strong></p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-15287188662961552216-05c913bd.png" alt="image-20220805094334324" loading="lazy" decoding="async" /></p>
<blockquote>
<p><strong>查看的结果如上图，箭头所指的就是改服务的PID，后期如果需要，我们可以通过</strong> <code>kill</code>命令将该进程杀死，再重新运行新的java进程。</p>
</blockquote>
<p><strong>上面的步骤走完，不出意外的话，我们打开浏览器，输入服务器的IP访问8080端口就可以正常访问博客网站了。</strong></p>
<p><img src="https://images.waer.ltd/img/image-20220805094708232.png" alt="image-20220805094708232" loading="lazy" decoding="async" /></p>
<hr />
<h3 id="-3">域名访问配置</h3>
<blockquote>
<p><strong>在开始之前，默认你已经买了属于自己的域名并且完成备案(非大陆服务器忽略)工作，否则是没办法继续这一步的，网站会被拦截。</strong></p>
</blockquote>
<p><strong>说到服务器、域名，国内有很多不错的供应商，比如什么阿里云、百度云、腾讯云、华为云等等，还有一些小的云服务提供商我自己也都用过，但是最后还是回到了阿里云，首先是靠谱，其次价格也厚道，当然了，如果你是新人，还有很多的优惠可以拿这里不打广告，只作个人推荐，我下面也是以阿里云的域名配置为例。</strong></p>
<p><strong>进入阿里云控制台，找到域名DNS解析。</strong></p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-17026155254490032888-680a222f.png" alt="image-20220805095717699" loading="lazy" decoding="async" /></p>
<p><strong>如果没有域名，点击【添加域名】，之后等待解析，【DNS服务器状态】显示正常之后，点击域名进入域名解析详情：</strong></p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-3412956773532835750-68e8a908.png" alt="image-20220805095853201" loading="lazy" decoding="async" /></p>
<p><strong>点击【添加记录】我们添加两个A记录即可，具体如下：</strong></p>
<p><img src="https://images.waer.ltd/img/image-20220805100835296.png" alt="image-20220805100835296" loading="lazy" decoding="async" /></p>
<blockquote>
<p><strong>注意，【主机记录】的对方每次只能添加一种记录，所以需要执行两次【添加记录】的操作，分别是www和@。</strong></p>
</blockquote>
<p><strong>www记录的意思就是解析以www开头的记录，映射到对应的IP地址上，而@表示直接解析域名。举个例子：</strong></p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>www.ilikexff.xyz
</span><span>ilikexff.xyz
</span></code></pre>
<blockquote>
<p><strong>上面的两个域名都可以被正常解析访问。</strong></p>
</blockquote>
<p><strong>配置完域名解析之后，我们就可以通过域名进行访问了，方法就是直接将之前的IP地址部分替换为刚刚解析的域名，但是8080端口号不能少，否则是不能正常访问的哈，这是因为我们访问是服务器默认访问的80端口，而我们项目用的端口是8080，所以这里要将端口进行转发，将8080端口转发到域名，使得直接访问域名即可访问到对应的网站，而不再需要输入端口号。这也就是下一步</strong>反向代理技术。</p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-11604968184632008855-1176ff2f.png" alt="image-20220805101248762" loading="lazy" decoding="async" /></p>
<hr />
<h3 id="-4">反向代理</h3>
<blockquote>
<p><strong>反向代理我们用的是nginx服务。</strong></p>
</blockquote>
<ul>
<li><strong>安装nginx.</strong></li>
</ul>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>apt install nginx -y
</span></code></pre>
<ul>
<li><strong>配置nginx</strong></li>
</ul>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span># 切换到nginx的配置目录，创建一个针对博客的配置文件
</span><span>cd /etc/nginx/conf.d/
</span><span># 创建blog.conf配置文件
</span><span>touch blog.conf
</span></code></pre>
<ul>
<li><strong>配置内容</strong></li>
</ul>
<blockquote>
<p><strong>由于我们是对每一个服务采用独立的配置文件，所以不需要在原生的nginx.conf中作配置，只需要独立的配置</strong> <code>blog.conf</code>即可，因为在源配置文件中有这样一句：</p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-8906456079742622821-7ae4393b.png" alt="image-20220805102226124" loading="lazy" decoding="async" /></p>
<p><strong>这就表示改配置文件会把在/etc/nginx/conf.d/目录下的所有以.conf结尾的文件都自动的包含进来进行加载使用。</strong></p>
</blockquote>
<p>在blog.conf中添加下面的内容：</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>server {
</span><span>    listen       80;
</span><span>    server_name  www.ilikexff.xyz ilikexff.xyz;
</span><span>    location / {
</span><span>        proxy_pass   http://103.133.176.214:8080;
</span><span>        index  index.html index.htm;
</span><span>        proxy_set_header Host $host;
</span><span>        proxy_set_header X-Real-Ip $remote_addr;
</span><span>        proxy_set_header X-Forwarded-For $remote_addr;
</span><span>    }
</span><span>    access_log /logs/ilikexff.xyz.access.log;
</span><span>}
</span></code></pre>
<p><strong>作为使用教程，我们只需要大致了解下面几点即可：</strong></p>
<blockquote>
<ul>
<li><strong>listen       : 监听80端口，也就是我们上面提到的默认访问端口</strong></li>
<li><strong>server_name:服务名，这里指的就是需要将服务转发到哪些地址，比如前面配好的两个域名。</strong></li>
<li><strong>proxy_pass : 反向代理的地址，也就是使用IP访问时候的地址，他会将该地址直接转发到配置好的域名下，达到访问域名即可访问站点的效果。</strong></li>
<li><strong>access_log：日志记录文件。</strong></li>
</ul>
</blockquote>
<p><strong>关于nginx，作为一篇搭建教程来说，上面的东西足够了，但是作为一门技术来说，上面的东西又只是皮毛，所以想要了解更多的内容还是得自己去学。</strong></p>
<p>到此为止，反向代理部分就结束了，重启nginx服务之后，在浏览器输入:</p>
<blockquote>
<p><a href="https://ilikexff.cn/wblog-bo-ke-xian-shang-bu-shu/www.ilikexff.xyz">www.ilikexff.xyz</a></p>
<p><strong>ilikexff.xyz</strong></p>
</blockquote>
<p><strong>两个域名之一都可以正常访问站点了，无需再追加8080端口。</strong></p>
<p><strong>下面给几个关于nginx得常用命令：</strong></p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span># 启动
</span><span>systemctl start nginx
</span><span># 停止
</span><span>systemctl stop nginx
</span><span># 重启
</span><span>systemctl reload nginx
</span><span># 状态查看
</span><span>systemctl status nginx
</span></code></pre>
<hr />
<h3 id="-5">https加密访问</h3>
<p><strong>经过上面反向代理步骤，我们已经可以通过域名访问博客了</strong></p>
<p><img src="https://images.waer.ltd/img/image-20220805105436017.png" alt="image-20220805105436017" loading="lazy" decoding="async" /></p>
<p><strong>但是如上显示，访问得时候浏览器会提示网站不安全，即我们还是通过普通得http协议进行访问，这是一种很不安全的协议，任何中间人都可以通过技术手段对网站收发的数据进行拦截，尽管说作为普通的博客站点，我们也许没有如支付，转账等敏感的操作，但是安全起见，我们需要使用到另外一种协议，HTTPS(HTTP+SSL)，就目前而言，这是一种足够安全的协议，具体为什么安全，这是个话题，请自行了解。</strong></p>
<p><strong>(很多博客都有友链功能，很多朋友的博客对友链的要求都需要是https安全访问的，所以这一步必不可少)</strong></p>
<ul>
<li><strong>申请SSL证书</strong></li>
</ul>
<blockquote>
<p><strong>同样以阿里云为例：</strong></p>
</blockquote>
<p><a class="" href="https://yundun.console.aliyun.com/?p=cas#/certExtend/free">证书申请</a></p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-17953626554636537916-8fd9aa86.png" alt="image-20220731200753336" loading="lazy" decoding="async" /></p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-13168835631517441019-fc7d82c5.png" alt="image-20220731200851618" loading="lazy" decoding="async" /></p>
<p><strong>下载证书之后，在</strong> <code>etc/nginx/</code>新建一个 <code>cert</code>文件夹，把证书中两个后缀名为.pem和.key的文件重命名为 <code>sslconfigure.pem</code>和 <code>sslconfigure.key</code>，并放到cert目录下，方便管理。</p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-6041888645467205060-f74966d8.png" alt="image-20220805111607151" loading="lazy" decoding="async" /></p>
<p><strong>在之前的</strong> <code>blog.conf</code>配置文件中新增如下内容：</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>upstream backend {
</span><span>    server localhost:8080; # Solo 监听端口
</span><span>}
</span><span># 这里存放之前的内容部分
</span><span>server {
</span><span>        listen 443 ssl;  # 1.1版本后这样写
</span><span>        server_name www.iliexff.xyz; #填写绑定证书的域名
</span><span>       
</span><span>        ssl_certificate &quot;/etc/nginx/cert/sslconfigure.pem&quot;;
</span><span>        ssl_certificate_key &quot;/etc/nginx/cert/sslconfigure.key&quot;;
</span><span>        ssl_session_timeout 5m;
</span><span>        ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #按照这个协议配置
</span><span>        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;#按照这个套件配置
</span><span>        ssl_prefer_server_ciphers on;
</span><span>      location / {
</span><span>            proxy_pass http://backend$request_uri;
</span><span>            proxy_set_header Host $host:$server_port;
</span><span>            proxy_set_header X-Real-IP  $remote_addr;
</span><span>            proxy_set_header http_x_forwarded_for $remote_addr;
</span><span>            client_max_body_size 10m;
</span><span> root   html; #站点目录，绝对路径
</span><span>            index  index.html index.htm;
</span><span>        }
</span><span>    }
</span></code></pre>
<p><strong>重启nginx</strong></p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>systemctl reload nginx
</span></code></pre>
<p><strong>再次访问博客</strong></p>
<p><img src="https://b3logfile.com/file/2022/08/solo-fetchupload-14611797948156626831-254ae22e.png" alt="image-20220805112253826" loading="lazy" decoding="async" /></p>
<p><strong>哇哦！这不就成功了吗？so easy to happy!</strong></p>
<p><strong>全剧终，附上我的博客地址，欢迎成功走到这一步的小伙伴来换个友链哈！</strong></p>

        </div>
      </div>
      <div class="prompt" id="terminal"><input
    type="text"
    id="setter"
    onkeydown="writeit(this, event);moveIt(this.value.length, event)"
    onchange="writeit(this, event)"
    onkeyup="writeit(this, event)"
    onkeypress="writeit(this, event);"
    >
<label for="setter" id="writer"> </label><b class="cursor" id="cursor"></b></div>
      <footer class="footer">
        <div class="footer-content">
          <p class="icp-info">
            <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer">黔ICP备2021010295号</a>
          </p>
        </div>
      </footer>
    </main>
  </body>

</html>
