/* ========================================
   Telegram 风格主题 - 慕予博客
   ======================================== */

/* CSS 变量定义 - Telegram 色彩系统 */
:root {
    /* Telegram 主色调 */
    --tg-primary: #0088cc;
    --tg-primary-dark: #0066aa;
    --tg-primary-light: #339bd4;
    --tg-primary-lighter: #e3f2fd;

    /* 背景色 - 统一的白色系统 */
    --tg-bg-primary: #ffffff;
    --tg-bg-secondary: #fafafa;
    --tg-bg-tertiary: #f5f5f5;
    --tg-bg-header: #ffffff;
    --tg-bg-footer: #ffffff;

    /* 文字色 */
    --tg-text-primary: #212121;
    --tg-text-secondary: #757575;
    --tg-text-tertiary: #9e9e9e;
    --tg-text-light: #ffffff;

    /* 边框色 */
    --tg-border: #e0e0e0;
    --tg-border-light: #f0f0f0;
    --tg-divider: #eeeeee;

    /* 阴影 - 更柔和 */
    --tg-shadow-light: 0 1px 3px rgba(0, 0, 0, 0.08);
    --tg-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    --tg-shadow-hover: 0 4px 12px rgba(0, 0, 0, 0.15);

    /* 圆角 */
    --tg-radius: 12px;
    --tg-radius-small: 6px;
    --tg-radius-large: 18px;
}

/* 全局样式重置 - 消除所有渐变和不协调元素 */
* {
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif !important;
    background: var(--tg-bg-secondary) !important;
    background-image: none !important;
    background-attachment: fixed !important;
    color: var(--tg-text-primary) !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* 消除所有默认渐变 */
.hero, .hero-body, .navbar, .footer, .section {
    background: none !important;
    background-image: none !important;
    background-gradient: none !important;
}

/* Telegram 风格代码块 */
pre {
    overflow-x: auto !important;
    white-space: pre !important;
    word-wrap: normal !important;
    max-width: 100% !important;
    padding: 16px !important;
    border-radius: var(--tg-radius) !important;
    background-color: var(--tg-bg-tertiary) !important;
    border: 1px solid var(--tg-border) !important;
    box-shadow: var(--tg-shadow) !important;
    margin: 16px 0 !important;
    font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace !important;
}

pre code {
    white-space: pre !important;
    word-break: normal !important;
    overflow-wrap: normal !important;
    display: block !important;
    padding: 0 !important;
    background: transparent !important;
    border: none !important;
    color: var(--tg-text-primary) !important;
}

/* Telegram 风格行内代码 */
code {
    padding: 4px 8px !important;
    margin: 0 2px !important;
    font-size: 0.9em !important;
    background-color: var(--tg-bg-tertiary) !important;
    border-radius: var(--tg-radius-small) !important;
    font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace !important;
    color: var(--tg-text-primary) !important;
    border: 1px solid var(--tg-border-light) !important;
}

/* ========================================
   容器和布局 - 统一协调设计
   ======================================== */

/* 主容器 */
.container {
    max-width: 1200px !important;
    margin: 0 auto !important;
    padding: 0 20px !important;
    background: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
}

/* 主要内容区域 */
.content, .main-content, main, .section {
    background: var(--tg-bg-primary) !important;
    background-image: none !important;
    padding: 32px !important;
    margin: 24px 0 !important;
    border-radius: var(--tg-radius-large) !important;
    box-shadow: var(--tg-shadow) !important;
    border: 1px solid var(--tg-border-light) !important;
}

/* ========================================
   Header 和导航 - 协调的白色设计
   ======================================== */

/* 头部容器 */
header, .navbar, .header {
    background: var(--tg-bg-header) !important;
    background-image: none !important;
    border-bottom: 1px solid var(--tg-divider) !important;
    padding: 20px 0 !important;
    margin: 0 !important;
    box-shadow: var(--tg-shadow-light) !important;
    border-radius: 0 !important;
}

/* 导航链接 */
header a, .navbar a, .nav-link {
    color: var(--tg-text-primary) !important;
    font-weight: 500 !important;
    text-decoration: none !important;
    padding: 8px 16px !important;
    border-radius: var(--tg-radius-small) !important;
    transition: all 0.2s ease !important;
    margin: 0 4px !important;
}

header a:hover, .navbar a:hover, .nav-link:hover {
    background-color: var(--tg-primary-lighter) !important;
    color: var(--tg-primary) !important;
    transform: none !important;
}

/* 网站标题 */
.site-title, .navbar-brand, h1.title {
    color: var(--tg-primary) !important;
    font-weight: 600 !important;
    font-size: 1.5rem !important;
    margin: 0 !important;
}

/* 菜单按钮 */
.navbar-burger, .menu-toggle {
    color: var(--tg-text-primary) !important;
    border: 1px solid var(--tg-border) !important;
    background: var(--tg-bg-primary) !important;
    border-radius: var(--tg-radius-small) !important;
}

/* 文章卡片 - 消息气泡风格 */
article, .post {
    background-color: var(--tg-bg-primary) !important;
    border-radius: var(--tg-radius-large) !important;
    padding: 20px 24px !important;
    margin: 16px 0 !important;
    box-shadow: var(--tg-shadow) !important;
    border: 1px solid var(--tg-border) !important;
    transition: all 0.3s ease !important;
}

article:hover, .post:hover {
    box-shadow: var(--tg-shadow-hover) !important;
    transform: translateY(-2px) !important;
}

/* 标题样式 */
h1, h2, h3 {
    color: var(--tg-primary) !important;
    font-weight: 600 !important;
    margin-bottom: 16px !important;
}

/* 按钮 */
.btn, button {
    background-color: var(--tg-primary) !important;
    color: white !important;
    border: none !important;
    border-radius: var(--tg-radius) !important;
    padding: 12px 20px !important;
    transition: all 0.2s ease !important;
}

/* ========================================
   侧边栏 - Telegram 风格美化
   ======================================== */

.sidebar, .sidebar-content {
    background: var(--tg-bg-primary) !important;
    background-image: none !important;
    border-radius: var(--tg-radius-large) !important;
    padding: 0 !important;
    margin: 24px 0 !important;
    box-shadow: var(--tg-shadow) !important;
    border: 1px solid var(--tg-border-light) !important;
    overflow: hidden !important;
}

/* 侧边栏内的每个模块 */
.sidebar > div, .sidebar-content > div {
    background: var(--tg-bg-primary) !important;
    padding: 24px !important;
    margin: 0 !important;
    border-bottom: 1px solid var(--tg-border-light) !important;
}

.sidebar > div:last-child, .sidebar-content > div:last-child {
    border-bottom: none !important;
}

/* 侧边栏标题 */
.sidebar h4, .sidebar h3, .sidebar h2 {
    color: var(--tg-primary) !important;
    font-weight: 600 !important;
    margin: 0 0 16px 0 !important;
    font-size: 1.2rem !important;
    padding-bottom: 8px !important;
    border-bottom: 2px solid var(--tg-primary-lighter) !important;
}

/* 作者信息卡片 */
.author-bio, .author-card {
    text-align: center !important;
    background: var(--tg-bg-primary) !important;
}

/* 头像样式 */
.author-avatar, .avatar {
    width: 80px !important;
    height: 80px !important;
    border-radius: 50% !important;
    margin: 0 auto 16px auto !important;
    display: block !important;
    border: 3px solid var(--tg-primary-lighter) !important;
    box-shadow: var(--tg-shadow-light) !important;
}

/* 作者名字 */
.author-name {
    font-size: 1.3rem !important;
    font-weight: 600 !important;
    color: var(--tg-text-primary) !important;
    margin: 0 0 8px 0 !important;
}

/* 作者描述 */
.author-description, .author-bio p {
    color: var(--tg-text-secondary) !important;
    font-size: 0.95rem !important;
    line-height: 1.5 !important;
    margin: 0 !important;
}

/* RSS Feed 按钮美化 */
.sidebar .btn, .sidebar a.btn {
    background: var(--tg-primary) !important;
    background-image: none !important;
    color: var(--tg-text-light) !important;
    border: none !important;
    border-radius: var(--tg-radius) !important;
    padding: 12px 20px !important;
    font-weight: 500 !important;
    text-decoration: none !important;
    display: inline-block !important;
    transition: all 0.2s ease !important;
    box-shadow: var(--tg-shadow-light) !important;
    margin: 8px 0 !important;
}

.sidebar .btn:hover, .sidebar a.btn:hover {
    background: var(--tg-primary-dark) !important;
    transform: translateY(-1px) !important;
    box-shadow: var(--tg-shadow) !important;
}

/* 侧边栏文本内容 */
.sidebar p, .sidebar-content p {
    color: var(--tg-text-primary) !important;
    line-height: 1.6 !important;
    margin-bottom: 16px !important;
    font-size: 0.95rem !important;
}

/* 侧边栏链接 */
.sidebar a:not(.btn), .sidebar-content a:not(.btn) {
    color: var(--tg-primary) !important;
    text-decoration: none !important;
    transition: all 0.2s ease !important;
}

.sidebar a:not(.btn):hover, .sidebar-content a:not(.btn):hover {
    color: var(--tg-primary-dark) !important;
    text-decoration: underline !important;
}

/* 侧边栏列表 */
.sidebar ul, .sidebar ol {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

.sidebar li {
    padding: 8px 0 !important;
    border-bottom: 1px solid var(--tg-border-light) !important;
}

.sidebar li:last-child {
    border-bottom: none !important;
}

/* 欢迎文本特殊样式 */
.text-snippet, .welcome-text {
    background: var(--tg-primary-lighter) !important;
    border-left: 4px solid var(--tg-primary) !important;
    padding: 16px 20px !important;
    margin: 16px 0 !important;
    border-radius: 0 var(--tg-radius) var(--tg-radius) 0 !important;
    font-style: italic !important;
}

.text-snippet strong, .welcome-text strong {
    color: var(--tg-primary) !important;
    font-weight: 600 !important;
}

/* 标签云 - Telegram 风格 */
.tag, .category {
    display: inline-block !important;
    background-color: var(--tg-bg-tertiary) !important;
    color: var(--tg-text-primary) !important;
    padding: 6px 12px !important;
    margin: 4px !important;
    border-radius: var(--tg-radius) !important;
    text-decoration: none !important;
    font-size: 0.9rem !important;
    transition: all 0.2s ease !important;
    border: 1px solid var(--tg-border) !important;
}

.tag:hover, .category:hover {
    background-color: var(--tg-primary-light) !important;
    color: white !important;
    transform: translateY(-1px) !important;
}

/* 分页 - Telegram 风格 */
.pagination {
    display: flex !important;
    justify-content: center !important;
    margin: 24px 0 !important;
}

.pagination a, .pagination span {
    background-color: var(--tg-bg-primary) !important;
    color: var(--tg-primary) !important;
    padding: 10px 16px !important;
    margin: 0 4px !important;
    border-radius: var(--tg-radius) !important;
    text-decoration: none !important;
    border: 1px solid var(--tg-border) !important;
    transition: all 0.2s ease !important;
}

.pagination a:hover {
    background-color: var(--tg-primary) !important;
    color: white !important;
}

/* ========================================
   Footer - 协调的设计
   ======================================== */

footer, .footer {
    background: var(--tg-bg-footer) !important;
    background-image: none !important;
    color: var(--tg-text-secondary) !important;
    text-align: center !important;
    padding: 32px 20px !important;
    margin-top: 40px !important;
    border-top: 1px solid var(--tg-divider) !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    font-size: 0.9rem !important;
}

footer a, .footer a {
    color: var(--tg-primary) !important;
    text-decoration: none !important;
}

footer a:hover, .footer a:hover {
    color: var(--tg-primary-dark) !important;
    text-decoration: underline !important;
}

/* 引用块 - Telegram 消息引用风格 */
blockquote {
    background-color: var(--tg-bg-secondary) !important;
    border-left: 4px solid var(--tg-primary) !important;
    padding: 16px 20px !important;
    margin: 16px 0 !important;
    border-radius: 0 var(--tg-radius) var(--tg-radius) 0 !important;
    color: var(--tg-text-secondary) !important;
    font-style: italic !important;
}

/* 表格 - Telegram 风格 */
table {
    width: 100% !important;
    border-collapse: collapse !important;
    margin: 16px 0 !important;
    background-color: var(--tg-bg-primary) !important;
    border-radius: var(--tg-radius) !important;
    overflow: hidden !important;
    box-shadow: var(--tg-shadow) !important;
}

th, td {
    padding: 12px 16px !important;
    text-align: left !important;
    border-bottom: 1px solid var(--tg-border) !important;
}

th {
    background-color: var(--tg-bg-secondary) !important;
    font-weight: 600 !important;
    color: var(--tg-text-primary) !important;
}

/* ========================================
   消除所有不协调元素
   ======================================== */

/* 强制移除所有渐变和背景图 */
.hero, .hero-body, .section, .navbar, .footer,
.card, .box, .notification, .message {
    background: var(--tg-bg-primary) !important;
    background-image: none !important;
    background-gradient: none !important;
    background-attachment: scroll !important;
}

/* 统一所有卡片样式 */
.card, .box, .panel {
    background: var(--tg-bg-primary) !important;
    border: 1px solid var(--tg-border-light) !important;
    border-radius: var(--tg-radius-large) !important;
    box-shadow: var(--tg-shadow) !important;
    padding: 24px !important;
    margin: 16px 0 !important;
}

/* 统一按钮样式 - 确保按钮内文字居中 */
.button, .btn, input[type="submit"], input[type="button"] {
    background: var(--tg-primary) !important;
    background-image: none !important;
    color: var(--tg-text-light) !important;
    border: none !important;
    border-radius: var(--tg-radius) !important;
    padding: 12px 24px !important;
    font-weight: 500 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    box-shadow: var(--tg-shadow-light) !important;
    text-align: center !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    vertical-align: middle !important;
    line-height: 1 !important;
}

.button:hover, .btn:hover, input[type="submit"]:hover, input[type="button"]:hover {
    background: var(--tg-primary-dark) !important;
    transform: translateY(-1px) !important;
    box-shadow: var(--tg-shadow) !important;
}

/* "阅读更多"按钮真正居中 - 针对主题特定结构 */
.read-more, .more-link, .continue-reading {
    display: inline-block !important;
    background: var(--tg-primary) !important;
    color: var(--tg-text-light) !important;
    padding: 10px 20px !important;
    border-radius: var(--tg-radius) !important;
    text-decoration: none !important;
    font-weight: 500 !important;
    transition: all 0.2s ease !important;
    margin: 0 auto !important;
}

/* 按钮移到右侧 */
.card-footer {
    text-align: right !important;
    padding: 20px !important;
}

.card-footer .columns {
    justify-content: flex-end !important;
    align-items: center !important;
}

.card-footer .column {
    display: flex !important;
    justify-content: flex-end !important;
    align-items: center !important;
    text-align: right !important;
    width: 100% !important;
}

.card-footer .column div {
    display: flex !important;
    justify-content: flex-end !important;
    align-items: center !important;
    text-align: right !important;
    width: 100% !important;
}

/* 强制所有"阅读更多"按钮居中 */
.read-more.btn, .btn.read-more, a.read-more {
    display: block !important;
    margin: 0 auto !important;
    text-align: center !important;
    width: fit-content !important;
}

/* 包含按钮的所有容器都右对齐 */
.card-footer .col-3, .card-footer .col-sm-5 {
    display: flex !important;
    justify-content: flex-end !important;
    align-items: center !important;
    text-align: right !important;
}

/* 修复"阅读更多"按钮内文字居中 */
a.btn.btn-sm.read-more, .read-more.btn {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    vertical-align: middle !important;
    line-height: 1 !important;
    padding: 10px 20px !important;
    min-height: 36px !important;
    box-sizing: border-box !important;
}

/* 确保按钮在文章容器最右侧 */
.card-footer .column[style*="flex"] {
    justify-content: flex-end !important;
    align-items: center !important;
}

.card-footer .column[style*="flex"] > div {
    display: flex !important;
    justify-content: flex-end !important;
    align-items: center !important;
    width: 100% !important;
}

/* 强制按钮移到最右边 */
.card-footer .columns {
    width: 100% !important;
}

.card-footer .column {
    flex: 1 !important;
}

/* 强制所有"阅读更多"相关链接样式统一且居中 */
a[href*="read"], a[href*="more"], .read-more-link,
.continue-link, .post-link, .entry-link {
    display: inline-block !important;
    background: var(--tg-primary) !important;
    color: var(--tg-text-light) !important;
    padding: 10px 20px !important;
    border-radius: var(--tg-radius) !important;
    text-decoration: none !important;
    font-weight: 500 !important;
    transition: all 0.2s ease !important;
    margin: 0 !important;
    vertical-align: middle !important;
}

a[href*="read"]:hover, a[href*="more"]:hover, .read-more-link:hover,
.continue-link:hover, .post-link:hover, .entry-link:hover {
    background: var(--tg-primary-dark) !important;
    transform: translateY(-1px) !important;
}

/* 确保包含"阅读更多"的段落居中 */
p:has(a[href*="read"]), p:has(a[href*="more"]),
.summary + p, .excerpt + p, .post-summary + p {
    text-align: center !important;
    margin: 16px 0 !important;
    padding: 0 !important;
}

/* 响应式设计 */
@media (max-width: 768px) {
    .container {
        padding: 0 16px !important;
    }

    .content, .main-content, main, .section {
        padding: 20px !important;
        margin: 16px 0 !important;
    }

    article, .post {
        padding: 16px !important;
        margin: 12px 0 !important;
    }

    header, .navbar {
        padding: 16px 0 !important;
    }

    footer, .footer {
        padding: 24px 16px !important;
    }
}
