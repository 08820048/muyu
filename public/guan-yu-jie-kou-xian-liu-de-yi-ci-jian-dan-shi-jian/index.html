<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>æ…•äºˆåšå®¢</title>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"
    integrity="sha256-WCzAhd2P6gRJF9Hv3oOOd+hFJi/QJbv+Azn4CGB8gfY=" crossorigin="anonymous" defer></script>
  <script src="/js/index.js" defer></script>
  <script src="/js/prompt.js" defer></script>
  <script src="/js/keyboard.js" defer></script>
  <script src="/js/tab.js" defer></script>
  <script src="/js/commands.js" defer></script>
  <script src="/js/config.js" defer></script><script src="/config.js"></script><link rel="stylesheet" href="/css/base.css"><link rel="stylesheet" href="style.css"><link rel="stylesheet" href="/css/page.css"></head><body onkeydown="exec(event)" style="background-image: url(&#x27;&#x2F;assets&#x2F;bg.jpg&#x27;); "><main>
      <div class="files" id="files" tabindex="0">
<ul>

  <li class="file">
    <span><a href='https://ilikexff.cn/8-kuan-rang-ni-kai-fa-qi-fei-de-intellijidea-cha-jian/'
      tabindex="-2">ï’¥  8æ¬¾è®©ä½ å¼€å‘èµ·é£çš„IntellijIDEAæ’ä»¶</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/aop-jie-mi-qie-mian-bian-cheng-de-zong-he-zhi-nan/'
      tabindex="-3">ï’¥  AOPæ­ç§˜ï¼šåˆ‡é¢ç¼–ç¨‹çš„ç»¼åˆæŒ‡å—</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-mei-ju-pian-yi-wu-fan-wei-mei-ju/'
      tabindex="-4">ï’¥  C++æ¸¸æˆå¼€å‘åŸºç¡€-æšä¸¾ç¯‡ä¸€ï¼šæ— èŒƒå›´æšä¸¾</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-std-optional/'
      tabindex="-5">ï’¥  C++æ¸¸æˆå¼€å‘åŸºç¡€-æ·±å…¥è§£æstd::optional</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-shen-ru-jie-xi-thiszhi-zhen-de-ying-yong-yu-ji-qiao/'
      tabindex="-6">ï’¥  C++æ¸¸æˆå¼€å‘åŸºç¡€-æ·±å…¥è§£æthisæŒ‡é’ˆçš„åº”ç”¨ä¸æŠ€å·§</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-fu-zhi-gou-zao-han-shu/'
      tabindex="-7">ï’¥  C++æ¸¸æˆå¼€å‘åŸºç¡€-æ·±å…¥è§£æå¤åˆ¶æ„é€ å‡½æ•°</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-lei-mo-ban-he-can-shu-tui-dao-zhi-nan/'
      tabindex="-8">ï’¥  C++æ¸¸æˆå¼€å‘åŸºç¡€-ç±»æ¨¡ç‰ˆå’Œå‚æ•°æ¨å¯¼æŒ‡å—</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/dockerbi-zhi-bi-hui/'
      tabindex="-9">ï’¥  Dockerå¿…çŸ¥å¿…ä¼š</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/githithub-xiao-ce/'
      tabindex="-10">ï’¥  GitGitHubå°å†Œ</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/google-hacking/'
      tabindex="-11">ï’¥  Google Hacking</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/googleguan-fang-ti-shi-gong-cheng-bai-pi-shu-zhong-wen-yi-ben/'
      tabindex="-12">ï’¥  Googleå®˜æ–¹ã€Šæç¤ºå·¥ç¨‹ç™½çš®ä¹¦ï¼ˆä¸­æ–‡è¯‘æœ¬ï¼‰ã€‹</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/idea-dai-ma-bu-quan-ti-shi-gong-neng-xiao-shi-de-ji-chong-jie-jue-fang-an-re-geng-ban/'
      tabindex="-13">ï’¥  IDEAä»£ç è¡¥å…¨&amp;æç¤ºåŠŸèƒ½æ¶ˆå¤±çš„å‡ ç§è§£å†³æ–¹æ¡ˆ(çƒ­æ›´ç‰ˆ)</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/idea-chen-jin-shi-bian-cheng-ti-yan/'
      tabindex="-14">ï’¥  IDEAæ²‰æµ¸å¼ç¼–ç¨‹ä½“éªŒ</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/java-han-shu-shi-bian-cheng/'
      tabindex="-15">ï’¥  Javaå‡½æ•°å¼ç¼–ç¨‹</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/java-ji-he-yuan-ma-qian-xi/'
      tabindex="-16">ï’¥  Javaé›†åˆæºç æµ…æ</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/mysql-shi-wu-te-xing-yu-ge-chi-ji-bie-xiang-jie/'
      tabindex="-17">ï’¥  MySQL_äº‹åŠ¡ç‰¹æ€§ä¸éš”ç¦»çº§åˆ«è¯¦è§£</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ocao-zuo-fu-shi-xian-mei-ju-de-shu-ru-shu-chu/'
      tabindex="-18">ï’¥  Oæ“ä½œç¬¦,å®ç°æšä¸¾çš„è¾“å…¥è¾“å‡º</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/prdsuan-fa-ting-shuo-ni-xiang-ping-yun-qi-chou-yi-ke-rong-yao-shui-jing/'
      tabindex="-19">ï’¥  PRDç®—æ³•ï¼šå¬è¯´ä½ æƒ³å‡­è¿æ°”æŠ½ä¸€é¢—è£è€€æ°´æ™¶?</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/picgo-pei-zhi-ge-chong-tu-chuang/'
      tabindex="-20">ï’¥  PicGoé…ç½®å„ç§å›¾åºŠ</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/redis-bi-zhi-bi-hui/'
      tabindex="-21">ï’¥  Rediså¿…çŸ¥å¿…ä¼š</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/rust-zhong-de-move-yu-yi-sui-bi/'
      tabindex="-22">ï’¥  Rustä¸­çš„moveè¯­ä¹‰éšç¬”</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ssm-kuang-jia-shi-xian-ji-cheng-duan-xin-yan-zheng-ma-gong-neng/'
      tabindex="-23">ï’¥  SSMæ¡†æ¶å®ç°é›†æˆçŸ­ä¿¡éªŒè¯ç åŠŸèƒ½</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/slf4jyu-logbackshi-yong-zhi-nan-ji-yu-gradle/'
      tabindex="-24">ï’¥  Slf4jä¸Logbackå®ç”¨æŒ‡å—(åŸºäºGradle)</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/spring-security5-xdao-spring-security6-xde-qian-yi/'
      tabindex="-25">ï’¥  Spring Security5.xåˆ°Spring Security6.xçš„è¿ç§»</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/springboot-webkai-fa-jing-jie/'
      tabindex="-26">ï’¥  SpringBoot Webå¼€å‘ç²¾è§£</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/springsecurity/'
      tabindex="-27">ï’¥  SpringSecurity</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/unity6xia-jia-zhong-guo-qu-tuan-jie-yin-qing-jie-bang-zhe-shi-fen-lie-huan-shi-ben-di-hua-de-kai-shi/'
      tabindex="-28">ï’¥  Unity6ä¸‹æ¶ä¸­å›½åŒºï¼Œå›¢ç»“å¼•æ“æ¥æ£’ï¼šè¿™æ˜¯åˆ†è£‚ï¼Œè¿˜æ˜¯æœ¬åœ°åŒ–çš„å¼€å§‹ï¼Ÿ</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/vim-cong-0-dao-1-da-zao-quan-yu-yan-zhi-chi-de-mo-neng-bian-ji-qi-yu-fa-pian/'
      tabindex="-29">ï’¥  Vimä»0åˆ°1æ‰“é€ å…¨è¯­è¨€æ”¯æŒçš„ä¸‡èƒ½ç¼–è¾‘å™¨-è¯­æ³•ç¯‡</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/vim-tiao-tou-powershell-pian/'
      tabindex="-30">ï’¥  VimæŠ˜è…¾ä¹‹ PowerShellç¯‡</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-di-zhi-chuan-di-xiang-jie/'
      tabindex="-31">ï’¥  [C++æ¸¸æˆå¼€å‘åŸºç¡€]:åœ°å€ä¼ é€’è¯¦è§£</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-yin-yong-fan-hui-he-di-zhi-fan-hui/'
      tabindex="-32">ï’¥  [C++æ¸¸æˆå¼€å‘åŸºç¡€]:å¼•ç”¨è¿”å›å’Œåœ°å€è¿”å›</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-zhi-zhen-he-const/'
      tabindex="-33">ï’¥  [C++æ¸¸æˆå¼€å‘åŸºç¡€]:æŒ‡é’ˆå’Œconst</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-shu-ju-feng-zhuang-yin-cang-de-hao-chu/'
      tabindex="-34">ï’¥  [C++æ¸¸æˆå¼€å‘åŸºç¡€]:æ•°æ®å°è£…(éšè—)çš„å¥½å¤„</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-gou-zao-han-shu-qian-xi-8000zi/'
      tabindex="-35">ï’¥  [C++æ¸¸æˆå¼€å‘åŸºç¡€]:æ„é€ å‡½æ•°æµ…æ(8000å­—)</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-li-jie-kong-zhi-zhen/'
      tabindex="-36">ï’¥  [C++æ¸¸æˆå¼€å‘åŸºç¡€]:ç†è§£ç©ºæŒ‡é’ˆ</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-lei-zhong-de-fang-wen-han-shu/'
      tabindex="-37">ï’¥  [C++æ¸¸æˆå¼€å‘åŸºç¡€]:ç±»ä¸­çš„è®¿é—®å‡½æ•°</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/c-you-xi-kai-fa-ji-chu-zhi-zhen-de-ji-ben-gai-nian-li-jie/'
      tabindex="-38">ï’¥  [C++æ¸¸æˆå¼€å‘åŸºç¡€]æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µç†è§£</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/fanatical-wu-yue-feng-kuang-te-hui-wei-ni-de-steam-ku-jia-dian-liao/'
      tabindex="-39">ï’¥  _Fanatical äº”æœˆç–¯ç‹‚ç‰¹æƒ ï¼šä¸ºä½ çš„ Steam åº“åŠ ç‚¹æ–™ï¼</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/rust-kai-yuan-mi-ma-gong-ju-xpwd-zhong-wen-ban-bian-geng-ri-zhi/'
      tabindex="-40">ï’¥  _Rustå¼€æºå¯†ç å·¥å…·xpwdä¸­æ–‡ç‰ˆå˜æ›´æ—¥å¿—</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/readme/'
      tabindex="-41">ï’¥  readme</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/wblog-bo-ke-xian-shang-bu-shu/'
      tabindex="-42">ï’¥  wblogåšå®¢çº¿ä¸Šéƒ¨ç½²</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/shang-gu-shen-qi-vim-su-cheng-bei-wang-lu/'
      tabindex="-43">ï’¥  ä¸Šå¤ç¥å™¨_Vimé€Ÿæˆå¤‡å¿˜å½•</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/mian-fei-ji-huo-quan-ban-ben-typora-zui-xin-ban-wei-li/'
      tabindex="-44">ï’¥  å…è´¹æ¿€æ´»å…¨ç‰ˆæœ¬Typoraï¼Œæœ€æ–°ç‰ˆä¸ºä¾‹</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/guan-yu-lombokxian-wei-ren-zhi-de-ji-ge-qi-ji-yin-qiao/'
      tabindex="-45">ï’¥  å…³äºLomboké²œä¸ºäººçŸ¥çš„å‡ ä¸ªå¥‡æŠ€æ·«å·§</a></span>
  </li><li class="file">
    <span><a class="selected"href='https://ilikexff.cn/guan-yu-jie-kou-xian-liu-de-yi-ci-jian-dan-shi-jian/'
      tabindex="-46">ï’¥  å…³äºæ¥å£é™æµçš„ä¸€æ¬¡ç®€å•å®è·µ</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/tu-jie-er-jin-zhi/'
      tabindex="-47">ï’¥  å›¾è§£äºŒè¿›åˆ¶</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ru-he-xie-de-yi-shou-you-ya-gui-fan-de-springboot-jie-kou/'
      tabindex="-48">ï’¥  å¦‚ä½•å†™å¾—ä¸€æ‰‹ä¼˜é›…è§„èŒƒçš„SpringBoot æ¥å£ï¼Ÿ</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/kai-fa-bi-hui-xi-lie-jwtqian-tan/'
      tabindex="-49">ï’¥  å¼€å‘å¿…ä¼šç³»åˆ—_JWTæµ…è°ˆ</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ji-qiao-jiu-shi-xiao-lu-chatgpt-diao-jiao-zhi-bei/'
      tabindex="-50">ï’¥  æŠ€å·§å°±æ˜¯æ•ˆç‡ï¼ŒChatGPTè°ƒæ•™æŒ‡åŒ—</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ti-sheng-intellij-kai-fa-xiao-lu-zhe-kuan-dai-ma-tu-ding-cha-jian-codepins-zhi-de-yi-shi/'
      tabindex="-51">ï’¥  æå‡ IntelliJ å¼€å‘æ•ˆç‡ï¼Ÿè¿™æ¬¾ä»£ç å›¾é’‰æ’ä»¶ CodePins å€¼å¾—ä¸€è¯•</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/ti-wen-de-zhi-hui-zhuan-zai/'
      tabindex="-52">ï’¥  æé—®çš„æ™ºæ…§è½¬è½½</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/xiao-lu-gong-ju-markdown/'
      tabindex="-53">ï’¥  æ•ˆç‡å·¥å…·Markdown</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/wu-wei-bing-fa-rust-sheng-ming-zhou-qi-qian-tan/'
      tabindex="-54">ï’¥  æ— ç•å¹¶å‘_Rust ç”Ÿå‘½å‘¨æœŸæµ…è°ˆ</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/you-xi-kai-fa-yu-de-bei-sai-er-qu-xian-gan-shou-si-hua-de-shu-xue-zhi-mei/'
      tabindex="-55">ï’¥  æ¸¸æˆå¼€å‘ä¸çš„è´å¡å°”æ›²çº¿_æ„Ÿå—ä¸æ»‘çš„æ•°å­¦ä¹‹ç¾</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/you-xi-kai-fa-bi-bei-gao-xiao-de-aabb-qiu-ti-he-obb-peng-zhuang-jian-ce-suan-fa/'
      tabindex="-56">ï’¥  æ¸¸æˆå¼€å‘å¿…å¤‡ï¼šé«˜æ•ˆçš„ AABBã€çƒä½“å’Œ OBB ç¢°æ’æ£€æµ‹ç®—æ³•</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/you-xi-suan-fa-ji-chu-a-xun-lu-suan-fa-chi-xu-wei-hu/'
      tabindex="-57">ï’¥  æ¸¸æˆç®—æ³•åŸºç¡€-æ·±å…¥è§£æA*å¯»è·¯ç®—æ³•</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/du-li-you-xi-kai-fa-zhe-gong-ju-xiang-2025jing-xuan-tui-jian-yu-shi-yong-zhi-nan/'
      tabindex="-58">ï’¥  ç‹¬ç«‹æ¸¸æˆå¼€å‘è€…å·¥å…·ç®±ï¼š2025ç²¾é€‰æ¨èä¸å®ç”¨æŒ‡å—</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/xu-huan-yin-qing-you-xi-kai-fa-xi-lie-zhuan-ti-guan-fang-bian-ma-biao-zhun-huo-gui-yue/'
      tabindex="-59">ï’¥  è™šå¹»å¼•æ“æ¸¸æˆå¼€å‘ç³»åˆ—ä¸“é¢˜-å®˜æ–¹ç¼–ç æ ‡å‡†æˆ–è§„çº¦</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/xiang-jie-she-ji-mo-shi-dan-li-de-jin-hua-zhi-lu/'
      tabindex="-60">ï’¥  è¯¦è§£è®¾è®¡æ¨¡å¼_å•ä¾‹çš„è¿›åŒ–ä¹‹è·¯</a></span>
  </li><li class="file">
    <span><a href='https://ilikexff.cn/xie-e-de-fei-chang-liang-quan-ju-bian-liang/'
      tabindex="-61">ï’¥  é‚ªæ¶çš„éå¸¸é‡å…¨å±€å˜é‡</a></span>
  </li>
</ul>
</div>
      <div class="viewer page" id="viewer" tabindex="0">
        <div class="tab">
<div class="file-manager" onclick='document.getElementById("files").classList.toggle("open"); document.getElementById("content").classList.toggle("close")'>ï„• </div>
<ul id="tabs">
</ul>


</div>
        <div class="content" id="content"><h2 id="1-xie-zhe-pian-wen-zhang-de-lai-you">1.å†™è¿™ç¯‡æ–‡ç« çš„æ¥ç”±</h2>
<p>æœ‰ä¸€æ®µæ—¶é—´é‡Œï¼Œåšå®¢æ€»æ˜¯ä¸‰å¤©ä¸¤å¤´è¢«æ‰“ï¼Œå…¶ä¸­å°±é‡åˆ°äº†æ¶æ„åˆ·æ¥å£çš„æ‰‹æ®µï¼Œå¯¹æ–¹æ˜æ˜¾ä½¿ç”¨çš„ä»£ç IPï¼Œç”±äºåšå®¢å¹¶æ²¡æœ‰åšè¿™æ–¹é¢çš„æªæ–½ï¼ŒåŠ ä¸Šè¢«å¤§é‡ç›—åˆ·çš„æ¥å£åˆšå¥½æ˜¯æ•°æ®é‡æœ€å¤§çš„ä¸€ç¯‡æ–‡ç« æ•°æ®ï¼Œæ‰€ä»¥ä¸å‡ºæ„å¤–çš„ï¼Œåšå®¢æ²¡å¤šä¹…å°±å´©äº†ã€‚æœåŠ¡å™¨çŠ¶æ€ä¹Ÿæ˜¯å„ç§å¼‚å¸¸ã€‚æ‰€ä»¥åƒä¸€å ‘é•¿ä¸€æ™ºå§ç®—æ˜¯ï¼Œæˆ‘ä¹Ÿæ²¡æƒ³åˆ°<strong>é¢å¯¹</strong>ä¸€ä¸ªä¸ªäººå°ç ´ç«™ï¼Œ<strong>å¯¹é¢</strong>ä¹Ÿæ˜¯é¥¥ä¸æ‹©é£Ÿâ€¦.çœŸ<strong>å¤§é»‘å®¢</strong>å•Šå…„å¼Ÿä»¬ï¼ï¼ï¼</p>
<p><img src="https://images.waer.ltd/img/ERROR.jpg" alt="ERROR" loading="lazy" decoding="async" /></p>
<hr />
<h2 id="">2.æ¥å£é™æµçš„å¸¸è§æ‰‹æ®µ</h2>
<p>â€‹	ç°åœ¨æ¥è¯´ï¼Œåšé™æµçš„å„ç§æ–¹æ¡ˆå…¶å®å·²ç»ç›¸å¯¹å¾ˆæˆç†Ÿäº†ï¼Œè¿™é‡Œä¹Ÿæ˜¯å¤§è‡´åˆ—ä¸¾äº†å‡ ç§å¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œä½†ä¸ä¼šå…¨éƒ¨éƒ½ç»†è¯´ã€‚</p>
<p>æ¯•ç«Ÿå¾ˆå¤šéƒ½è¿˜æ˜¯è‡ªå·±æ²¡æœ‰å®é™…ä½¿ç”¨è¿‡çš„ï¼Œå…‰æç†è®ºæ˜¯æ²¡ä»€ä¹ˆæ„ä¹‰çš„ï¼Œæ‰€ä»¥åç»­æœ‰æ—¶é—´æ‰“ç®—ä¸€ä¸ªä¸ªæªå‡ºæ¥ç»†æï¼Œèµ·ç å¾—åˆ°ç”¨è¿‡äº†å†å†™ç¯‡æ–‡ç« æ€»ç»“ä¸€ä¸‹å§ã€‚</p>
<blockquote>
<p>Javaä¸­å¸¸ç”¨çš„é™æµè§£å†³æ–¹æ¡ˆ:</p>
</blockquote>
<ul>
<li><strong>è®¡æ•°å™¨</strong></li>
<li>æ»‘åŠ¨çª—å£</li>
<li>æ¼æ¡¶</li>
<li>ä»¤ç‰Œæ¡¶</li>
<li><code>Redis+Lua</code>åˆ†å¸ƒå¼é™æµ</li>
</ul>
<p>ç”±äºæˆ‘åšå®¢é‡‡ç”¨çš„å°±æ˜¯è®¡æ•°å™¨æ–¹æ¡ˆï¼Œæ‰€ä»¥è¿™é‡Œä¸»è¦è®°å½•ä¸€ä¸‹æ•´ä¸ªå¤§è‡´çš„é™æµåŸç†ä»¥åŠå®è·µè¿‡ç¨‹ã€‚</p>
<p>ä¸Šé¢å‡ ç§æ–¹æ¡ˆä¸­ï¼Œè®¡æ•°å™¨ç®—æ˜¯æœ€ç®€å•çš„é™æµç®—æ³•äº†ã€‚åŸç†å°±æ˜¯åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…ï¼Œå¯¹æ¥å£çš„è¯·æ±‚æ¬¡æ•°è¿›è¡Œé™åˆ¶ï¼Œå…·ä½“åˆ°æˆ‘çš„åšå®¢ä¸ºä¾‹ï¼Œæˆ‘æ˜¯é’ˆå¯¹æ¯ä¸ª<code>IP</code>è¿›è¡Œçš„è¯·æ±‚é™åˆ¶ï¼Œå¯¹è¯·æ±‚è¿›è¡Œè®¡æ•°ï¼Œåˆ¤æ–­è¯·æ±‚æ•°é‡ä¸é˜ˆå€¼çš„æƒ…å†µï¼Œå†³å®šæ˜¯å¦éœ€è¦é™æµï¼Œæ¯ä¸ª<code>IP</code>è§¦å‘é™æµä¹‹åä¼šæœ‰ä¸€å®šçš„æ—¶é—´å‘¨æœŸï¼Œè®¡æ•°å™¨åˆ°æ—¶æ¸…é›¶å³å¯ã€‚</p>
<p>è¿™å°±æ˜¯è®¡æ•°å™¨é™æµåŸºæœ¬çš„åŸç†ã€‚å…·ä½“çš„å®ç°ä¸Šï¼Œæˆ‘é€‰ç”¨äº†<code>Redis</code>ä½œä¸ºäº†è®¡æ•°é™æµçš„ä¸­é—´ä»¶ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼Œè¿™æ˜¯<code>Redis+</code>è®¡æ•°å™¨çš„ä¸€ç§å®ç°æ–¹å¼ã€‚å…·ä½“æ‰§è¡Œçš„é€»è¾‘å¦‚ä¸‹:</p>
<blockquote>
<ul>
<li>è®¾ç½®å¥½è®¡æ•°å™¨<code>count</code>ï¼Œæ¯è¿‡ä¸€æ¬¡è¯·æ±‚è®¡æ•°å™¨å°±<code>+1</code>ï¼ŒåŒæ—¶è®°å½•å¯¹åº”çš„è¯·æ±‚<code>IP</code>ï¼›</li>
<li>å½“ä¸‹ä¸€ä¸ªè¯·æ±‚åˆ°æ¥ä¹‹é™…ï¼Œé¦–å…ˆé€šè¿‡<code>IP</code>åˆ¤æ–­å¯¹åº”çš„è®¡æ•°å™¨æ˜¯å¦è¾¾åˆ°äº†é™æµçš„é¢‘æ¬¡ï¼Œä»¥åŠæœ¬æ¬¡è¯·æ±‚æ˜¯å¦è¿˜åœ¨è®¾å®šçš„è¯·æ±‚å‘¨æœŸå†…ï¼›</li>
<li>å¦‚æœè¯·æ±‚å·²è§¦å‘é™æµé˜ˆå€¼ï¼Œåˆ™é’ˆå¯¹è¯¥<code>IP</code>å¼€å¯é™æµï¼Œåé¢çš„æ‰€æœ‰è¯·æ±‚å‡ç›´æ¥æ‹’ç»ã€‚</li>
<li>å½“è¢«é™æµ<code>IP</code>è¾¾åˆ°æ—¶é—´å‘¨æœŸæ»¡ä¹‹åï¼Œå°†<code>count</code>é‡ç½®ï¼Œè®¡æ•°å™¨è¿›å…¥ä¸‹ä¸€è½®çš„å°±ç»ªçŠ¶æ€ã€‚</li>
</ul>
</blockquote>
<p>åŸç†ä¹Ÿæ˜¯è›®ç®€å•çš„ï¼Œæˆ‘ä¹Ÿæ˜¯è›®å–œæ¬¢è¿™ç§æ–¹å¼çš„(<strong>åºŠè¨€åºŠè¯­</strong>ğŸ˜€ï¼‰ã€‚ä¸‹é¢å¼€å§‹å…·ä½“çš„å®æ“éƒ¨åˆ†ã€‚</p>
<hr />
<h2 id="-1">3.è®¡æ•°å™¨é™æµå®è·µ</h2>
<p>é¦–å…ˆç¡®å®šå®ç°çš„å…·ä½“æ–¹æ¡ˆï¼Œä¸Šé¢è¯´äº†ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯<code>Redis</code>ä½œä¸ºé™æµè®¡æ•°å™¨çš„è®°å½•ä»¥åŠé™æµçŠ¶æ€çš„é‡ç½®ç­‰æ“ä½œã€‚å…·ä½“é™æµçš„é€»è¾‘ç›´æ¥å†™ä»¥<code>Java</code>å¸¦ä»£ç å†™åœ¨äº†é¡¹ç›®ä¸šåŠ¡ä¸­ã€‚</p>
<p>ç‰¹åˆ«çš„ï¼Œç”±äºæ˜¯é€šè¿‡<code>IP</code>æ¥é™æµçš„ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦ç”¨å¤§çš„å‡ ä¸ªå¤„ç†<code>IP</code>åœ°å€çš„å·¥å…·ç±»å°±å…ˆè´´å‡ºæ¥ã€‚</p>
<blockquote>
<p>ä¸ªäººä¹ æƒ¯ï¼Œæˆ‘è´´ä»£ç ä¼šå°†æ‰€æœ‰<code>import</code>çš„åŒ…éƒ½ä¸€èµ·è´´è¿›æ¥ï¼Œè¿™æ ·æ˜¯æ–¹ä¾¿åç»­å›é¡¾æˆ–è€…å­¦ä¹ çš„æ—¶å€™å¤„ç†ä¸€äº›åŒ…çš„é—®é¢˜ï¼Œä¹‹å‰å°±é‡åˆ°è¿‡å¾ˆå¤šç±»ä¼¼çš„é—®é¢˜(å¯èƒ½å¯¹å°ç™½ä¸å¤ªå‹å¥½)ï¼Œä»£ç æ˜¯æœ‰äº†ï¼Œç»“æœåœ¨å¯¼åŒ…çš„æ—¶å€™è¦ä¹ˆæ˜¯å¯¹ç”¨åˆ°çš„å“ªäº›åŒ…ä¸æ˜æ‰€ä»¥ï¼Œè¦ä¹ˆæ˜¯åŒåçš„åŒ…è¿‡å¤šï¼Œä¸çŸ¥é“æ€ä¹ˆé€‰æ‹©ã€‚</p>
</blockquote>
<h3 id="-2">3.1 IPå·¥å…·ç±»</h3>
<pre data-lang="java" style="background-color:#2b303b;color:#c0c5ce;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#b48ead;">import </span><span>eu.bitwalker.useragentutils.</span><span style="color:#ebcb8b;">UserAgent</span><span>;
</span><span style="color:#b48ead;">import </span><span>lombok.extern.slf4j.</span><span style="color:#ebcb8b;">Slf4j</span><span>;
</span><span style="color:#b48ead;">import </span><span>org.apache.commons.lang3.</span><span style="color:#ebcb8b;">StringUtils</span><span>;
</span><span style="color:#b48ead;">import </span><span>org.lionsoul.ip2region.</span><span style="color:#ebcb8b;">DataBlock</span><span>;
</span><span style="color:#b48ead;">import </span><span>org.lionsoul.ip2region.</span><span style="color:#ebcb8b;">DbConfig</span><span>;
</span><span style="color:#b48ead;">import </span><span>org.lionsoul.ip2region.</span><span style="color:#ebcb8b;">DbSearcher</span><span>;
</span><span style="color:#b48ead;">import </span><span>org.lionsoul.ip2region.</span><span style="color:#ebcb8b;">Util</span><span>;
</span><span style="color:#b48ead;">import </span><span>org.springframework.core.io.</span><span style="color:#ebcb8b;">ClassPathResource</span><span>;
</span><span style="color:#b48ead;">import </span><span>org.springframework.stereotype.</span><span style="color:#ebcb8b;">Component</span><span>;
</span><span style="color:#b48ead;">import </span><span>org.springframework.util.</span><span style="color:#ebcb8b;">FileCopyUtils</span><span>;
</span><span style="color:#b48ead;">import </span><span>javax.annotation.</span><span style="color:#ebcb8b;">PostConstruct</span><span>;
</span><span style="color:#b48ead;">import </span><span>javax.servlet.http.</span><span style="color:#ebcb8b;">HttpServletRequest</span><span>;
</span><span style="color:#b48ead;">import </span><span>java.io.</span><span style="color:#ebcb8b;">InputStream</span><span>;
</span><span style="color:#b48ead;">import </span><span>java.lang.reflect.</span><span style="color:#ebcb8b;">Method</span><span>;
</span><span style="color:#b48ead;">import </span><span>java.net.</span><span style="color:#ebcb8b;">InetAddress</span><span>;
</span><span style="color:#b48ead;">import </span><span>java.net.</span><span style="color:#ebcb8b;">UnknownHostException</span><span>;
</span><span>
</span><span>
</span><span>@</span><span style="color:#bf616a;">Slf4j
</span><span>@</span><span style="color:#bf616a;">Component
</span><span style="color:#b48ead;">public class </span><span style="color:#ebcb8b;">IpUtils </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    
</span><span style="color:#eff1f5;">    
</span><span style="color:#eff1f5;">    </span><span style="color:#65737e;">/**
</span><span style="color:#65737e;">     * è·å–ipåœ°å€
</span><span style="color:#65737e;">     */
</span><span style="color:#65737e;">    public static String getIpAddress(HttpServletRequest request) {
</span><span style="color:#65737e;">        String ipAddress = request.getHeader(&quot;X-Real-IP&quot;);
</span><span style="color:#65737e;">        if (ipAddress == null || ipAddress.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ipAddress)) {
</span><span style="color:#65737e;">            ipAddress = request.getHeader(&quot;x-forwarded-for&quot;);
</span><span style="color:#65737e;">        }
</span><span style="color:#65737e;">        if (ipAddress == null || ipAddress.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ipAddress)) {
</span><span style="color:#65737e;">            ipAddress = request.getHeader(&quot;Proxy-Client-IP&quot;);
</span><span style="color:#65737e;">        }
</span><span style="color:#65737e;">        if (ipAddress == null || ipAddress.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ipAddress)) {
</span><span style="color:#65737e;">            ipAddress = request.getHeader(&quot;WL-Proxy-Client-IP&quot;);
</span><span style="color:#65737e;">        }
</span><span style="color:#65737e;">        if (ipAddress == null || ipAddress.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ipAddress)) {
</span><span style="color:#65737e;">            ipAddress = request.getHeader(&quot;HTTP_CLIENT_IP&quot;);
</span><span style="color:#65737e;">        }
</span><span style="color:#65737e;">        if (ipAddress == null || ipAddress.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ipAddress)) {
</span><span style="color:#65737e;">            ipAddress = request.getHeader(&quot;HTTP_X_FORWARDED_FOR&quot;);
</span><span style="color:#65737e;">        }
</span><span style="color:#65737e;">        if (ipAddress == null || ipAddress.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ipAddress)) {
</span><span style="color:#65737e;">            ipAddress = request.getRemoteAddr();
</span><span style="color:#65737e;">            if (&quot;127.0.0.1&quot;.equals(ipAddress) || &quot;0:0:0:0:0:0:0:1&quot;.equals(ipAddress)) {
</span><span style="color:#65737e;">                //æ ¹æ®ç½‘å¡å–æœ¬æœºé…ç½®çš„IP
</span><span style="color:#65737e;">                InetAddress inet = null;
</span><span style="color:#65737e;">                try {
</span><span style="color:#65737e;">                    inet = InetAddress.getLocalHost();
</span><span style="color:#65737e;">                } catch (UnknownHostException e) {
</span><span style="color:#65737e;">                    log.error(&quot;getIpAddress exception:&quot;, e);
</span><span style="color:#65737e;">                }
</span><span style="color:#65737e;">                assert inet != null;
</span><span style="color:#65737e;">                ipAddress = inet.getHostAddress();
</span><span style="color:#65737e;">            }
</span><span style="color:#65737e;">        }
</span><span style="color:#65737e;">        return StringUtils.substringBefore(ipAddress, &quot;,&quot;);
</span><span style="color:#65737e;">    }
</span><span style="color:#65737e;">
</span><span style="color:#65737e;">    private static DbSearcher searcher;
</span><span style="color:#65737e;">    private static Method method;
</span><span style="color:#65737e;">
</span><span style="color:#65737e;">    /**
</span><span style="color:#65737e;">     * åœ¨æœåŠ¡å¯åŠ¨æ—¶åŠ è½½ ip2region.db åˆ°å†…å­˜ä¸­
</span><span style="color:#65737e;">     */
</span><span style="color:#65737e;">    @PostConstruct
</span><span style="color:#65737e;">    private void initIp2regionResource() throws Exception {
</span><span style="color:#65737e;">        InputStream inputStream = new ClassPathResource(&quot;/ip/ip2region.db&quot;).getInputStream();
</span><span style="color:#65737e;">        //å°† ip2region.db è½¬ä¸º ByteArray
</span><span style="color:#65737e;">        byte[] dbBinStr = FileCopyUtils.copyToByteArray(inputStream);
</span><span style="color:#65737e;">        DbConfig dbConfig = new DbConfig();
</span><span style="color:#65737e;">        searcher = new DbSearcher(dbConfig, dbBinStr);
</span><span style="color:#65737e;">        //äºŒè¿›åˆ¶æ–¹å¼åˆå§‹åŒ– DBSearcherï¼Œéœ€è¦ä½¿ç”¨åŸºäºå†…å­˜çš„æŸ¥æ‰¾ç®—æ³• memorySearch
</span><span style="color:#65737e;">        method = searcher.getClass().getMethod(&quot;memorySearch&quot;, String.class);
</span><span style="color:#65737e;">    }
</span><span style="color:#65737e;">
</span><span style="color:#65737e;">    /**
</span><span style="color:#65737e;">     * è·å–ipåœ°å€çš„å½’å±åœ°
</span><span style="color:#65737e;">     */
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public static </span><span style="color:#ebcb8b;">String </span><span style="color:#8fa1b3;">getIpSource</span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">String </span><span style="color:#bf616a;">ipAddress</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(ipAddress </span><span>== </span><span style="color:#d08770;">null </span><span>|| !</span><span style="color:#ebcb8b;">Util</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">isIpAddress</span><span style="color:#eff1f5;">(ipAddress)) {
</span><span style="color:#eff1f5;">            log.</span><span style="color:#bf616a;">error</span><span style="color:#eff1f5;">(</span><span>&quot;</span><span style="color:#a3be8c;">Error: Invalid ip address</span><span>&quot;</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">return </span><span>&quot;&quot;</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">try </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">            </span><span style="color:#ebcb8b;">DataBlock</span><span style="color:#eff1f5;"> dataBlock </span><span>= </span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">DataBlock</span><span style="color:#eff1f5;">) method.</span><span style="color:#bf616a;">invoke</span><span style="color:#eff1f5;">(searcher, ipAddress);
</span><span style="color:#eff1f5;">            </span><span style="color:#ebcb8b;">String</span><span style="color:#eff1f5;"> ipInfo </span><span>=</span><span style="color:#eff1f5;"> dataBlock.</span><span style="color:#bf616a;">getRegion</span><span style="color:#eff1f5;">();
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(</span><span>!</span><span style="color:#ebcb8b;">StringUtils</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">isEmpty</span><span style="color:#eff1f5;">(ipInfo)) {
</span><span style="color:#eff1f5;">                ipInfo </span><span>=</span><span style="color:#eff1f5;"> ipInfo.</span><span style="color:#bf616a;">replace</span><span style="color:#eff1f5;">(</span><span>&quot;</span><span style="color:#a3be8c;">|0</span><span>&quot;</span><span style="color:#eff1f5;">, </span><span>&quot;&quot;</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">                ipInfo </span><span>=</span><span style="color:#eff1f5;"> ipInfo.</span><span style="color:#bf616a;">replace</span><span style="color:#eff1f5;">(</span><span>&quot;</span><span style="color:#a3be8c;">0|</span><span>&quot;</span><span style="color:#eff1f5;">, </span><span>&quot;&quot;</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">                </span><span style="color:#b48ead;">return</span><span style="color:#eff1f5;"> ipInfo;
</span><span style="color:#eff1f5;">            }
</span><span style="color:#eff1f5;">        } </span><span style="color:#b48ead;">catch </span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">Exception </span><span style="color:#bf616a;">e</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">            log.</span><span style="color:#bf616a;">error</span><span style="color:#eff1f5;">(</span><span>&quot;</span><span style="color:#a3be8c;">getCityInfo exception:</span><span>&quot;</span><span style="color:#eff1f5;">, e);
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">return </span><span>&quot;&quot;</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public static </span><span style="color:#ebcb8b;">String </span><span style="color:#8fa1b3;">getIpProvince</span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">String </span><span style="color:#bf616a;">ipSource</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">        </span><span style="color:#ebcb8b;">String</span><span style="color:#b48ead;">[]</span><span style="color:#eff1f5;"> strings </span><span>=</span><span style="color:#eff1f5;"> ipSource.</span><span style="color:#bf616a;">split</span><span style="color:#eff1f5;">(</span><span>&quot;</span><span style="color:#96b5b4;">\\</span><span style="color:#a3be8c;">|</span><span>&quot;</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(strings[</span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">].</span><span style="color:#bf616a;">endsWith</span><span style="color:#eff1f5;">(</span><span>&quot;</span><span style="color:#a3be8c;">çœ</span><span>&quot;</span><span style="color:#eff1f5;">)) {
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">return </span><span style="color:#ebcb8b;">StringUtils</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">substringBefore</span><span style="color:#eff1f5;">(strings[</span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">], </span><span>&quot;</span><span style="color:#a3be8c;">çœ</span><span>&quot;</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">return</span><span style="color:#eff1f5;"> strings[</span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">];
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#65737e;">/**
</span><span style="color:#65737e;">     * è·å–è®¿é—®è®¾å¤‡
</span><span style="color:#65737e;">     */
</span><span style="color:#65737e;">    public static UserAgent getUserAgent(HttpServletRequest request) {
</span><span style="color:#65737e;">        return UserAgent.parseUserAgentString(request.getHeader(&quot;User-Agent&quot;));
</span><span style="color:#65737e;">    }
</span><span style="color:#65737e;">}
</span></code></pre>
<hr />
<h3 id="-3">3.2 å®šä¹‰é™æµæ³¨è§£</h3>
<p>ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©äº†æ³¨è§£çš„æ–¹å¼ï¼Œè¿™æ ·åœ¨ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦åœ¨éœ€è¦è¿›è¡Œé™æµçš„è¯·æ±‚<code>Controller</code>ä¸Šæ·»åŠ ä¸€ä¸ªæ³¨è§£å³å¯ã€‚å°±åƒè¿™æ ·:</p>
<p><img src="https://images.waer.ltd/img/image-20221229211158557.png" alt="image-20221229211158557" loading="lazy" decoding="async" /></p>
<blockquote>
<p>è‡ªå®šä¹‰çš„é™æµæ³¨è§£å…¶å®å¾ˆç®€å•ï¼Œä¸»è¦åŒ…å«é™æµçš„Keyï¼Œé™æµå‘¨æœŸä»¥åŠè¯·æ±‚è®¡æ•°å™¨ã€‚å½“ç„¶ï¼Œè¿™äº›æ•°æ®éƒ½æ˜¯å®Œå…¨å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆçº¦å®šä¿—æˆï¼Œå…·ä½“å·¥å…·è‡ªå·±çš„ä¸šåŠ¡éœ€è¦å†³å®šå°±å¥½ã€‚</p>
</blockquote>
<pre data-lang="java" style="background-color:#2b303b;color:#c0c5ce;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#b48ead;">import </span><span>java.lang.annotation.*;
</span><span style="color:#65737e;">/**
</span><span style="color:#65737e;"> * </span><span style="color:#b48ead;">@author</span><span style="color:#65737e;">: å…«å°ºå¦–å‰‘
</span><span style="color:#65737e;"> * @date: 2022/10/19 12:34
</span><span style="color:#65737e;"> * @email: ilikexff@gmail.com
</span><span style="color:#65737e;"> * @blog: https://www.waer.ltd
</span><span style="color:#65737e;"> * @Description: è‡ªå®šä¹‰æ³¨è§£:æ¥å£é™æµ
</span><span style="color:#65737e;"> */
</span><span>@</span><span style="color:#bf616a;">Documented
</span><span>@</span><span style="color:#bf616a;">Retention</span><span>(</span><span style="color:#ebcb8b;">RetentionPolicy</span><span>.</span><span style="color:#d08770;">RUNTIME</span><span>)
</span><span>@</span><span style="color:#bf616a;">Target</span><span>(</span><span style="color:#ebcb8b;">ElementType</span><span>.</span><span style="color:#d08770;">METHOD</span><span>)
</span><span style="color:#b48ead;">public @interface </span><span style="color:#ebcb8b;">RateLimit </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#65737e;">/**
</span><span style="color:#65737e;">     * é™æµçš„key
</span><span style="color:#65737e;">     */
</span><span style="color:#65737e;">    String key() default &quot;limit&quot;;
</span><span style="color:#65737e;">
</span><span style="color:#65737e;">    /**
</span><span style="color:#65737e;">     * å‘¨æœŸï¼šå•ä½ç§’
</span><span style="color:#65737e;">     * </span><span style="color:#b48ead;">@return
</span><span style="color:#65737e;">     */
</span><span style="color:#65737e;">    int cycles() default 5;
</span><span style="color:#65737e;">
</span><span style="color:#65737e;">    /**
</span><span style="color:#65737e;">     * è¯·æ±‚æ¬¡æ•°
</span><span style="color:#65737e;">     * </span><span style="color:#b48ead;">@return
</span><span style="color:#65737e;">     */
</span><span style="color:#65737e;">    int count() default 1;
</span><span style="color:#65737e;">}
</span></code></pre>
<hr />
<h3 id="-4">3.3 è‡ªå®šä¹‰æ‹¦æˆªå™¨</h3>
<blockquote>
<p>è¿™é‡Œä½¿ç”¨åˆ°äº†æ‹¦æˆªå™¨ï¼Œä¸»è¦ä½œç”¨å°±æ˜¯æ‹¦æˆªå¤„ç†æ‰€æœ‰çš„è¯·æ±‚è¿›è¡Œæ‹¦æˆªï¼Œä¸»è¦ç”¨åˆ°çš„<code>preHandle</code>æ–¹æ³•ã€‚æ‰€æœ‰çš„é™æµé€»è¾‘éƒ½åœ¨è¿™é‡Œå®ç°ã€‚æ‰€ä»¥è¿™éƒ¨åˆ†æŒºé‡è¦çš„ã€‚</p>
</blockquote>
<pre data-lang="java" style="background-color:#2b303b;color:#c0c5ce;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#65737e;">/**
</span><span style="color:#65737e;"> * </span><span style="color:#b48ead;">@author</span><span style="color:#65737e;">: å…«å°ºå¦–å‰‘
</span><span style="color:#65737e;"> * @date: 2022/10/19 12:38
</span><span style="color:#65737e;"> * @email: ilikexff@gmail.com
</span><span style="color:#65737e;"> * @blog: https://www.waer.ltd
</span><span style="color:#65737e;"> * @Description: æ‹¦æˆªå™¨:å¤„ç†æ¥å£é™æµ
</span><span style="color:#65737e;"> */
</span><span>@</span><span style="color:#bf616a;">Component
</span><span style="color:#b48ead;">public class </span><span style="color:#ebcb8b;">RateLimitInterceptor </span><span style="color:#b48ead;">implements </span><span style="color:#a3be8c;">HandlerInterceptor </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    @</span><span style="color:#bf616a;">Resource
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">private </span><span style="color:#ebcb8b;">RedisTemplate</span><span style="color:#eff1f5;">&lt;</span><span style="color:#ebcb8b;">String</span><span style="color:#eff1f5;">,</span><span style="color:#ebcb8b;">Integer</span><span style="color:#eff1f5;">&gt; redisTemplate;
</span><span style="color:#eff1f5;">    @</span><span style="color:#bf616a;">Autowired
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">private </span><span style="color:#ebcb8b;">EmailUtils </span><span style="color:#eff1f5;">emailUtils;
</span><span style="color:#eff1f5;">    @</span><span style="color:#bf616a;">Override
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public boolean </span><span style="color:#8fa1b3;">preHandle</span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">HttpServletRequest </span><span style="color:#bf616a;">request</span><span style="color:#eff1f5;">, </span><span style="color:#ebcb8b;">HttpServletResponse </span><span style="color:#bf616a;">response</span><span style="color:#eff1f5;">, </span><span style="color:#ebcb8b;">Object </span><span style="color:#bf616a;">handler</span><span style="color:#eff1f5;">) </span><span style="color:#b48ead;">throws </span><span style="color:#ebcb8b;">Exception </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">        </span><span style="color:#65737e;">// å¦‚æœè¯·æ±‚çš„æ˜¯æ–¹æ³•ï¼Œåˆ™éœ€è¦åšæ ¡éªŒ
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(handler </span><span>instanceof </span><span style="color:#ebcb8b;">HandlerMethod</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">            </span><span style="color:#ebcb8b;">HandlerMethod</span><span style="color:#eff1f5;"> handlerMethod </span><span>= </span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">HandlerMethod</span><span style="color:#eff1f5;">) handler;
</span><span style="color:#eff1f5;">            </span><span style="color:#65737e;">// è·å–ç›®æ ‡æ–¹æ³•ä¸Šæ˜¯å¦æœ‰æŒ‡å®šæ³¨è§£
</span><span style="color:#eff1f5;">            </span><span style="color:#ebcb8b;">RateLimit</span><span style="color:#eff1f5;"> rateLimit </span><span>=</span><span style="color:#eff1f5;"> handlerMethod.</span><span style="color:#bf616a;">getMethodAnnotation</span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">RateLimit</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">class</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(rateLimit </span><span>== </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">                </span><span style="color:#65737e;">//è¯´æ˜ç›®æ ‡æ–¹æ³•ä¸Šæ²¡æœ‰ RateLimit æ³¨è§£
</span><span style="color:#eff1f5;">                </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">true</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">            }
</span><span style="color:#eff1f5;">            </span><span style="color:#65737e;">// è¯´æ˜ç›®æ ‡æ–¹æ³•ä¸Šæœ‰ RateLimit æ³¨è§£ï¼Œæ‰€ä»¥éœ€è¦æ ¡éªŒè¿™ä¸ªè¯·æ±‚æ˜¯ä¸æ˜¯åœ¨åˆ·æ¥å£
</span><span style="color:#eff1f5;">            </span><span style="color:#65737e;">// è·å–è¯·æ±‚IPåœ°å€
</span><span style="color:#eff1f5;">            </span><span style="color:#ebcb8b;">String</span><span style="color:#eff1f5;"> ip </span><span>= </span><span style="color:#ebcb8b;">IpUtils</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">getIpAddress</span><span style="color:#eff1f5;">(request);
</span><span style="color:#eff1f5;">            </span><span style="color:#65737e;">// è¯·æ±‚urlè·¯å¾„
</span><span style="color:#eff1f5;">            </span><span style="color:#ebcb8b;">String</span><span style="color:#eff1f5;"> uri </span><span>=</span><span style="color:#eff1f5;"> request.</span><span style="color:#bf616a;">getRequestURI</span><span style="color:#eff1f5;">();
</span><span style="color:#eff1f5;">            </span><span style="color:#65737e;">//å­˜åˆ°redisä¸­çš„key
</span><span style="color:#eff1f5;">            </span><span style="color:#ebcb8b;">String</span><span style="color:#eff1f5;"> key </span><span>= &quot;</span><span style="color:#a3be8c;">RateLimit:</span><span>&quot; +</span><span style="color:#eff1f5;"> ip </span><span>+ &quot;</span><span style="color:#a3be8c;">:</span><span>&quot; +</span><span style="color:#eff1f5;"> uri;
</span><span style="color:#eff1f5;">            </span><span style="color:#65737e;">// ç¼“å­˜ä¸­å­˜åœ¨keyï¼Œåœ¨é™å®šè®¿é—®å‘¨æœŸå†…å·²ç»è°ƒç”¨è¿‡å½“å‰æ¥å£
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(redisTemplate.</span><span style="color:#bf616a;">hasKey</span><span style="color:#eff1f5;">(key)) {
</span><span style="color:#eff1f5;">                </span><span style="color:#65737e;">// è®¿é—®æ¬¡æ•°è‡ªå¢1
</span><span style="color:#eff1f5;">                redisTemplate.</span><span style="color:#bf616a;">opsForValue</span><span style="color:#eff1f5;">().</span><span style="color:#bf616a;">increment</span><span style="color:#eff1f5;">(key, </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">                </span><span style="color:#ebcb8b;">Integer</span><span style="color:#eff1f5;"> count </span><span>=</span><span style="color:#eff1f5;"> redisTemplate.</span><span style="color:#bf616a;">opsForValue</span><span style="color:#eff1f5;">().</span><span style="color:#bf616a;">get</span><span style="color:#eff1f5;">(key);
</span><span style="color:#eff1f5;">                </span><span style="color:#65737e;">// è¶…å‡ºè®¿é—®æ¬¡æ•°é™åˆ¶
</span><span style="color:#eff1f5;">                </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(count </span><span>&gt;</span><span style="color:#eff1f5;"> rateLimit.</span><span style="color:#bf616a;">count</span><span style="color:#eff1f5;">()) {
</span><span style="color:#eff1f5;">                    </span><span style="color:#ebcb8b;">String</span><span style="color:#eff1f5;"> from </span><span>= </span><span style="color:#ebcb8b;">IpUtils</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">getIpSource</span><span style="color:#eff1f5;">(ip);
</span><span style="color:#eff1f5;">                    </span><span style="color:#ebcb8b;">EmailDTO</span><span style="color:#eff1f5;"> emailDTO </span><span>= </span><span style="color:#bf616a;">SendEmailForRateLimit</span><span style="color:#eff1f5;">(ip,uri,from);
</span><span style="color:#eff1f5;">                    </span><span style="color:#ebcb8b;">CompletableFuture</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">supplyAsync</span><span style="color:#eff1f5;">(()</span><span style="color:#b48ead;">-&gt;</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">                        </span><span style="color:#b48ead;">return</span><span style="color:#eff1f5;"> count</span><span>==</span><span style="color:#d08770;">50 </span><span>? </span><span style="color:#d08770;">true </span><span>: </span><span style="color:#d08770;">false</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">                    }).</span><span style="color:#bf616a;">thenApplyAsync</span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">num</span><span style="color:#b48ead;">-&gt;</span><span style="color:#ebcb8b;">CompletableFuture</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">supplyAsync</span><span style="color:#eff1f5;">(() </span><span style="color:#b48ead;">-&gt; </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">                        </span><span style="color:#65737e;">//System.out.println(&quot;num:&quot; + num);
</span><span style="color:#eff1f5;">                        </span><span style="color:#b48ead;">if</span><span style="color:#eff1f5;">(num) {
</span><span style="color:#eff1f5;">                            emailUtils.</span><span style="color:#bf616a;">sendHtmlMail</span><span style="color:#eff1f5;">(emailDTO);
</span><span style="color:#eff1f5;">                        }
</span><span style="color:#eff1f5;">                        </span><span style="color:#b48ead;">return </span><span>&quot;</span><span style="color:#a3be8c;">é‚®ä»¶å‘é€å®Œæˆ</span><span>&quot;</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">                    }));
</span><span style="color:#eff1f5;">                    </span><span style="color:#b48ead;">throw  new </span><span style="color:#ebcb8b;">BizException</span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">StatusCodeEnum</span><span style="color:#eff1f5;">.</span><span style="color:#d08770;">RATE_LIMIT_REQUEST</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">                }
</span><span style="color:#eff1f5;">                </span><span style="color:#65737e;">// æœªè¶…å‡ºè®¿é—®æ¬¡æ•°é™åˆ¶ï¼Œä¸è¿›è¡Œä»»ä½•æ“ä½œï¼Œè¿”å›true
</span><span style="color:#eff1f5;">            } </span><span style="color:#b48ead;">else </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">                </span><span style="color:#65737e;">// ç¬¬ä¸€æ¬¡è®¾ç½®æ•°æ®,è¿‡æœŸæ—¶é—´ä¸ºæ³¨è§£ç¡®å®šçš„è®¿é—®å‘¨æœŸ
</span><span style="color:#eff1f5;">                redisTemplate.</span><span style="color:#bf616a;">opsForValue</span><span style="color:#eff1f5;">().</span><span style="color:#bf616a;">set</span><span style="color:#eff1f5;">(key, </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">, rateLimit.</span><span style="color:#bf616a;">cycles</span><span style="color:#eff1f5;">(), </span><span style="color:#ebcb8b;">TimeUnit</span><span style="color:#eff1f5;">.</span><span style="color:#d08770;">SECONDS</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">            }
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">true</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">        </span><span style="color:#65737e;">//å¦‚æœè¯·æ±‚çš„ä¸æ˜¯æ–¹æ³•ï¼Œç›´æ¥æ”¾è¡Œ
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">true</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">    }
</span></code></pre>
<blockquote>
<p>ä»£ç ä¸­å·²ç»å†™äº†è¯¦ç»†çš„æ³¨é‡Šï¼Œæ‰€ä»¥å°±ä¸å†å…·ä½“å±•å¼€ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…¶ä¸­æ¶‰åŠåˆ°é‚®ä»¶å‘é€çš„éƒ¨åˆ†æ˜¯æˆ‘è‡ªå·±å¢åŠ çš„ä¸€ä¸ªå®‰å…¨æé†’çš„éƒ¨åˆ†é€»è¾‘ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†å¯ä»¥å¿½ç•¥æ‰ï¼Œä¸ç®—åœ¨é™æµé€»è¾‘ä¸­ä¹Ÿæ˜¯æ²¡æœ‰ä»»ä½•æ¯›ç—…çš„ã€‚</p>
</blockquote>
<hr />
<h2 id="-5">4.å®é™…ä½¿ç”¨ä¹‹åçš„æ•ˆæœ</h2>
<p>åˆ°è¿™ä¸€æ­¥ï¼Œæ‰€æœ‰çš„å·¥ä½œéƒ½å®Œæˆäº†ï¼Œå‰é¢ä¹Ÿæåˆ°è¿‡ä½¿ç”¨æ˜¯éå¸¸ç®€å•çš„ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¦è¿›è¡Œé™æµçš„è¯·æ±‚æ–¹æ³•ä¸ŠåŠ ä¸Šæ³¨è§£<code>@RateLimit(cycles = 125,count = 3)</code>å³å¯ï¼Œè‡³äºæ‹¬å·å†…çš„é™æµå‚æ•°ï¼Œé‚£å°±æ ¹æ®è‡ªå·±çš„éœ€æ±‚è®¾ç½®äº†ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œå†™çš„å°±æ˜¯125ç§’å†…åŒä¸€ä¸ªIPåªèƒ½è¿›è¡Œ3æ¬¡è¯·æ±‚ï¼Œå¦åˆ™å°±ä¼šè§¦å‘é™æµï¼Œè¯·æ±‚æ‹’ç»ã€‚</p>
<p><strong>æ­£å¸¸è¯·æ±‚</strong></p>
<p><img src="https://images.waer.ltd/img/image-20221229214108308.png" alt="image-20221229214108308" loading="lazy" decoding="async" /></p>
<p><strong>è¯·æ±‚é™æµ</strong></p>
<p><img src="https://images.waer.ltd/img/image-20221229214200435.png" alt="image-20221229214200435" loading="lazy" decoding="async" /></p>
<p><strong>Redisä¸­è®°å½•çš„æ•°æ®</strong></p>
<p><img src="https://images.waer.ltd/img/image-20221229214335152.png" alt="image-20221229214335152" loading="lazy" decoding="async" /></p>
<blockquote>
<p>æ³¨æ„ï¼Œé™æµè§¦å‘çš„æç¤ºä¿¡æ¯å»ºè®®è‡ªå·±å†™ä¸€ä¸ªï¼Œæˆ‘æ‰¿è®¤ï¼Œæˆ‘è‡ªå·±è¿™ä¸ªæç¤ºç¡®å®ä¸å¤ªå‹å¥½ï¼Œè¿™ä¸»è¦æ˜¯å½“æ—¶è¢«å¯¹é¢æé‚£ä¹ˆä¸€å‡ºï¼Œå°±å¾ˆæ°”äººï¼Œæ‰€ä»¥åœ¨è¯­è¨€æç¤ºä¸Šå°±æœ‰äº›ä¸å¤Ÿå‹å¥½ï¼Œå¦‚æœéœ€è¦è‡ªå®šä¹‰ï¼Œåªéœ€è¦ä¿®æ”¹ä¸‹é¢çš„å¸¸é‡æ•°æ®å°±å¯ã€‚</p>
</blockquote>
<p><img src="https://images.waer.ltd/img/image-20221229212951790.png" alt="image-20221229212951790" loading="lazy" decoding="async" /></p>
<hr />
<h2 id="-6">5.å…³äºè®¡æ•°å™¨é™æµæ–¹æ¡ˆçš„ä¸€äº›æ€»ç»“</h2>
<p>é€šè¿‡ä¸Šé¢ä¸€æ³¢æ¹¿æ»‘æ“ä½œï¼Œæˆ‘ä»¬å·²ç»ä»¥é€šè¿‡è®¡æ•°å™¨è¿™ç§æ–¹å¼å…·ä½“åº”ç”¨åˆ°äº†å®é™…çš„é¡¹ç›®ä¸­ï¼Œä½†è¿™å¹¶ä¸æ˜¯æ•…äº‹çš„ç»“æŸï¼Œæ¯ä¸€ç§æ–¹æ³•éƒ½æœ‰å®ƒç‹¬åˆ°çš„ä¼˜åŠ¿ï¼Œè‡ªç„¶ä¹Ÿä¼šæœ‰è‡ªå·±çš„ä¸è¶³ï¼Œå¯¹äºè®¡æ•°å™¨å®ç°çš„é™æµæ–¹æ¡ˆï¼Œå…¶å®è¿˜æ˜¯æœ‰ä¸å°‘é—®é¢˜çš„ã€‚</p>
<p>è€ƒè™‘ä¸‹é¢è¿™ç§æƒ…å†µ:</p>
<blockquote>
<p>â€‹	å‡è®¾å¯¹äºæŸä¸€äº›æ¥å£çš„éœ€æ±‚æ˜¯æ¯åˆ†é’Ÿå…è®¸çš„è¯·æ±‚ä¸Šé™æ˜¯100æ¬¡ï¼Œå¦‚æœæŸç”¨æˆ·åœ¨æœ€åé‚£ç¬¬59ç§’æœ€åå‡ æ¯«ç§’ç¬é—´ç›´æ¥ç»™ä½ æ¥100ä¸ªè¯·æ±‚ï¼Œå½“è¿™ä¸€ç§’ç»“æŸä¹‹åï¼Œè®¡æ•°å™¨å®Œæˆæ¸…é›¶å·¥ä½œï¼Œæ­¤æ—¶è¯¥ç”¨æˆ·åœ¨ä¸‹ä¸€ç§’çš„æ—¶å€™åˆç»™ä½ æ•´100ä¸ªè¯·æ±‚è¿‡æ¥ï¼Œå•ªä¸€ä¸‹å°±è¿‡æ¥äº†ï¼Œå¾ˆå¿«å•Šï¼Œé‚£ä¹ˆ1ç§’å†…è¿™ä¸ªå¾ˆçš®çš„ç”¨æˆ·å°±å‘é€äº†2å€çš„è¯·æ±‚ï¼Œæ˜¾ç„¶åœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œä¸€åˆ‡ä¹Ÿéƒ½æ˜¯ç¬¦åˆè®¡æ•°å™¨é™æµåŸç†çš„ã€‚</p>
<p>â€‹	è¿™å°±æ˜¯è¯¥æ–¹æ³•çš„ç¼ºé™·(<strong>ä¸èƒ½å¾ˆå¥½çš„å¤„ç†æ—¶é—´å•ä½çš„è¾¹ç•Œ</strong>)ï¼Œè¿™ç§æƒ…å†µçš„å­˜åœ¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿä¸€ä¸å°å¿ƒå°±æ‰¿å—äº†å¤ªå¤šï¼Œç”šè‡³å‡»ç©¿ç³»ç»Ÿï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¿˜æœ‰å…¶ä»–å‡ ç§æ–¹æ¡ˆçš„åŸå› ä¹‹ä¸€ã€‚</p>
</blockquote>
<p>è‡³æ­¤å°±å®Œæˆäº†ä¸€æ¬¡æ¥å£é™æµçš„æ“ä½œå®è·µã€‚æœ€åï¼Œ<strong>çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…å•Šå“¥</strong>ï¼</p>

        </div>
      </div>
      <div class="prompt" id="terminal"><input
    type="text"
    id="setter"
    onkeydown="writeit(this, event);moveIt(this.value.length, event)"
    onchange="writeit(this, event)"
    onkeyup="writeit(this, event)"
    onkeypress="writeit(this, event);"
    >
<label for="setter" id="writer"> </label><b class="cursor" id="cursor"></b></div>
      <footer class="footer">
        <div class="footer-content">
          <p class="icp-info">
            <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer">é»”ICPå¤‡2021010295å·</a>
          </p>
        </div>
      </footer>
    </main>
  </body>

</html>
